{
  "manifest": {
    "name": "watchpack",
    "version": "2.5.1",
    "description": "Wrapper library for directory and file watching.",
    "homepage": "https://github.com/webpack/watchpack",
    "bugs": {
      "url": "https://github.com/webpack/watchpack/issues"
    },
    "repository": {
      "type": "git",
      "url": "https://github.com/webpack/watchpack.git"
    },
    "license": "MIT",
    "author": {
      "name": "Tobias Koppers @sokra"
    },
    "main": "lib/index.js",
    "types": "types/index.js",
    "files": [
      "lib/",
      "types/"
    ],
    "scripts": {
      "lint": "npm run lint:code && npm run lint:types && npm run lint:types-test && npm run lint:declarations && npm run fmt:check",
      "lint:code": "eslint --cache .",
      "lint:types": "tsc",
      "lint:types-test": "tsc -p tsconfig.types.test.json",
      "lint:declarations": "npm run fix:declarations && git diff --exit-code ./types",
      "fix": "npm run fix:code && npm run fix:declarations",
      "fix:code": "npm run lint:code -- --fix",
      "fix:declarations": "tsc --noEmit false --declaration --emitDeclarationOnly --outDir types && npm run fmt -- ./types",
      "fmt": "npm run fmt:base -- --log-level warn --write",
      "fmt:check": "npm run fmt:base -- --check",
      "fmt:base": "prettier --cache --ignore-unknown .",
      "pretest": "npm run lint",
      "test": "npm run test:coverage",
      "test:base": "jest --runInBand",
      "test:only": "npm run test:base",
      "test:watch": "npm run test:base -- --watch",
      "test:coverage": "npm run test:base -- --collectCoverageFrom=\"lib/**/*.js\" --coverage"
    },
    "dependencies": {
      "glob-to-regexp": "^0.4.1",
      "graceful-fs": "^4.1.2"
    },
    "devDependencies": {
      "@eslint/js": "^9.28.0",
      "@eslint/markdown": "^7.5.1",
      "@stylistic/eslint-plugin": "^5.6.1",
      "@types/glob-to-regexp": "^0.4.4",
      "@types/graceful-fs": "^4.1.9",
      "@types/jest": "^27.5.1",
      "@types/node": "^24.10.4",
      "eslint": "^9.39.2",
      "eslint-config-prettier": "^10.1.8",
      "eslint-config-webpack": "^4.7.3",
      "eslint-plugin-import": "^2.32.0",
      "eslint-plugin-jest": "^29.5.0",
      "eslint-plugin-jsdoc": "^61.5.0",
      "eslint-plugin-n": "^17.23.1",
      "eslint-plugin-prettier": "^5.5.4",
      "eslint-plugin-unicorn": "^62.0.0",
      "globals": "^16.5.0",
      "jest": "^27.5.1",
      "prettier": "^3.7.4",
      "rimraf": "^2.6.2",
      "typescript": "^5.9.3",
      "write-file-atomic": "^3.0.1"
    },
    "engines": {
      "node": ">=10.13.0"
    },
    "_registry": "npm",
    "_loc": "/home/dev/api_maker/.yarn-cache/v6/npm-watchpack-2.5.1-dd38b601f669e0cbf567cb802e75cead82cde102-integrity/node_modules/watchpack/package.json",
    "readmeFilename": "README.md",
    "readme": "# watchpack\n\nWrapper library for directory and file watching.\n\n[![Test](https://github.com/webpack/watchpack/actions/workflows/test.yml/badge.svg)](https://github.com/webpack/watchpack/actions/workflows/test.yml)\n[![Codecov](https://codecov.io/gh/webpack/watchpack/graph/badge.svg?token=8xk2OrrxWm)](https://codecov.io/gh/webpack/watchpack)\n[![Downloads](https://img.shields.io/npm/dm/watchpack.svg)](https://www.npmjs.com/package/watchpack)\n\n## Concept\n\nwatchpack high level API doesn't map directly to watchers. Instead a three level architecture ensures that for each directory only a single watcher exists.\n\n- The high level API requests `DirectoryWatchers` from a `WatcherManager`, which ensures that only a single `DirectoryWatcher` per directory is created.\n- A user-faced `Watcher` can be obtained from a `DirectoryWatcher` and provides a filtered view on the `DirectoryWatcher`.\n- Reference-counting is used on the `DirectoryWatcher` and `Watcher` to decide when to close them.\n- The real watchers are created by the `DirectoryWatcher`.\n- Files are never watched directly. This should keep the watcher count low.\n- Watching can be started in the past. This way watching can start after file reading.\n- Symlinks are not followed, instead the symlink is watched.\n\n## API\n\n```javascript\nconst Watchpack = require(\"watchpack\");\n\nconst wp = new Watchpack({\n\t// options:\n\taggregateTimeout: 1000,\n\t// fire \"aggregated\" event when after a change for 1000ms no additional change occurred\n\t// aggregated defaults to undefined, which doesn't fire an \"aggregated\" event\n\n\tpoll: true,\n\t// poll: true - use polling with the default interval\n\t// poll: 10000 - use polling with an interval of 10s\n\t// poll defaults to undefined, which prefer native watching methods\n\t// Note: enable polling when watching on a network path\n\t// When WATCHPACK_POLLING environment variable is set it will override this option\n\n\tfollowSymlinks: true,\n\t// true: follows symlinks and watches symlinks and real files\n\t//   (This makes sense when symlinks has not been resolved yet, comes with a performance hit)\n\t// false (default): watches only specified item they may be real files or symlinks\n\t//   (This makes sense when symlinks has already been resolved)\n\n\tignored: \"**/.git\",\n\t// ignored: \"string\" - a glob pattern for files or folders that should not be watched\n\t// ignored: [\"string\", \"string\"] - multiple glob patterns that should be ignored\n\t// ignored: /regexp/ - a regular expression for files or folders that should not be watched\n\t// ignored: (entry) => boolean - an arbitrary function which must return truthy to ignore an entry\n\t// For all cases expect the arbitrary function the path will have path separator normalized to '/'.\n\t// All subdirectories are ignored too\n});\n\n// Watchpack.prototype.watch({\n//   files: Iterable<string>,\n//   directories: Iterable<string>,\n//   missing: Iterable<string>,\n//   startTime?: number\n// })\nwp.watch({\n\tfiles: listOfFiles,\n\tdirectories: listOfDirectories,\n\tmissing: listOfNotExistingItems,\n\tstartTime: Date.now() - 10000,\n});\n// starts watching these files and directories\n// calling this again will override the files and directories\n// files: can be files or directories, for files: content and existence changes are tracked\n//        for directories: only existence and timestamp changes are tracked\n// directories: only directories, directory content (and content of children, ...) and\n//              existence changes are tracked.\n//              assumed to exist, when directory is not found without further information a remove event is emitted\n// missing: can be files or directories,\n//          only existence changes are tracked\n//          expected to not exist, no remove event is emitted when not found initially\n// files and directories are assumed to exist, when they are not found without further information a remove event is emitted\n// missing is assumed to not exist and no remove event is emitted\n\nwp.on(\"change\", (filePath, mtime, explanation) => {\n\t// filePath: the changed file\n\t// mtime: last modified time for the changed file\n\t// explanation: textual information how this change was detected\n});\n\nwp.on(\"remove\", (filePath, explanation) => {\n\t// filePath: the removed file or directory\n\t// explanation: textual information how this change was detected\n});\n\nwp.on(\"aggregated\", (changes, removals) => {\n\t// changes: a Set of all changed files\n\t// removals: a Set of all removed files\n\t// watchpack gives up ownership on these Sets.\n});\n\n// Watchpack.prototype.pause()\nwp.pause();\n// stops emitting events, but keeps watchers open\n// next \"watch\" call can reuse the watchers\n// The watcher will keep aggregating events\n// which can be received with getAggregated()\n\n// Watchpack.prototype.close()\nwp.close();\n// stops emitting events and closes all watchers\n\n// Watchpack.prototype.getAggregated(): { changes: Set<string>, removals: Set<string> }\nconst { changes, removals } = wp.getAggregated();\n// returns the current aggregated info and removes that from the watcher\n// The next aggregated event won't include that info and will only emitted\n// when futher changes happen\n// Can also be used when paused.\n\n// Watchpack.prototype.collectTimeInfoEntries(fileInfoEntries: Map<string, Entry>, directoryInfoEntries: Map<string, Entry>)\nwp.collectTimeInfoEntries(fileInfoEntries, directoryInfoEntries);\n// collects time info objects for all known files and directories\n// this include info from files not directly watched\n// key: absolute path, value: object with { safeTime, timestamp }\n// safeTime: a point in time at which it is safe to say all changes happened before that\n// timestamp: only for files, the mtime timestamp of the file\n\n// Watchpack.prototype.getTimeInfoEntries()\nconst fileTimes = wp.getTimeInfoEntries();\n// returns a Map with all known time info objects for files and directories\n// similar to collectTimeInfoEntries but returns a single map with all entries\n\n// (deprecated)\n// Watchpack.prototype.getTimes()\nconst fileTimesOld = wp.getTimes();\n// returns an object with all known change times for files\n// this include timestamps from files not directly watched\n// key: absolute path, value: timestamp as number\n```\n",
    "licenseText": "Copyright JS Foundation and other contributors\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/watchpack/-/watchpack-2.5.1.tgz#dd38b601f669e0cbf567cb802e75cead82cde102",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/watchpack/-/watchpack-2.5.1.tgz",
    "hash": "dd38b601f669e0cbf567cb802e75cead82cde102",
    "integrity": "sha512-Zn5uXdcFNIA1+1Ei5McRd+iRzfhENPCe7LeABkJtNulSxjma+l7ltNx55BWZkRlwRnpOgHqxnjyaDgJnNXnqzg==",
    "registry": "npm",
    "packageName": "watchpack",
    "cacheIntegrity": "sha512-Zn5uXdcFNIA1+1Ei5McRd+iRzfhENPCe7LeABkJtNulSxjma+l7ltNx55BWZkRlwRnpOgHqxnjyaDgJnNXnqzg== sha1-3Ti2AfZp4Mv1Z8uALnXOrYLN4QI="
  },
  "registry": "npm",
  "hash": "dd38b601f669e0cbf567cb802e75cead82cde102"
}
class PropertyNotFoundError extends Error {
    /**
     * @param {string} message
     */
    constructor(message) {
        super(message);
        this.name = "PropertyNotFoundError";
    }
}
const fetchingObjectHandler = {
    /**
     * @param {any} receiver
     * @param {string} prop
     * @returns {any}
     */
    get(receiver, prop) {
        if (typeof receiver == "function")
            receiver = receiver();
        if (prop == "prototype")
            return receiver.prototype; // Prevent crashing from being scanned by things like Expo
        if (!(prop in receiver))
            throw new PropertyNotFoundError(`Property not found: ${prop}`);
        return Reflect.get(receiver, prop);
    },
    /**
     * @param {any} receiver
     * @param {string} prop
     * @param {any} newValue
     * @returns {boolean}
     */
    set(receiver, prop, newValue) {
        if (typeof receiver == "function")
            receiver = receiver();
        if (!(prop in receiver))
            throw new PropertyNotFoundError(`Property not found: ${prop}`);
        return Reflect.set(receiver, prop, newValue);
    }
};
const fetchingObject = (wrappedObject = {}) => new Proxy(wrappedObject, fetchingObjectHandler);
export default fetchingObject;

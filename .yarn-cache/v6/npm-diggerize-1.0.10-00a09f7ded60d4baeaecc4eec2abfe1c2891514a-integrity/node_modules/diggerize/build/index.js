/**
 * @param {any} target
 * @param {any[]} keys
 * @param {{callFunctions?: boolean, throwError?: boolean}} options
 * @returns {any}
 */
function digger(target, keys, { callFunctions, throwError }) {
    let digged = target;
    const currentPath = [];
    for (const key of keys) {
        currentPath.push(key);
        if (!(key in digged)) {
            if (throwError) {
                throw new Error(`Path didn't exist: ${currentPath.join(".")}`);
            }
            else {
                return undefined;
            }
        }
        else {
            digged = digged[key];
        }
        if (typeof digged === "function" && callFunctions) {
            digged = digged();
        }
    }
    return digged;
}
/**
 * @param {any} target
 * @param  {...any} keys
 * @returns {any}
 */
function dig(target, ...keys) {
    return digger(target, keys, { throwError: false });
}
/**
 * @param {any} target
 * @param {...any} keys
 * @returns {any}
 */
function digg(target, ...keys) {
    return digger(target, keys, { throwError: true });
}
/**
 * @param {any} target
 * @param  {...any} keys
 * @returns {any}
 */
function digs(target, ...keys) {
    const result = {};
    for (let key of keys) {
        if (!(key in target))
            throw new Error(`Target didn't contain expected key: ${key}`);
        result[key] = target[key];
    }
    return result;
}
export { dig, digg, digger, digs };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0c7QUFDSCxTQUFTLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUMsYUFBYSxFQUFFLFVBQVUsRUFBQztJQUN2RCxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUE7SUFDbkIsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFBO0lBRXRCLEtBQUssTUFBTSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDdkIsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUVyQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUNyQixJQUFJLFVBQVUsRUFBRSxDQUFDO2dCQUNmLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQ2hFLENBQUM7aUJBQU0sQ0FBQztnQkFDTixPQUFPLFNBQVMsQ0FBQTtZQUNsQixDQUFDO1FBQ0gsQ0FBQzthQUFNLENBQUM7WUFDTixNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3RCLENBQUM7UUFFRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFVBQVUsSUFBSSxhQUFhLEVBQUUsQ0FBQztZQUNsRCxNQUFNLEdBQUcsTUFBTSxFQUFFLENBQUE7UUFDbkIsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPLE1BQU0sQ0FBQTtBQUNmLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsU0FBUyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSTtJQUMxQixPQUFPLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUMsVUFBVSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUE7QUFDbEQsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFTLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJO0lBQzNCLE9BQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtBQUNqRCxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILFNBQVMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLElBQUk7SUFDM0IsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFBO0lBRWpCLEtBQUksSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQztZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLEdBQUcsRUFBRSxDQUFDLENBQUE7UUFFbkYsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUMzQixDQUFDO0lBRUQsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDO0FBRUQsT0FBTyxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcGFyYW0ge2FueX0gdGFyZ2V0XG4gKiBAcGFyYW0ge2FueVtdfSBrZXlzXG4gKiBAcGFyYW0ge3tjYWxsRnVuY3Rpb25zPzogYm9vbGVhbiwgdGhyb3dFcnJvcj86IGJvb2xlYW59fSBvcHRpb25zXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBkaWdnZXIodGFyZ2V0LCBrZXlzLCB7Y2FsbEZ1bmN0aW9ucywgdGhyb3dFcnJvcn0pIHtcbiAgbGV0IGRpZ2dlZCA9IHRhcmdldFxuICBjb25zdCBjdXJyZW50UGF0aCA9IFtdXG5cbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGN1cnJlbnRQYXRoLnB1c2goa2V5KVxuXG4gICAgaWYgKCEoa2V5IGluIGRpZ2dlZCkpIHtcbiAgICAgIGlmICh0aHJvd0Vycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUGF0aCBkaWRuJ3QgZXhpc3Q6ICR7Y3VycmVudFBhdGguam9pbihcIi5cIil9YClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGlnZ2VkID0gZGlnZ2VkW2tleV1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRpZ2dlZCA9PT0gXCJmdW5jdGlvblwiICYmIGNhbGxGdW5jdGlvbnMpIHtcbiAgICAgIGRpZ2dlZCA9IGRpZ2dlZCgpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpZ2dlZFxufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0YXJnZXRcbiAqIEBwYXJhbSAgey4uLmFueX0ga2V5c1xuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZGlnKHRhcmdldCwgLi4ua2V5cykge1xuICByZXR1cm4gZGlnZ2VyKHRhcmdldCwga2V5cywge3Rocm93RXJyb3I6IGZhbHNlfSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLmFueX0ga2V5c1xuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZGlnZyh0YXJnZXQsIC4uLmtleXMpIHtcbiAgcmV0dXJuIGRpZ2dlcih0YXJnZXQsIGtleXMsIHt0aHJvd0Vycm9yOiB0cnVlfSlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGFyZ2V0XG4gKiBAcGFyYW0gIHsuLi5hbnl9IGtleXNcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGRpZ3ModGFyZ2V0LCAuLi5rZXlzKSAge1xuICBjb25zdCByZXN1bHQgPSB7fVxuXG4gIGZvcihsZXQga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoIShrZXkgaW4gdGFyZ2V0KSkgdGhyb3cgbmV3IEVycm9yKGBUYXJnZXQgZGlkbid0IGNvbnRhaW4gZXhwZWN0ZWQga2V5OiAke2tleX1gKVxuXG4gICAgcmVzdWx0W2tleV0gPSB0YXJnZXRba2V5XVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQge2RpZywgZGlnZywgZGlnZ2VyLCBkaWdzfVxuIl19
{"version":3,"file":"on-location-changed-callback.js","sourceRoot":"","sources":["../src/on-location-changed-callback.js"],"names":[],"mappings":"AAAA,MAAM,CAAC,OAAO,OAAO,yBAAyB;IAC5C,YAAY,gBAAgB,EAAE,EAAE,EAAE,QAAQ;QACxC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;QACxB,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAA;QACxC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAA;QACZ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QAChD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IAC9C,CAAC;IAED,YAAY;QACV,IAAI,CAAC;YACH,IAAI,CAAC,QAAQ,EAAE,CAAA;QACjB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,gFAAgF;YAChF,UAAU,CAAC,GAAG,EAAE,GAAG,MAAM,KAAK,CAAA,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QACtC,CAAC;IACH,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;IACjD,CAAC;CACF","sourcesContent":["export default class OnLocationChangedCallback {\n  constructor(callbacksHandler, id, callback) {\n    this.callback = callback\n    this.callbacksHandler = callbacksHandler\n    this.id = id\n    this.callCallback = this.callCallback.bind(this)\n    this.disconnect = this.disconnect.bind(this)\n  }\n\n  callCallback() {\n    try {\n      this.callback()\n    } catch (error) {\n      // Throw error in a callback to avoid interrupting other callbacks and properly.\n      setTimeout(() => { throw error }, 0)\n    }\n  }\n\n  disconnect() {\n    delete this.callbacksHandler.callbacks[this.id]\n  }\n}\n"]}
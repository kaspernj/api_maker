import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
/* eslint-disable sort-imports */
import * as inflection from "inflection";
import { digs } from "diggerize";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import BaseComponent from "../base-component";
import InvalidFeedback from "../bootstrap/invalid-feedback";
import PropTypes from "prop-types";
import React from "react";
import classNames from "classnames"; // eslint-disable-line import/no-unresolved
import inputWrapper from "./input-wrapper";
import memo from "set-state-compare/build/memo.js";
import propTypesExact from "prop-types-exact";
const ApiMakerInputsCheckboxes = memo(shapeComponent(class ApiMakerInputsCheckboxes extends BaseComponent {
    static propTypes = propTypesExact({
        attribute: PropTypes.string,
        defaultValue: PropTypes.array,
        id: PropTypes.string,
        inputProps: PropTypes.object.isRequired,
        label: PropTypes.any,
        model: PropTypes.object,
        name: PropTypes.string,
        onChange: PropTypes.func,
        options: PropTypes.array.isRequired,
        wrapperOpts: PropTypes.object
    });
    render() {
        const { className, inputProps, label, wrapperOpts, ...restProps } = this.props;
        return (_jsxs("div", { className: classNames("component-bootstrap-check-boxes", className), ...restProps, children: [_jsx("input", { name: this.inputName(), ref: this.props.inputProps.ref, type: "hidden", value: "" }), this.props.options.map((option, index) => this.optionElement(option, index))] }));
    }
    inputDefaultValue() {
        const { attribute, defaultValue, model } = this.props;
        if (defaultValue) {
            return defaultValue;
        }
        else if (attribute && model) {
            if (!model[attribute]) {
                throw `No such attribute: ${attribute}`; // eslint-disable-line no-throw-literal
            }
            return this.props.model[attribute]();
        }
    }
    inputCheckboxClassName() {
        const classNames = [];
        if (this.props.wrapperOpts.errors.length > 0)
            classNames.push("is-invalid");
        return classNames.join(" ");
    }
    inputName() {
        if (this.props.name) {
            return `${this.props.name}[]`;
        }
        else if (this.props.model) {
            return `${this.props.model.modelClassData().paramKey}[${inflection.underscore(this.props.attribute)}]`;
        }
    }
    isDefaultSelected(option) {
        let defaultValue = this.inputDefaultValue();
        if (!defaultValue)
            return false;
        if (defaultValue.constructor === Array) {
            return defaultValue.includes(option);
        }
        else {
            return defaultValue == option;
        }
    }
    generatedId() {
        if (!this.generatedIdValue) {
            this.generatedIdValue = Math.random()
                .toString(36)
                .substring(2, 15) + Math.random()
                .toString(36)
                .substring(2, 15);
        }
        return this.generatedIdValue;
    }
    optionElement(option, index) {
        const { onChange, options, wrapperOpts } = this.props;
        const { errors } = digs(wrapperOpts, "errors");
        const id = `${this.generatedId()}-${index}`;
        return (_jsxs("div", { className: "checkboxes-option", children: [_jsx("input", { className: this.inputCheckboxClassName(), "data-option-value": option[1], defaultChecked: this.isDefaultSelected(option[1]), id: id, name: this.inputName(), onChange: onChange, type: "checkbox", value: option[1] }), _jsx("label", { className: "ml-1", htmlFor: id, children: option[0] }), index + 1 == options.length && errors.length > 0 &&
                    _jsx(InvalidFeedback, { errors: errors })] }, `option-${option[1]}`));
    }
}));
export default inputWrapper(ApiMakerInputsCheckboxes);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tib3hlcy5qcyIsInNvdXJjZVJvb3QiOiIvc3JjLyIsInNvdXJjZXMiOlsiaW5wdXRzL2NoZWNrYm94ZXMuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxpQ0FBaUM7QUFDakMsT0FBTyxLQUFLLFVBQVUsTUFBTSxZQUFZLENBQUE7QUFDeEMsT0FBTyxFQUFDLElBQUksRUFBQyxNQUFNLFdBQVcsQ0FBQTtBQUM5QixPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFDekUsT0FBTyxhQUFhLE1BQU0sbUJBQW1CLENBQUE7QUFDN0MsT0FBTyxlQUFlLE1BQU0sK0JBQStCLENBQUE7QUFDM0QsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFBO0FBQ2xDLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUN6QixPQUFPLFVBQVUsTUFBTSxZQUFZLENBQUEsQ0FBQywyQ0FBMkM7QUFDL0UsT0FBTyxZQUFZLE1BQU0saUJBQWlCLENBQUE7QUFDMUMsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxjQUFjLE1BQU0sa0JBQWtCLENBQUE7QUFFN0MsTUFBTSx3QkFBd0IsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sd0JBQXlCLFNBQVEsYUFBYTtJQUN2RyxNQUFNLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztRQUNoQyxTQUFTLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDM0IsWUFBWSxFQUFFLFNBQVMsQ0FBQyxLQUFLO1FBQzdCLEVBQUUsRUFBRSxTQUFTLENBQUMsTUFBTTtRQUNwQixVQUFVLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVO1FBQ3ZDLEtBQUssRUFBRSxTQUFTLENBQUMsR0FBRztRQUNwQixLQUFLLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDdkIsSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3RCLFFBQVEsRUFBRSxTQUFTLENBQUMsSUFBSTtRQUN4QixPQUFPLEVBQUUsU0FBUyxD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ZUFBZSxJQUFDLE1BQU0sRUFBRSxNQUFNLEdBQUksS0FqQkMsVUFBVSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FtQnZELENBQ1AsQ0FBQTtJQUNILENBQUM7Q0FDRixDQUFDLENBQUMsQ0FBQTtBQUVILGVBQWUsWUFBWSxDQUFDLHdCQUF3QixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBzb3J0LWltcG9ydHMgKi9cbmltcG9ydCAqIGFzIGluZmxlY3Rpb24gZnJvbSBcImluZmxlY3Rpb25cIlxuaW1wb3J0IHtkaWdzfSBmcm9tIFwiZGlnZ2VyaXplXCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uL2Jhc2UtY29tcG9uZW50XCJcbmltcG9ydCBJbnZhbGlkRmVlZGJhY2sgZnJvbSBcIi4uL2Jvb3RzdHJhcC9pbnZhbGlkLWZlZWRiYWNrXCJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L25vLXVucmVzb2x2ZWRcbmltcG9ydCBpbnB1dFdyYXBwZXIgZnJvbSBcIi4vaW5wdXQtd3JhcHBlclwiXG5pbXBvcnQgbWVtbyBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvbWVtby5qc1wiXG5pbXBvcnQgcHJvcFR5cGVzRXhhY3QgZnJvbSBcInByb3AtdHlwZXMtZXhhY3RcIlxuXG5jb25zdCBBcGlNYWtlcklucHV0c0NoZWNrYm94ZXMgPSBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VySW5wdXRzQ2hlY2tib3hlcyBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0gcHJvcFR5cGVzRXhhY3Qoe1xuICAgIGF0dHJpYnV0ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZWZhdWx0VmFsdWU6IFByb3BUeXBlcy5hcnJheSxcbiAgICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBpbnB1dFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5hbnksXG4gICAgbW9kZWw6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gICAgd3JhcHBlck9wdHM6IFByb3BUeXBlcy5vYmplY3RcbiAgfSlcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtjbGFzc05hbWUsIGlucHV0UHJvcHMsIGxhYmVsLCB3cmFwcGVyT3B0cywgLi4ucmVzdFByb3BzfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcImNvbXBvbmVudC1ib290c3RyYXAtY2hlY2stYm94ZXNcIiwgY2xhc3NOYW1lKX0gey4uLnJlc3RQcm9wc30+XG4gICAgICAgIDxpbnB1dCBuYW1lPXt0aGlzLmlucHV0TmFtZSgpfSByZWY9e3RoaXMucHJvcHMuaW5wdXRQcm9wcy5yZWZ9IHR5cGU9XCJoaWRkZW5cIiB2YWx1ZT1cIlwiIC8+XG4gICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiB0aGlzLm9wdGlvbkVsZW1lbnQob3B0aW9uLCBpbmRleCkpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgaW5wdXREZWZhdWx0VmFsdWUgKCkge1xuICAgIGNvbnN0IHthdHRyaWJ1dGUsIGRlZmF1bHRWYWx1ZSwgbW9kZWx9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZVxuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlICYmIG1vZGVsKSB7XG4gICAgICBpZiAoIW1vZGVsW2F0dHJpYnV0ZV0pIHtcbiAgICAgICAgdGhyb3cgYE5vIHN1Y2ggYXR0cmlidXRlOiAke2F0dHJpYnV0ZX1gIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5tb2RlbFthdHRyaWJ1dGVdKClcbiAgICB9XG4gIH1cblxuICBpbnB1dENoZWNrYm94Q2xhc3NOYW1lICgpIHtcbiAgICBjb25zdCBjbGFzc05hbWVzID0gW11cblxuICAgIGlmICh0aGlzLnByb3BzLndyYXBwZXJPcHRzLmVycm9ycy5sZW5ndGggPiAwKSBjbGFzc05hbWVzLnB1c2goXCJpcy1pbnZhbGlkXCIpXG5cbiAgICByZXR1cm4gY2xhc3NOYW1lcy5qb2luKFwiIFwiKVxuICB9XG5cbiAgaW5wdXROYW1lICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5uYW1lKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5wcm9wcy5uYW1lfVtdYFxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5tb2RlbCkge1xuICAgICAgcmV0dXJuIGAke3RoaXMucHJvcHMubW9kZWwubW9kZWxDbGFzc0RhdGEoKS5wYXJhbUtleX1bJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUodGhpcy5wcm9wcy5hdHRyaWJ1dGUpfV1gXG4gICAgfVxuICB9XG5cbiAgaXNEZWZhdWx0U2VsZWN0ZWQgKG9wdGlvbikge1xuICAgIGxldCBkZWZhdWx0VmFsdWUgPSB0aGlzLmlucHV0RGVmYXVsdFZhbHVlKClcblxuICAgIGlmICghZGVmYXVsdFZhbHVlKSByZXR1cm4gZmFsc2VcblxuICAgIGlmIChkZWZhdWx0VmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlLmluY2x1ZGVzKG9wdGlvbilcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSA9PSBvcHRpb25cbiAgICB9XG4gIH1cblxuICBnZW5lcmF0ZWRJZCAoKSB7XG4gICAgaWYgKCF0aGlzLmdlbmVyYXRlZElkVmFsdWUpIHtcbiAgICAgIHRoaXMuZ2VuZXJhdGVkSWRWYWx1ZSA9IE1hdGgucmFuZG9tKClcbiAgICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgICAuc3Vic3RyaW5nKDIsIDE1KSArIE1hdGgucmFuZG9tKClcbiAgICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgICAuc3Vic3RyaW5nKDIsIDE1KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdlbmVyYXRlZElkVmFsdWVcbiAgfVxuXG4gIG9wdGlvbkVsZW1lbnQgKG9wdGlvbiwgaW5kZXgpIHtcbiAgICBjb25zdCB7b25DaGFuZ2UsIG9wdGlvbnMsIHdyYXBwZXJPcHRzfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7ZXJyb3JzfSA9IGRpZ3Mod3JhcHBlck9wdHMsIFwiZXJyb3JzXCIpXG4gICAgY29uc3QgaWQgPSBgJHt0aGlzLmdlbmVyYXRlZElkKCl9LSR7aW5kZXh9YFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tib3hlcy1vcHRpb25cIiBrZXk9e2BvcHRpb24tJHtvcHRpb25bMV19YH0+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5pbnB1dENoZWNrYm94Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgZGF0YS1vcHRpb24tdmFsdWU9e29wdGlvblsxXX1cbiAgICAgICAgICBkZWZhdWx0Q2hlY2tlZD17dGhpcy5pc0RlZmF1bHRTZWxlY3RlZChvcHRpb25bMV0pfVxuICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICBuYW1lPXt0aGlzLmlucHV0TmFtZSgpfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIHZhbHVlPXtvcHRpb25bMV19XG4gICAgICAgIC8+XG5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cIm1sLTFcIiBodG1sRm9yPXtpZH0+XG4gICAgICAgICAge29wdGlvblswXX1cbiAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICB7aW5kZXggKyAxID09IG9wdGlvbnMubGVuZ3RoICYmIGVycm9ycy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgPEludmFsaWRGZWVkYmFjayBlcnJvcnM9e2Vycm9yc30gLz5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59KSlcblxuZXhwb3J0IGRlZmF1bHQgaW5wdXRXcmFwcGVyKEFwaU1ha2VySW5wdXRzQ2hlY2tib3hlcylcbiJdfQ==
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Select } from "../inputs/select";
import { digs } from "diggerize";
import InvalidFeedback from "./invalid-feedback"; // eslint-disable-line sort-imports
import PropTypes from "prop-types";
import React from "react";
import inputWrapper from "../inputs/input-wrapper";
class ApiMakerBootstrapSelect extends React.PureComponent {
    static propTypes = {
        attribute: PropTypes.string,
        className: PropTypes.string,
        description: PropTypes.any,
        hint: PropTypes.any,
        hintBottom: PropTypes.any,
        id: PropTypes.string,
        inputProps: PropTypes.object.isRequired,
        label: PropTypes.any,
        labelContainerClassName: PropTypes.string,
        model: PropTypes.object,
        wrapperClassName: PropTypes.string,
        wrapperOpts: PropTypes.object.isRequired
    };
    render() {
        const { children, className, description, id, inputProps, hint, hintBottom, label, labelContainerClassName, name, wrapperClassName, wrapperOpts, ...restProps } = this.props;
        const { ref, ...forwardedInputProps } = inputProps;
        const { errors } = digs(wrapperOpts, "errors");
        return (_jsxs("div", { className: this.wrapperClassName(), children: [wrapperOpts.label &&
                    _jsx("div", { className: labelContainerClassName ? labelContainerClassName : null, children: _jsx("label", { className: this.labelClassName(), htmlFor: inputProps.id, children: wrapperOpts.label }) }), description &&
                    _jsx("div", { className: "mb-4", children: description }), hint &&
                    _jsx("span", { className: "font-smoothing font-xs form-text text-muted", children: hint }), children, !children &&
                    _jsx(Select, { ...forwardedInputProps, className: this.selectClassName(), inputProps: inputProps, inputRef: ref, wrapperOpts: wrapperOpts, ...restProps }), hintBottom &&
                    _jsx("span", { className: "form-text text-muted font-smoothing font-xs", children: hintBottom }), errors.length > 0 && _jsx(InvalidFeedback, { errors: errors })] }));
    }
    labelClassName() {
        const classNames = ["form-group-label"];
        if (this.props.labelClassName)
            classNames.push(this.props.labelClassName);
        return classNames.join(" ");
    }
    selectClassName() {
        const classNames = ["form-control"];
        if (this.props.className)
            classNames.push(this.props.className);
        if (this.props.wrapperOpts.errors.length > 0)
            classNames.push("is-invalid");
        return classNames.join(" ");
    }
    wrapperClassName() {
        const classNames = ["form-group", "component-bootstrap-select"];
        if (this.props.wrapperClassName)
            classNames.push(this.props.wrapperClassName);
        return classNames.join(" ");
    }
}
export default inputWrapper(ApiMakerBootstrapSelect, { type: "select" });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0LmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJib290c3RyYXAvc2VsZWN0LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLE1BQU0sRUFBQyxNQUFNLGtCQUFrQixDQUFBO0FBQ3ZDLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxXQUFXLENBQUE7QUFDOUIsT0FBTyxlQUFlLE1BQU0sb0JBQW9CLENBQUEsQ0FBQyxtQ0FBbUM7QUFDcEYsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFBO0FBQ2xDLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUN6QixPQUFPLFlBQVksTUFBTSx5QkFBeUIsQ0FBQTtBQUVsRCxNQUFNLHVCQUF3QixTQUFRLEtBQUssQ0FBQyxhQUFhO0lBQ3ZELE1BQU0sQ0FBQyxTQUFTLEdBQUc7UUFDakIsU0FBUyxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQzNCLFNBQVMsRUFBRSxTQUFTLENBQUMsTUFBTTtRQUMzQixXQUFXLEVBQUUsU0FBUyxDQUFDLEdBQUc7UUFDMUIsSUFBSSxFQUFFLFNBQVMsQ0FBQyxHQUFHO1FBQ25CLFVBQVUsRUFBRSxTQUFTLENBQUMsR0FBRztRQUN6QixFQUFFLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDcEIsVUFBVSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtRQUN2QyxLQUFLLEVBQUUsU0FBUyxDQUFDLEdBQUc7UUFDcEIsdUJBQXVCLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDekMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3ZCLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ2xDLFdBQVcsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7S0FDekMsQ0FBQTtJQUVELE1BQU07UUFDSixNQUFNLEVBQ0osUUFBUSxFQUNSLFNBQVMsRUFDVCxXQUFXLEVBQ1gsRUFBRSxFQUNGLFVBQVUsRUFDVixJQUFJLEVBQ0osVUFBVSxFQUNWLEtBQUssRUFDTCx1QkFBdUIsRUFDdkIsSUFBSSxFQUNKLGdCQUFnQixFQUNoQixXQUFXLEVBQ1gsR0FBRyxTQUFTLEVBQ2IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFBO1FBQ2QsTUFBTSxFQUFDLEdBQUcsRUFBRSxHQUFHLG1CQUFtQixFQUFDLEdBQUcsVUFBVSxDQUFBO1FBQ2hELE1BQU0sRUFBQyxNQUFNLEVBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBRTVDLE9BQU8sQ0FDTCxlQUFLLFNBQVMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsYUFDcEMsV0FBVyxDQUFDLEtBQUs7b0JBQ2hCLGNBQUssU0FBUyxFQUFFLHVCQUF1QixDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxZQUN0RSxnQkFBTyxTQUFTLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFBRSxZQUM1RCxXQUFXLENBQUMsS0FBSyxHQUNaLEdBQ0osRUFFUCxXQUFXO29CQUNWLGNBQUssU0FBUyxFQUFDLE1BQU0sWUFDbEIsV0FBVyxHQUNSLEVBRVAsSUFBSTtvQkFDSCxlQUFNLFNBQVMsRUFBQyw2Q0FBNkMsWUFDMUQsSUFBSSxHQUNBLEVBRVIsUUFBUSxFQUNSLENBQUMsUUFBUTtvQkFDUixLQUFDLE1BQU0sT0FDRCxtQkFBbUIsRUFDdkIsU0FBUyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsRUFDakMsVUFBVSxFQUFFLFVBQVUsRUFDdEIsUUFBUSxFQUFFLEdBQUcsRUFDYixXQUFXLEVBQUUsV0FBVyxLQUNwQixTQUFTLEdBQ2IsRUFFSCxVQUFVO29CQUNULGVBQU0sU0FBUyxFQUFDLDZDQUE2QyxZQUMxRCxVQUFVLEdBQ04sRUFFUixNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxLQUFDLGVBQWUsSUFBQyxNQUFNLEVBQUUsTUFBTSxHQUFJLElBQ3JELENBQ1AsQ0FBQTtJQUNILENBQUM7SUFFRCxjQUFjO1FBQ1osTUFBTSxVQUFVLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO1FBRXZDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjO1lBQzNCLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQTtRQUU1QyxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDN0IsQ0FBQztJQUVELGVBQWU7UUFDYixNQUFNLFVBQVUsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFBO1FBRW5DLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTO1lBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQy9ELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtRQUUzRSxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDN0IsQ0FBQztJQUVELGdCQUFnQjtRQUNkLE1BQU0sVUFBVSxHQUFHLENBQUMsWUFBWSxFQUFFLDRCQUE0QixDQUFDLENBQUE7UUFFL0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQjtZQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO1FBRTdFLE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUM3QixDQUFDOztBQUdILGVBQWUsWUFBWSxDQUFDLHVCQUF1QixFQUFFLEVBQUMsSUFBSSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NlbGVjdH0gZnJvbSBcIi4uL2lucHV0cy9zZWxlY3RcIlxuaW1wb3J0IHtkaWdzfSBmcm9tIFwiZGlnZ2VyaXplXCJcbmltcG9ydCBJbnZhbGlkRmVlZGJhY2sgZnJvbSBcIi4vaW52YWxpZC1mZWVkYmFja1wiIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgc29ydC1pbXBvcnRzXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGlucHV0V3JhcHBlciBmcm9tIFwiLi4vaW5wdXRzL2lucHV0LXdyYXBwZXJcIlxuXG5jbGFzcyBBcGlNYWtlckJvb3RzdHJhcFNlbGVjdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGF0dHJpYnV0ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGVzY3JpcHRpb246IFByb3BUeXBlcy5hbnksXG4gICAgaGludDogUHJvcFR5cGVzLmFueSxcbiAgICBoaW50Qm90dG9tOiBQcm9wVHlwZXMuYW55LFxuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGlucHV0UHJvcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBsYWJlbDogUHJvcFR5cGVzLmFueSxcbiAgICBsYWJlbENvbnRhaW5lckNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBtb2RlbDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB3cmFwcGVyQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHdyYXBwZXJPcHRzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGlkLFxuICAgICAgaW5wdXRQcm9wcyxcbiAgICAgIGhpbnQsXG4gICAgICBoaW50Qm90dG9tLFxuICAgICAgbGFiZWwsXG4gICAgICBsYWJlbENvbnRhaW5lckNsYXNzTmFtZSxcbiAgICAgIG5hbWUsXG4gICAgICB3cmFwcGVyQ2xhc3NOYW1lLFxuICAgICAgd3JhcHBlck9wdHMsXG4gICAgICAuLi5yZXN0UHJvcHNcbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHtyZWYsIC4uLmZvcndhcmRlZElucHV0UHJvcHN9ID0gaW5wdXRQcm9wc1xuICAgIGNvbnN0IHtlcnJvcnN9ID0gZGlncyh3cmFwcGVyT3B0cywgXCJlcnJvcnNcIilcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy53cmFwcGVyQ2xhc3NOYW1lKCl9PlxuICAgICAgICB7d3JhcHBlck9wdHMubGFiZWwgJiZcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17bGFiZWxDb250YWluZXJDbGFzc05hbWUgPyBsYWJlbENvbnRhaW5lckNsYXNzTmFtZSA6IG51bGx9PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17dGhpcy5sYWJlbENsYXNzTmFtZSgpfSBodG1sRm9yPXtpbnB1dFByb3BzLmlkfT5cbiAgICAgICAgICAgICAge3dyYXBwZXJPcHRzLmxhYmVsfVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB7ZGVzY3JpcHRpb24gJiZcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgICAgIHtkZXNjcmlwdGlvbn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB7aGludCAmJlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc21vb3RoaW5nIGZvbnQteHMgZm9ybS10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgIHtoaW50fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgfVxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIHshY2hpbGRyZW4gJiZcbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICB7Li4uZm9yd2FyZGVkSW5wdXRQcm9wc31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zZWxlY3RDbGFzc05hbWUoKX1cbiAgICAgICAgICAgIGlucHV0UHJvcHM9e2lucHV0UHJvcHN9XG4gICAgICAgICAgICBpbnB1dFJlZj17cmVmfVxuICAgICAgICAgICAgd3JhcHBlck9wdHM9e3dyYXBwZXJPcHRzfVxuICAgICAgICAgICAgey4uLnJlc3RQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICB9XG4gICAgICAgIHtoaW50Qm90dG9tICYmXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9ybS10ZXh0IHRleHQtbXV0ZWQgZm9udC1zbW9vdGhpbmcgZm9udC14c1wiPlxuICAgICAgICAgICAge2hpbnRCb3R0b219XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICB9XG4gICAgICAgIHtlcnJvcnMubGVuZ3RoID4gMCAmJiA8SW52YWxpZEZlZWRiYWNrIGVycm9ycz17ZXJyb3JzfSAvPn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGxhYmVsQ2xhc3NOYW1lICgpIHtcbiAgICBjb25zdCBjbGFzc05hbWVzID0gW1wiZm9ybS1ncm91cC1sYWJlbFwiXVxuXG4gICAgaWYgKHRoaXMucHJvcHMubGFiZWxDbGFzc05hbWUpXG4gICAgICBjbGFzc05hbWVzLnB1c2godGhpcy5wcm9wcy5sYWJlbENsYXNzTmFtZSlcblxuICAgIHJldHVybiBjbGFzc05hbWVzLmpvaW4oXCIgXCIpXG4gIH1cblxuICBzZWxlY3RDbGFzc05hbWUgKCkge1xuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBbXCJmb3JtLWNvbnRyb2xcIl1cblxuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkgY2xhc3NOYW1lcy5wdXNoKHRoaXMucHJvcHMuY2xhc3NOYW1lKVxuICAgIGlmICh0aGlzLnByb3BzLndyYXBwZXJPcHRzLmVycm9ycy5sZW5ndGggPiAwKSBjbGFzc05hbWVzLnB1c2goXCJpcy1pbnZhbGlkXCIpXG5cbiAgICByZXR1cm4gY2xhc3NOYW1lcy5qb2luKFwiIFwiKVxuICB9XG5cbiAgd3JhcHBlckNsYXNzTmFtZSAoKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IFtcImZvcm0tZ3JvdXBcIiwgXCJjb21wb25lbnQtYm9vdHN0cmFwLXNlbGVjdFwiXVxuXG4gICAgaWYgKHRoaXMucHJvcHMud3JhcHBlckNsYXNzTmFtZSkgY2xhc3NOYW1lcy5wdXNoKHRoaXMucHJvcHMud3JhcHBlckNsYXNzTmFtZSlcblxuICAgIHJldHVybiBjbGFzc05hbWVzLmpvaW4oXCIgXCIpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5wdXRXcmFwcGVyKEFwaU1ha2VyQm9vdHN0cmFwU2VsZWN0LCB7dHlwZTogXCJzZWxlY3RcIn0pXG4iXX0=
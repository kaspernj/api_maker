import { jsx as _jsx } from "react/jsx-runtime";
import React, { createContext, useContext, useMemo } from "react";
import ApiMakerConfig from "./config.js";
import memo from "set-state-compare/build/memo.js";
const ApiMakerContext = createContext();
const useApiMaker = () => {
    const apiMakerContext = useContext(ApiMakerContext);
    if (apiMakerContext) {
        return apiMakerContext;
    }
    return {
        config: ApiMakerConfig
    };
};
const WithApiMaker = memo(({ children, config, ...restProps }) => {
    const restPropsKeys = Object.keys(restProps);
    const value = useMemo(() => ({ config }), [config]);
    if (restPropsKeys.length > 0)
        throw new Error(`Unhandled props: ${restPropsKeys.join(", ")}`);
    return (_jsx(ApiMakerContext.Provider, { value: value, children: children }));
});
export { useApiMaker, WithApiMaker };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2l0aC1hcGktbWFrZXIuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbIndpdGgtYXBpLW1ha2VyLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxLQUFLLEVBQUUsRUFBQyxhQUFhLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBQyxNQUFNLE9BQU8sQ0FBQTtBQUMvRCxPQUFPLGNBQWMsTUFBTSxhQUFhLENBQUE7QUFDeEMsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFFbEQsTUFBTSxlQUFlLEdBQUcsYUFBYSxFQUFFLENBQUE7QUFDdkMsTUFBTSxXQUFXLEdBQUcsR0FBRyxFQUFFO0lBQ3ZCLE1BQU0sZUFBZSxHQUFHLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQTtJQUVuRCxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQ3BCLE9BQU8sZUFBZSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxPQUFPO1FBQ0wsTUFBTSxFQUFFLGNBQWM7S0FDdkIsQ0FBQTtBQUNILENBQUMsQ0FBQTtBQUVELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxHQUFHLFNBQVMsRUFBQyxFQUFFLEVBQUU7SUFDN0QsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUM1QyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFBO0lBRWpELElBQUksYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDO1FBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7SUFFN0YsT0FBTyxDQUNMLEtBQUMsZUFBZSxDQUFDLFFBQVEsSUFBQyxLQUFLLEVBQUUsS0FBSyxZQUNuQyxRQUFRLEdBQ2dCLENBQzVCLENBQUE7QUFDSCxDQUFDLENBQUMsQ0FBQTtBQUVGLE9BQU8sRUFBQyxXQUFXLEVBQUUsWUFBWSxFQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHtjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VNZW1vfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFwaU1ha2VyQ29uZmlnIGZyb20gXCIuL2NvbmZpZy5qc1wiXG5pbXBvcnQgbWVtbyBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvbWVtby5qc1wiXG5cbmNvbnN0IEFwaU1ha2VyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKVxuY29uc3QgdXNlQXBpTWFrZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGFwaU1ha2VyQ29udGV4dCA9IHVzZUNvbnRleHQoQXBpTWFrZXJDb250ZXh0KVxuXG4gIGlmIChhcGlNYWtlckNvbnRleHQpIHtcbiAgICByZXR1cm4gYXBpTWFrZXJDb250ZXh0XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNvbmZpZzogQXBpTWFrZXJDb25maWdcbiAgfVxufVxuXG5jb25zdCBXaXRoQXBpTWFrZXIgPSBtZW1vKCh7Y2hpbGRyZW4sIGNvbmZpZywgLi4ucmVzdFByb3BzfSkgPT4ge1xuICBjb25zdCByZXN0UHJvcHNLZXlzID0gT2JqZWN0LmtleXMocmVzdFByb3BzKVxuICBjb25zdCB2YWx1ZSA9IHVzZU1lbW8oKCkgPT4gKHtjb25maWd9KSwgW2NvbmZpZ10pXG5cbiAgaWYgKHJlc3RQcm9wc0tleXMubGVuZ3RoID4gMCkgdGhyb3cgbmV3IEVycm9yKGBVbmhhbmRsZWQgcHJvcHM6ICR7cmVzdFByb3BzS2V5cy5qb2luKFwiLCBcIil9YClcblxuICByZXR1cm4gKFxuICAgIDxBcGlNYWtlckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0FwaU1ha2VyQ29udGV4dC5Qcm92aWRlcj5cbiAgKVxufSlcblxuZXhwb3J0IHt1c2VBcGlNYWtlciwgV2l0aEFwaU1ha2VyfVxuIl19
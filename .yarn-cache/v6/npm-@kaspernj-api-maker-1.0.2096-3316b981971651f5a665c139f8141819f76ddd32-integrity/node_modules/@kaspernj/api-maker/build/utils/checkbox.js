import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
/* eslint-disable prefer-object-spread, sort-imports */
import { CheckBox, Pressable, View } from "react-native";
import React, { useMemo } from "react";
import BaseComponent from "../base-component";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import Text from "./text";
export default memo(shapeComponent(class ApiMakerUtilsCheckbox extends BaseComponent {
    static defaultProps = {
        dataSet: null,
        label: undefined,
        style: null
    };
    static propTypes = propTypesExact({
        checked: PropTypes.bool,
        dataSet: PropTypes.object,
        defaultChecked: PropTypes.bool,
        label: PropTypes.string,
        onCheckedChange: PropTypes.func,
        style: PropTypes.object
    });
    setup() {
        this.useStates({
            checked: this.props.defaultChecked
        });
    }
    calculateChecked() {
        if ("checked" in this.props) {
            return this.p.checked;
        }
        else {
            return this.s.checked;
        }
    }
    render() {
        const { dataSet, label, style } = this.p;
        const isChecked = this.calculateChecked();
        const actualStyle = useMemo(() => Object.assign({ flexDirection: "row", alignItems: "center" }, style), [style]);
        const actualDataSet = useMemo(() => Object.assign({ checked: isChecked }, dataSet), [dataSet, isChecked]);
        return (_jsxs(View, { dataSet: this.cache("viewContainerDataSet", { component: "api-maker/utils/checkbox" }), style: actualStyle, children: [_jsx(CheckBox, { dataSet: actualDataSet, onValueChange: this.tt.onValueChange, value: isChecked }), label &&
                    _jsx(Pressable, { onPress: this.tt.onLabelPressed, children: _jsx(Text, { style: this.cache("textStyle", { marginLeft: 3 }), children: label }) })] }));
    }
    onLabelPressed = () => {
        const newChecked = !this.calculateChecked();
        if (this.props.onCheckedChange) {
            this.p.onCheckedChange(newChecked);
        }
        if (!("checked" in this.props)) {
            this.setState({ checked: newChecked });
        }
    };
    onValueChange = (newChecked) => {
        if (this.props.onCheckedChange) {
            this.p.onCheckedChange(newChecked);
        }
        if (!("checked" in this.props)) {
            this.setState({ checked: newChecked });
        }
    };
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tib3guanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInV0aWxzL2NoZWNrYm94LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsdURBQXVEO0FBQ3ZELE9BQU8sRUFBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBQyxNQUFNLGNBQWMsQ0FBQTtBQUN0RCxPQUFPLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBQyxNQUFNLE9BQU8sQ0FBQTtBQUNwQyxPQUFPLGFBQWEsTUFBTSxtQkFBbUIsQ0FBQTtBQUM3QyxPQUFPLElBQUksTUFBTSxpQ0FBaUMsQ0FBQTtBQUNsRCxPQUFPLFNBQVMsTUFBTSxZQUFZLENBQUE7QUFDbEMsT0FBTyxjQUFjLE1BQU0sa0JBQWtCLENBQUE7QUFDN0MsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLDRDQUE0QyxDQUFBO0FBQ3pFLE9BQU8sSUFBSSxNQUFNLFFBQVEsQ0FBQTtBQUV6QixlQUFlLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxxQkFBc0IsU0FBUSxhQUFhO0lBQ2xGLE1BQU0sQ0FBQyxZQUFZLEdBQUc7UUFDcEIsT0FBTyxFQUFFLElBQUk7UUFDYixLQUFLLEVBQUUsU0FBUztRQUNoQixLQUFLLEVBQUUsSUFBSTtLQUNaLENBQUE7SUFFRCxNQUFNLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztRQUNoQyxPQUFPLEVBQUUsU0FBUyxDQUFDLElBQUk7UUFDdkIsT0FBTyxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3pCLGNBQWMsRUFBRSxTQUFTLENBQUMsSUFBSTtRQUM5QixLQUFLLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDdkIsZUFBZSxFQUFFLFNBQVMsQ0FBQyxJQUFJO1FBQy9CLEtBQUssRUFBRSxTQUFTLENBQUMsTUFBTTtLQUN4QixDQUFDLENBQUE7SUFFRixLQUFLO1FBQ0gsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUNiLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWM7U0FDbkMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVELGdCQUFnQjtRQUNkLElBQUksU0FBUyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUM1QixPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFBO1FBQ3ZCLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtRQUN2QixDQUFDO0lBQ0gsQ0FBQztJQUVELE1BQU07UUFDSixNQUFNLEVBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO1FBQ3RDLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFBO1FBQ3pDLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO1FBQzlHLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFFLFNBQVMsRUFBQyxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUE7UUFFdkcsT0FBTyxDQUNMLE1BQUMsSUFBSSxJQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixFQUFFLEVBQUMsU0FBUyxFQUFFLDBCQUEwQixFQUFDLENBQUMsRUFDcEYsS0FBSyxFQUFFLFdBQVcsYUFFbEIsS0FBQyxRQUFRLElBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsS0FBSyxFQUFFLFNBQVMsR0FBSSxFQUMzRixLQUFLO29CQUNKLEtBQUMsU0FBUyxJQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsWUFDeEMsS0FBQyxJQUFJLElBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsRUFBQyxDQUFDLFlBQ2xELEtBQUssR0FDRCxHQUNHLElBRVQsQ0FDUixDQUFBO0lBQ0gsQ0FBQztJQUVELGNBQWMsR0FBRyxHQUFHLEVBQUU7UUFDcEIsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtRQUUzQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDcEMsQ0FBQztRQUVELElBQUksQ0FBQyxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBQyxDQUFDLENBQUE7UUFDdEMsQ0FBQztJQUNILENBQUMsQ0FBQTtJQUVELGFBQWEsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFO1FBQzdCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUNwQyxDQUFDO1FBRUQsSUFBSSxDQUFDLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUUsVUFBVSxFQUFDLENBQUMsQ0FBQTtRQUN0QyxDQUFDO0lBQ0gsQ0FBQyxDQUFBO0NBQ0YsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItb2JqZWN0LXNwcmVhZCwgc29ydC1pbXBvcnRzICovXG5pbXBvcnQge0NoZWNrQm94LCBQcmVzc2FibGUsIFZpZXd9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuaW1wb3J0IFJlYWN0LCB7dXNlTWVtb30gZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCYXNlQ29tcG9uZW50IGZyb20gXCIuLi9iYXNlLWNvbXBvbmVudFwiXG5pbXBvcnQgbWVtbyBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvbWVtby5qc1wiXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBwcm9wVHlwZXNFeGFjdCBmcm9tIFwicHJvcC10eXBlcy1leGFjdFwiXG5pbXBvcnQge3NoYXBlQ29tcG9uZW50fSBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvc2hhcGUtY29tcG9uZW50LmpzXCJcbmltcG9ydCBUZXh0IGZyb20gXCIuL3RleHRcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyVXRpbHNDaGVja2JveCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGRhdGFTZXQ6IG51bGwsXG4gICAgbGFiZWw6IHVuZGVmaW5lZCxcbiAgICBzdHlsZTogbnVsbFxuICB9XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHByb3BUeXBlc0V4YWN0KHtcbiAgICBjaGVja2VkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBkYXRhU2V0OiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGRlZmF1bHRDaGVja2VkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvbkNoZWNrZWRDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0XG4gIH0pXG5cbiAgc2V0dXAoKSB7XG4gICAgdGhpcy51c2VTdGF0ZXMoe1xuICAgICAgY2hlY2tlZDogdGhpcy5wcm9wcy5kZWZhdWx0Q2hlY2tlZFxuICAgIH0pXG4gIH1cblxuICBjYWxjdWxhdGVDaGVja2VkKCkge1xuICAgIGlmIChcImNoZWNrZWRcIiBpbiB0aGlzLnByb3BzKSB7XG4gICAgICByZXR1cm4gdGhpcy5wLmNoZWNrZWRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucy5jaGVja2VkXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtkYXRhU2V0LCBsYWJlbCwgc3R5bGV9ID0gdGhpcy5wXG4gICAgY29uc3QgaXNDaGVja2VkID0gdGhpcy5jYWxjdWxhdGVDaGVja2VkKClcbiAgICBjb25zdCBhY3R1YWxTdHlsZSA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmFzc2lnbih7ZmxleERpcmVjdGlvbjogXCJyb3dcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIn0sIHN0eWxlKSwgW3N0eWxlXSlcbiAgICBjb25zdCBhY3R1YWxEYXRhU2V0ID0gdXNlTWVtbygoKSA9PiBPYmplY3QuYXNzaWduKHtjaGVja2VkOiBpc0NoZWNrZWR9LCBkYXRhU2V0KSwgW2RhdGFTZXQsIGlzQ2hlY2tlZF0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXdcbiAgICAgICAgZGF0YVNldD17dGhpcy5jYWNoZShcInZpZXdDb250YWluZXJEYXRhU2V0XCIsIHtjb21wb25lbnQ6IFwiYXBpLW1ha2VyL3V0aWxzL2NoZWNrYm94XCJ9KX1cbiAgICAgICAgc3R5bGU9e2FjdHVhbFN0eWxlfVxuICAgICAgPlxuICAgICAgICA8Q2hlY2tCb3ggZGF0YVNldD17YWN0dWFsRGF0YVNldH0gb25WYWx1ZUNoYW5nZT17dGhpcy50dC5vblZhbHVlQ2hhbmdlfSB2YWx1ZT17aXNDaGVja2VkfSAvPlxuICAgICAgICB7bGFiZWwgJiZcbiAgICAgICAgICA8UHJlc3NhYmxlIG9uUHJlc3M9e3RoaXMudHQub25MYWJlbFByZXNzZWR9PlxuICAgICAgICAgICAgPFRleHQgc3R5bGU9e3RoaXMuY2FjaGUoXCJ0ZXh0U3R5bGVcIiwge21hcmdpbkxlZnQ6IDN9KX0+XG4gICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L1ByZXNzYWJsZT5cbiAgICAgICAgfVxuICAgICAgPC9WaWV3PlxuICAgIClcbiAgfVxuXG4gIG9uTGFiZWxQcmVzc2VkID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0NoZWNrZWQgPSAhdGhpcy5jYWxjdWxhdGVDaGVja2VkKClcblxuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hlY2tlZENoYW5nZSkge1xuICAgICAgdGhpcy5wLm9uQ2hlY2tlZENoYW5nZShuZXdDaGVja2VkKVxuICAgIH1cblxuICAgIGlmICghKFwiY2hlY2tlZFwiIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtjaGVja2VkOiBuZXdDaGVja2VkfSlcbiAgICB9XG4gIH1cblxuICBvblZhbHVlQ2hhbmdlID0gKG5ld0NoZWNrZWQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkNoZWNrZWRDaGFuZ2UpIHtcbiAgICAgIHRoaXMucC5vbkNoZWNrZWRDaGFuZ2UobmV3Q2hlY2tlZClcbiAgICB9XG5cbiAgICBpZiAoIShcImNoZWNrZWRcIiBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7Y2hlY2tlZDogbmV3Q2hlY2tlZH0pXG4gICAgfVxuICB9XG59KSlcbiJdfQ==
import { jsx as _jsx } from "react/jsx-runtime";
/* eslint-disable implicit-arrow-linebreak, prefer-object-spread, sort-vars */
import { Modal, Pressable, View } from "react-native";
import React, { useMemo } from "react";
import BaseComponent from "../base-component";
import Card from "./card";
import Icon from "../utils/icon";
import memo from "set-state-compare/build/memo.js";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import { useBreakpoint } from "responsive-breakpoints";
export default memo(shapeComponent(class ApiMakerUtilsComponent extends BaseComponent {
    render() {
        const { xs, sm } = useBreakpoint();
        const { children, dataSet, ...restProps } = this.props;
        const actualDataSet = useMemo(() => Object.assign({ component: "api-maker/utils/modal" }, dataSet), [dataSet]);
        let width, maxWidth;
        if (xs || sm) {
            width = "95%";
        }
        else {
            width = "80%";
            maxWidth = 800;
        }
        const cardStyle = useMemo(() => ({ width, maxWidth }), [width, maxWidth]);
        return (_jsx(Modal, { dataSet: actualDataSet, ...restProps, children: _jsx(View, { style: this.cache("rootViewStyle", {
                    alignItems: "center",
                    justifyContent: "center",
                    width: "100%",
                    height: "100%",
                    backgroundColor: "rgba(0, 0, 0, 0.8)"
                }), children: _jsx(Card, { controls: this.cardHeaderControls(), style: cardStyle, children: children }) }) }));
    }
    cardHeaderControls() {
        return (_jsx(Pressable, { onPress: this.tt.onModalClosePress, style: this.cache("pressableStyle", { marginLeft: "auto", padding: 5 }), children: _jsx(Icon, { name: "remove" }) }));
    }
    onModalClosePress = () => this.props.onRequestClose && this.props.onRequestClose();
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInV0aWxzL21vZGFsLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsOEVBQThFO0FBQzlFLE9BQU8sRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBQyxNQUFNLGNBQWMsQ0FBQTtBQUNuRCxPQUFPLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBQyxNQUFNLE9BQU8sQ0FBQTtBQUNwQyxPQUFPLGFBQWEsTUFBTSxtQkFBbUIsQ0FBQTtBQUM3QyxPQUFPLElBQUksTUFBTSxRQUFRLENBQUE7QUFDekIsT0FBTyxJQUFJLE1BQU0sZUFBZSxDQUFBO0FBQ2hDLE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQTtBQUN6RSxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sd0JBQXdCLENBQUE7QUFFcEQsZUFBZSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sc0JBQXVCLFNBQVEsYUFBYTtJQUNuRixNQUFNO1FBQ0osTUFBTSxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUMsR0FBRyxhQUFhLEVBQUUsQ0FBQTtRQUNoQyxNQUFNLEVBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxHQUFHLFNBQVMsRUFBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUE7UUFFcEQsTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUNqQyxNQUFNLENBQUMsTUFBTSxDQUNYLEVBQUMsU0FBUyxFQUFFLHVCQUF1QixFQUFDLEVBQ3BDLE9BQU8sQ0FDUixFQUNELENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtRQUVaLElBQUksS0FBSyxFQUFFLFFBQVEsQ0FBQTtRQUVuQixJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQztZQUNiLEtBQUssR0FBRyxLQUFLLENBQUE7UUFDZixDQUFDO2FBQU0sQ0FBQztZQUNOLEtBQUssR0FBRyxLQUFLLENBQUE7WUFDYixRQUFRLEdBQUcsR0FBRyxDQUFBO1FBQ2hCLENBQUM7UUFFRCxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFDLEtBQUssRUFBRSxRQUFRLEVBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUE7UUFFdkUsT0FBTyxDQUNMLEtBQUMsS0FBSyxJQUFDLE9BQU8sRUFBRSxhQUFhLEtBQU0sU0FBUyxZQUMxQyxLQUFDLElBQUksSUFDSCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUU7b0JBQ2pDLFVBQVUsRUFBRSxRQUFRO29CQUNwQixjQUFjLEVBQUUsUUFBUTtvQkFDeEIsS0FBSyxFQUFFLE1BQU07b0JBQ2IsTUFBTSxFQUFFLE1BQU07b0JBQ2QsZUFBZSxFQUFFLG9CQUFvQjtpQkFDdEMsQ0FBQyxZQUVGLEtBQUMsSUFBSSxJQUNILFFBQVEsRUFBRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsRUFDbkMsS0FBSyxFQUFFLFNBQVMsWUFFZixRQUFRLEdBQ0osR0FDRixHQUNELENBQ1QsQ0FBQTtJQUNILENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsT0FBTyxDQUNMLEtBQUMsU0FBUyxJQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFDLENBQUMsWUFDbEgsS0FBQyxJQUFJLElBQUMsSUFBSSxFQUFDLFFBQVEsR0FBRyxHQUNaLENBQ2IsQ0FBQTtJQUNILENBQUM7SUFFRCxpQkFBaUIsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFBO0NBQ25GLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wbGljaXQtYXJyb3ctbGluZWJyZWFrLCBwcmVmZXItb2JqZWN0LXNwcmVhZCwgc29ydC12YXJzICovXG5pbXBvcnQge01vZGFsLCBQcmVzc2FibGUsIFZpZXd9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuaW1wb3J0IFJlYWN0LCB7dXNlTWVtb30gZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCYXNlQ29tcG9uZW50IGZyb20gXCIuLi9iYXNlLWNvbXBvbmVudFwiXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jYXJkXCJcbmltcG9ydCBJY29uIGZyb20gXCIuLi91dGlscy9pY29uXCJcbmltcG9ydCBtZW1vIGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9tZW1vLmpzXCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IHt1c2VCcmVha3BvaW50fSBmcm9tIFwicmVzcG9uc2l2ZS1icmVha3BvaW50c1wiXG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oc2hhcGVDb21wb25lbnQoY2xhc3MgQXBpTWFrZXJVdGlsc0NvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge3hzLCBzbX0gPSB1c2VCcmVha3BvaW50KClcbiAgICBjb25zdCB7Y2hpbGRyZW4sIGRhdGFTZXQsIC4uLnJlc3RQcm9wc30gPSB0aGlzLnByb3BzXG5cbiAgICBjb25zdCBhY3R1YWxEYXRhU2V0ID0gdXNlTWVtbygoKSA9PlxuICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAge2NvbXBvbmVudDogXCJhcGktbWFrZXIvdXRpbHMvbW9kYWxcIn0sXG4gICAgICAgIGRhdGFTZXRcbiAgICAgIClcbiAgICAsIFtkYXRhU2V0XSlcblxuICAgIGxldCB3aWR0aCwgbWF4V2lkdGhcblxuICAgIGlmICh4cyB8fCBzbSkge1xuICAgICAgd2lkdGggPSBcIjk1JVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gXCI4MCVcIlxuICAgICAgbWF4V2lkdGggPSA4MDBcbiAgICB9XG5cbiAgICBjb25zdCBjYXJkU3R5bGUgPSB1c2VNZW1vKCgpID0+ICh7d2lkdGgsIG1heFdpZHRofSksIFt3aWR0aCwgbWF4V2lkdGhdKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbCBkYXRhU2V0PXthY3R1YWxEYXRhU2V0fSB7Li4ucmVzdFByb3BzfT5cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17dGhpcy5jYWNoZShcInJvb3RWaWV3U3R5bGVcIiwge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsIDAsIDAsIDAuOClcIlxuICAgICAgICAgIH0pfVxuICAgICAgICA+XG4gICAgICAgICAgPENhcmRcbiAgICAgICAgICAgIGNvbnRyb2xzPXt0aGlzLmNhcmRIZWFkZXJDb250cm9scygpfVxuICAgICAgICAgICAgc3R5bGU9e2NhcmRTdHlsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICA8L1ZpZXc+XG4gICAgICA8L01vZGFsPlxuICAgIClcbiAgfVxuXG4gIGNhcmRIZWFkZXJDb250cm9scygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFByZXNzYWJsZSBvblByZXNzPXt0aGlzLnR0Lm9uTW9kYWxDbG9zZVByZXNzfSBzdHlsZT17dGhpcy5jYWNoZShcInByZXNzYWJsZVN0eWxlXCIsIHttYXJnaW5MZWZ0OiBcImF1dG9cIiwgcGFkZGluZzogNX0pfT5cbiAgICAgICAgPEljb24gbmFtZT1cInJlbW92ZVwiIC8+XG4gICAgICA8L1ByZXNzYWJsZT5cbiAgICApXG4gIH1cblxuICBvbk1vZGFsQ2xvc2VQcmVzcyA9ICgpID0+IHRoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UgJiYgdGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZSgpXG59KSlcbiJdfQ==
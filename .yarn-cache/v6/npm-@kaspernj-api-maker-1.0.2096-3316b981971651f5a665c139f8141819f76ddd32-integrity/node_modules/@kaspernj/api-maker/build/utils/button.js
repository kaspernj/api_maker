import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
/* eslint-disable arrow-body-style, prefer-object-spread, sort-imports */
import { Pressable, View } from "react-native";
import { shapeComponent, ShapeComponent } from "set-state-compare/build/shape-component.js";
import Icon from "./icon";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import Text from "./text";
import { useForm } from "../form";
export default memo(shapeComponent(class ApiMakerUtilsButton extends ShapeComponent {
    static defaultProps = {
        children: null,
        danger: false,
        disabled: false,
        icon: null,
        label: null,
        onPress: null,
        pressableProps: {},
        submit: false,
        textProps: {}
    };
    static propTypes = propTypesExact({
        children: PropTypes.any,
        danger: PropTypes.bool.isRequired,
        disabled: PropTypes.bool.isRequired,
        icon: PropTypes.string,
        label: PropTypes.string,
        onPress: PropTypes.func,
        pressableProps: PropTypes.object.isRequired,
        submit: PropTypes.bool.isRequired,
        textProps: PropTypes.object.isRequired
    });
    setup() {
        this.form = useForm();
        this.useStates({ hover: false });
    }
    render() {
        const { children, danger, disabled, icon, label, pressableProps, textProps } = this.p;
        const { hover } = this.s;
        const { style, ...restPressableProps } = pressableProps;
        const { style: textStyle, ...restTextProps } = textProps;
        const pressableStyle = React.useMemo(() => {
            let backgroundColor;
            if (danger) {
                if (hover) {
                    backgroundColor = "#ff8a8a";
                }
                else {
                    backgroundColor = "#ff6767";
                }
            }
            else {
                if (hover) {
                    backgroundColor = "#e8e4ff";
                }
                else {
                    backgroundColor = "#fff";
                }
            }
            return Object.assign({
                flexDirection: "row",
                alignItems: "center",
                justifyContent: "center",
                paddingHorizontal: 14,
                paddingVertical: 8,
                backgroundColor,
                border: `1px solid ${danger ? "red" : "steelblue"}`,
                borderRadius: 5
            }, pressableProps?.style);
        }, [danger, hover, pressableProps?.style]);
        const actualTextStyle = React.useMemo(() => {
            return Object.assign({
                color: disabled ? "grey" : undefined
            }, textStyle);
        }, [disabled]);
        return (_jsxs(Pressable, { onPointerEnter: this.tt.onPointerEnter, onPointerLeave: this.tt.onPointerLeave, onPress: this.tt.onPress, style: pressableStyle, ...restPressableProps, children: [icon &&
                    _jsx(View, { style: this.cache("iconViewStyle", { marginRight: 4 }), children: _jsx(Icon, { name: icon }) }), children, label &&
                    _jsx(Text, { style: actualTextStyle, ...restTextProps, children: label })] }));
    }
    onPointerEnter = () => this.setState({ hover: true });
    onPointerLeave = () => this.setState({ hover: false });
    onPress = () => {
        if (this.p.disabled) {
            return;
        }
        if (this.p.onPress) {
            this.p.onPress();
        }
        if (this.p.submit && this.tt.form) {
            this.tt.form.submit();
        }
    };
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJ1dGlscy9idXR0b24uanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx5RUFBeUU7QUFDekUsT0FBTyxFQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUMsTUFBTSxjQUFjLENBQUE7QUFDNUMsT0FBTyxFQUFDLGNBQWMsRUFBRSxjQUFjLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQTtBQUN6RixPQUFPLElBQUksTUFBTSxRQUFRLENBQUE7QUFDekIsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFBO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLGtCQUFrQixDQUFBO0FBQzdDLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUN6QixPQUFPLElBQUksTUFBTSxRQUFRLENBQUE7QUFDekIsT0FBTyxFQUFDLE9BQU8sRUFBQyxNQUFNLFNBQVMsQ0FBQTtBQUUvQixlQUFlLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxtQkFBb0IsU0FBUSxjQUFjO0lBQ2pGLE1BQU0sQ0FBQyxZQUFZLEdBQUc7UUFDcEIsUUFBUSxFQUFFLElBQUk7UUFDZCxNQUFNLEVBQUUsS0FBSztRQUNiLFFBQVEsRUFBRSxLQUFLO1FBQ2YsSUFBSSxFQUFFLElBQUk7UUFDVixLQUFLLEVBQUUsSUFBSTtRQUNYLE9BQU8sRUFBRSxJQUFJO1FBQ2IsY0FBYyxFQUFFLEVBQUU7UUFDbEIsTUFBTSxFQUFFLEtBQUs7UUFDYixTQUFTLEVBQUUsRUFBRTtLQUNkLENBQUE7SUFFRCxNQUFNLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztRQUNoQyxRQUFRLEVBQUUsU0FBUyxDQUFDLEdBQUc7UUFDdkIsTUFBTSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVTtRQUNqQyxRQUFRLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVO1FBQ25DLElBQUksRUFBRSxTQUFTLENBQUMs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V0FBVyxFQUFFLENBQUMsRUFBQyxDQUFDLFlBQ3hELEtBQUMsSUFBSSxJQUFDLElBQUksRUFBRSxJQUFJLEdBQUksR0FDZixFQUVSLFFBQVEsRUFDUixLQUFLO29CQUNKLEtBQUMsSUFBSSxJQUFDLEtBQUssRUFBRSxlQUFlLEtBQU0sYUFBYSxZQUM1QyxLQUFLLEdBQ0QsSUFFQyxDQUNiLENBQUE7SUFDSCxDQUFDO0lBRUQsY0FBYyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtJQUNuRCxjQUFjLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEtBQUssRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFBO0lBRXBELE9BQU8sR0FBRyxHQUFHLEVBQUU7UUFDYixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDcEIsT0FBTTtRQUNSLENBQUM7UUFFRCxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbkIsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNsQixDQUFDO1FBRUQsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFBO1FBQ3ZCLENBQUM7SUFDSCxDQUFDLENBQUE7Q0FDRixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGFycm93LWJvZHktc3R5bGUsIHByZWZlci1vYmplY3Qtc3ByZWFkLCBzb3J0LWltcG9ydHMgKi9cbmltcG9ydCB7UHJlc3NhYmxlLCBWaWV3fSBmcm9tIFwicmVhY3QtbmF0aXZlXCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnQsIFNoYXBlQ29tcG9uZW50fSBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvc2hhcGUtY29tcG9uZW50LmpzXCJcbmltcG9ydCBJY29uIGZyb20gXCIuL2ljb25cIlxuaW1wb3J0IG1lbW8gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL21lbW8uanNcIlxuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiXG5pbXBvcnQgcHJvcFR5cGVzRXhhY3QgZnJvbSBcInByb3AtdHlwZXMtZXhhY3RcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgVGV4dCBmcm9tIFwiLi90ZXh0XCJcbmltcG9ydCB7dXNlRm9ybX0gZnJvbSBcIi4uL2Zvcm1cIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyVXRpbHNCdXR0b24gZXh0ZW5kcyBTaGFwZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2hpbGRyZW46IG51bGwsXG4gICAgZGFuZ2VyOiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaWNvbjogbnVsbCxcbiAgICBsYWJlbDogbnVsbCxcbiAgICBvblByZXNzOiBudWxsLFxuICAgIHByZXNzYWJsZVByb3BzOiB7fSxcbiAgICBzdWJtaXQ6IGZhbHNlLFxuICAgIHRleHRQcm9wczoge31cbiAgfVxuXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSBwcm9wVHlwZXNFeGFjdCh7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gICAgZGFuZ2VyOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIGljb246IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25QcmVzczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgcHJlc3NhYmxlUHJvcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzdWJtaXQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgdGV4dFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgfSlcblxuICBzZXR1cCgpIHtcbiAgICB0aGlzLmZvcm0gPSB1c2VGb3JtKClcbiAgICB0aGlzLnVzZVN0YXRlcyh7aG92ZXI6IGZhbHNlfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7Y2hpbGRyZW4sIGRhbmdlciwgZGlzYWJsZWQsIGljb24sIGxhYmVsLCBwcmVzc2FibGVQcm9wcywgdGV4dFByb3BzfSA9IHRoaXMucFxuICAgIGNvbnN0IHtob3Zlcn0gPSB0aGlzLnNcbiAgICBjb25zdCB7c3R5bGUsIC4uLnJlc3RQcmVzc2FibGVQcm9wc30gPSBwcmVzc2FibGVQcm9wc1xuICAgIGNvbnN0IHtzdHlsZTogdGV4dFN0eWxlLCAuLi5yZXN0VGV4dFByb3BzfSA9IHRleHRQcm9wc1xuXG4gICAgY29uc3QgcHJlc3NhYmxlU3R5bGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGxldCBiYWNrZ3JvdW5kQ29sb3JcblxuICAgICAgaWYgKGRhbmdlcikge1xuICAgICAgICBpZiAoaG92ZXIpIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZjhhOGFcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IFwiI2ZmNjc2N1wiXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChob3Zlcikge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IFwiI2U4ZTRmZlwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gXCIjZmZmXCJcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICBwYWRkaW5nSG9yaXpvbnRhbDogMTQsXG4gICAgICAgICAgcGFkZGluZ1ZlcnRpY2FsOiA4LFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtkYW5nZXIgPyBcInJlZFwiIDogXCJzdGVlbGJsdWVcIn1gLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogNVxuICAgICAgICB9LFxuICAgICAgICBwcmVzc2FibGVQcm9wcz8uc3R5bGVcbiAgICAgIClcbiAgICB9LCBbZGFuZ2VyLCBob3ZlciwgcHJlc3NhYmxlUHJvcHM/LnN0eWxlXSlcblxuICAgIGNvbnN0IGFjdHVhbFRleHRTdHlsZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICBjb2xvcjogZGlzYWJsZWQgPyBcImdyZXlcIiA6IHVuZGVmaW5lZFxuICAgICAgICB9LFxuICAgICAgICB0ZXh0U3R5bGVcbiAgICAgIClcbiAgICB9LCBbZGlzYWJsZWRdKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQcmVzc2FibGVcbiAgICAgICAgb25Qb2ludGVyRW50ZXI9e3RoaXMudHQub25Qb2ludGVyRW50ZXJ9XG4gICAgICAgIG9uUG9pbnRlckxlYXZlPXt0aGlzLnR0Lm9uUG9pbnRlckxlYXZlfVxuICAgICAgICBvblByZXNzPXt0aGlzLnR0Lm9uUHJlc3N9XG4gICAgICAgIHN0eWxlPXtwcmVzc2FibGVTdHlsZX1cbiAgICAgICAgey4uLnJlc3RQcmVzc2FibGVQcm9wc31cbiAgICAgID5cbiAgICAgICAge2ljb24gJiZcbiAgICAgICAgICA8VmlldyBzdHlsZT17dGhpcy5jYWNoZShcImljb25WaWV3U3R5bGVcIiwge21hcmdpblJpZ2h0OiA0fSl9PlxuICAgICAgICAgICAgPEljb24gbmFtZT17aWNvbn0gLz5cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIH1cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgICB7bGFiZWwgJiZcbiAgICAgICAgICA8VGV4dCBzdHlsZT17YWN0dWFsVGV4dFN0eWxlfSB7Li4ucmVzdFRleHRQcm9wc30+XG4gICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgPC9UZXh0PlxuICAgICAgICB9XG4gICAgICA8L1ByZXNzYWJsZT5cbiAgICApXG4gIH1cblxuICBvblBvaW50ZXJFbnRlciA9ICgpID0+IHRoaXMuc2V0U3RhdGUoe2hvdmVyOiB0cnVlfSlcbiAgb25Qb2ludGVyTGVhdmUgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHtob3ZlcjogZmFsc2V9KVxuXG4gIG9uUHJlc3MgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucC5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucC5vblByZXNzKSB7XG4gICAgICB0aGlzLnAub25QcmVzcygpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucC5zdWJtaXQgJiYgdGhpcy50dC5mb3JtKSB7XG4gICAgICB0aGlzLnR0LmZvcm0uc3VibWl0KClcbiAgICB9XG4gIH1cbn0pKVxuIl19
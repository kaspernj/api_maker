import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
/* eslint-disable implicit-arrow-linebreak, import/no-unresolved, indent, sort-imports */
import { Animated, View } from "react-native";
import React, { useMemo } from "react";
import BaseComponent from "../base-component";
import classNames from "classnames";
import Column from "./components/column";
import ColumnContent from "./column-content";
import columnIdentifier from "./column-identifier.js";
import { EventEmitter } from "eventemitter3";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import memo from "set-state-compare/build/memo.js";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import Text from "../utils/text";
import { useBreakpoint } from "responsive-breakpoints";
import useI18n from "i18n-on-steroids/src/use-i18n.mjs";
export default memo(shapeComponent(class ApiMakerTableModelColumn extends BaseComponent {
    static propTypes = propTypesExact({
        animatedPosition: PropTypes.instanceOf(Animated.ValueXY).isRequired,
        animatedWidth: PropTypes.instanceOf(Animated.Value).isRequired,
        animatedZIndex: PropTypes.instanceOf(Animated.Value).isRequired,
        column: PropTypes.object.isRequired,
        columnIndex: PropTypes.number.isRequired,
        even: PropTypes.bool.isRequired,
        events: PropTypes.instanceOf(EventEmitter).isRequired,
        model: PropTypes.object.isRequired,
        table: PropTypes.object.isRequired,
        tableSettingColumn: PropTypes.object.isRequired
    });
    render() {
        const { l, t } = useI18n({ namespace: "js.api_maker.table.model_column" });
        const { mdUp } = useBreakpoint();
        const { animatedWidth, animatedZIndex, column, columnIndex, even, model, table } = this.props;
        const columnProps = table.columnProps(column);
        const { style, ...restColumnProps } = columnProps;
        const actualStyle = useMemo(() => Object.assign(table.styleForColumn({
            column,
            columnIndex,
            even,
            style: {
                zIndex: animatedZIndex,
                transform: this.p.animatedPosition.getTranslateTransform(),
                width: mdUp ? animatedWidth : "100%"
            }
        }), style), [column, columnIndex, even, animatedZIndex, mdUp, animatedWidth, style]);
        const className = classNames(this.columnClassNamesForColumn(column));
        const identifier = columnIdentifier(column);
        const dataSet = useMemo(() => ({ class: className, identifier }), [className]);
        return (_jsxs(Column, { dataSet: dataSet, style: actualStyle, ...restColumnProps, children: [!mdUp &&
                    _jsx(View, { dataSet: this.cache("columnLabelDataSet", { class: "table--column-label" }), children: _jsx(Text, { style: this.cache("columnLabelTextStyle", { fontWeight: "bold" }), children: table.headerLabelForColumn(column) }) }), _jsx(View, { dataSet: this.cache("columnValueDataSet", { class: "table--column-value" }), children: new ColumnContent({ column, l, model, t, table }).content() })] }));
    }
    columnClassNamesForColumn(column) {
        const classNames = ["table--column"];
        if (column.commonProps && column.commonProps.className)
            classNames.push(column.commonProps.className);
        if (column.columnProps && column.columnProps.className)
            classNames.push(column.columnProps.className);
        return classNames;
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtY29sdW1uLmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJ0YWJsZS9tb2RlbC1jb2x1bW4uanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx5RkFBeUY7QUFDekYsT0FBTyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsTUFBTSxjQUFjLENBQUE7QUFDM0MsT0FBTyxLQUFLLEVBQUUsRUFBQyxPQUFPLEVBQUMsTUFBTSxPQUFPLENBQUE7QUFDcEMsT0FBTyxhQUFhLE1BQU0sbUJBQW1CLENBQUE7QUFDN0MsT0FBTyxVQUFVLE1BQU0sWUFBWSxDQUFBO0FBQ25DLE9BQU8sTUFBTSxNQUFNLHFCQUFxQixDQUFBO0FBQ3hDLE9BQU8sYUFBYSxNQUFNLGtCQUFrQixDQUFBO0FBQzVDLE9BQU8sZ0JBQWdCLE1BQU0sd0JBQXdCLENBQUE7QUFDckQsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLGVBQWUsQ0FBQTtBQUMxQyxPQUFPLFNBQVMsTUFBTSxZQUFZLENBQUE7QUFDbEMsT0FBTyxjQUFjLE1BQU0sa0JBQWtCLENBQUE7QUFDN0MsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLDRDQUE0QyxDQUFBO0FBQ3pFLE9BQU8sSUFBSSxNQUFNLGVBQWUsQ0FBQTtBQUNoQyxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sd0JBQXdCLENBQUE7QUFDcEQsT0FBTyxPQUFPLE1BQU0sbUNBQW1DLENBQUE7QUFFdkQsZUFBZSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sd0JBQXlCLFNBQVEsYUFBYTtJQUNyRixNQUFNLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztRQUNoQyxnQkFBZ0IsRUFBRSxTQUFTLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVO1FBQ25FLGFBQWEsRUFBRSxTQUFTLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVO1FBQzlELGNBQWMsRUFBRSxTQUFTLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVO1FBQy9ELE1BQU0sRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7UUFDbkMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtRQUN4QyxJQUFJLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVO1FBQy9CLE1BQU0sRUFBRSxTQUFTLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLFVBQVU7UUFDckQsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtRQUNsQyxLQUFLLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVO1FBQ2xDLGtCQUFrQixFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtLQUNoRCxDQUFDLENBQUE7SUFFRixNQUFNO1FBQ0osTUFBTSxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsR0FBRyxPQUFPLENBQUMsRUFBQyxTQUFTLEVBQUUsaUNBQWlDLEVBQUMsQ0FBQyxDQUFBO1FBQ3RFLE1BQU0sRUFBQyxJQUFJLEVBQUMsR0FBRyxhQUFhLEVBQUUsQ0FBQTtRQUM5QixNQUFNLEVBQUMsYUFBYSxFQUFFLGNBQWMsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQTtRQUMzRixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQzdDLE1BQU0sRUFBQyxLQUFLLEVBQUUsR0FBRyxlQUFlLEVBQUMsR0FBRyxXQUFXLENBQUE7UUFDL0MsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUMvQixNQUFNLENBQUMsTUFBTSxDQUNYLEtBQUssQ0FBQyxjQUFjLENBQUM7WUFDbkIsTUFBTTtZQUNOLFdBQVc7WUFDWCxJQUFJO1lBQ0osS0FBSyxFQUFFO2dCQUNMLE1BQU0sRUFBRSxjQUFjO2dCQUN0QixTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsRUFBRTtnQkFDMUQsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxNQUFNO2FBQ3JDO1NBQ0YsQ0FBQyxFQUNGLEtBQUssQ0FDTixFQUNELENBQUMsTUFBTSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQ3hFLENBQUE7UUFFRCxNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7UUFDcEUsTUFBTSxVQUFVLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDM0MsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFBO1FBRTVFLE9BQU8sQ0FDTCxNQUFDLE1BQU0sSUFDTCxPQUFPLEVBQUUsT0FBTyxFQUNoQixLQUFLLEVBQUUsV0FBVyxLQUNkLGVBQWUsYUFFbEIsQ0FBQyxJQUFJO29CQUNKLEtBQUMsSUFBSSxJQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLG9CQUFvQixFQUFFLEVBQUMsS0FBSyxFQUFFLHFCQUFxQixFQUFDLENBQUMsWUFDN0UsS0FBQyxJQUFJLElBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsRUFBQyxVQUFVLEVBQUUsTUFBTSxFQUFDLENBQUMsWUFDbEUsS0FBSyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxHQUM5QixHQUNGLEVBRVQsS0FBQyxJQUFJLElBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsb0JBQW9CLEVBQUUsRUFBQyxLQUFLLEVBQUUscUJBQXFCLEVBQUMsQ0FBQyxZQUM1RSxJQUFJLGFBQWEsQ0FBQyxFQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxHQUNyRCxJQUNBLENBQ1YsQ0FBQTtJQUNILENBQUM7SUFFRCx5QkFBeUIsQ0FBQyxNQUFNO1FBQzlCLE1BQU0sVUFBVSxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUE7UUFFcEMsSUFBSSxNQUFNLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUztZQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUNyRyxJQUFJLE1BQU0sQ0FBQyxXQUFXLElBQUksTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTO1lBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBRXJHLE9BQU8sVUFBVSxDQUFBO0lBQ25CLENBQUM7Q0FDRixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGltcGxpY2l0LWFycm93LWxpbmVicmVhaywgaW1wb3J0L25vLXVucmVzb2x2ZWQsIGluZGVudCwgc29ydC1pbXBvcnRzICovXG5pbXBvcnQge0FuaW1hdGVkLCBWaWV3fSBmcm9tIFwicmVhY3QtbmF0aXZlXCJcbmltcG9ydCBSZWFjdCwge3VzZU1lbW99IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tIFwiLi4vYmFzZS1jb21wb25lbnRcIlxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSBcImNsYXNzbmFtZXNcIlxuaW1wb3J0IENvbHVtbiBmcm9tIFwiLi9jb21wb25lbnRzL2NvbHVtblwiXG5pbXBvcnQgQ29sdW1uQ29udGVudCBmcm9tIFwiLi9jb2x1bW4tY29udGVudFwiXG5pbXBvcnQgY29sdW1uSWRlbnRpZmllciBmcm9tIFwiLi9jb2x1bW4taWRlbnRpZmllci5qc1wiXG5pbXBvcnQge0V2ZW50RW1pdHRlcn0gZnJvbSBcImV2ZW50ZW1pdHRlcjNcIlxuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiXG5pbXBvcnQgcHJvcFR5cGVzRXhhY3QgZnJvbSBcInByb3AtdHlwZXMtZXhhY3RcIlxuaW1wb3J0IG1lbW8gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL21lbW8uanNcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudH0gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL3NoYXBlLWNvbXBvbmVudC5qc1wiXG5pbXBvcnQgVGV4dCBmcm9tIFwiLi4vdXRpbHMvdGV4dFwiXG5pbXBvcnQge3VzZUJyZWFrcG9pbnR9IGZyb20gXCJyZXNwb25zaXZlLWJyZWFrcG9pbnRzXCJcbmltcG9ydCB1c2VJMThuIGZyb20gXCJpMThuLW9uLXN0ZXJvaWRzL3NyYy91c2UtaTE4bi5tanNcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyVGFibGVNb2RlbENvbHVtbiBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0gcHJvcFR5cGVzRXhhY3Qoe1xuICAgIGFuaW1hdGVkUG9zaXRpb246IFByb3BUeXBlcy5pbnN0YW5jZU9mKEFuaW1hdGVkLlZhbHVlWFkpLmlzUmVxdWlyZWQsXG4gICAgYW5pbWF0ZWRXaWR0aDogUHJvcFR5cGVzLmluc3RhbmNlT2YoQW5pbWF0ZWQuVmFsdWUpLmlzUmVxdWlyZWQsXG4gICAgYW5pbWF0ZWRaSW5kZXg6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEFuaW1hdGVkLlZhbHVlKS5pc1JlcXVpcmVkLFxuICAgIGNvbHVtbjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNvbHVtbkluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgZXZlbjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBldmVudHM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEV2ZW50RW1pdHRlcikuaXNSZXF1aXJlZCxcbiAgICBtb2RlbDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHRhYmxlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdGFibGVTZXR0aW5nQ29sdW1uOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgfSlcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2wsIHR9ID0gdXNlSTE4bih7bmFtZXNwYWNlOiBcImpzLmFwaV9tYWtlci50YWJsZS5tb2RlbF9jb2x1bW5cIn0pXG4gICAgY29uc3Qge21kVXB9ID0gdXNlQnJlYWtwb2ludCgpXG4gICAgY29uc3Qge2FuaW1hdGVkV2lkdGgsIGFuaW1hdGVkWkluZGV4LCBjb2x1bW4sIGNvbHVtbkluZGV4LCBldmVuLCBtb2RlbCwgdGFibGV9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGNvbHVtblByb3BzID0gdGFibGUuY29sdW1uUHJvcHMoY29sdW1uKVxuICAgIGNvbnN0IHtzdHlsZSwgLi4ucmVzdENvbHVtblByb3BzfSA9IGNvbHVtblByb3BzXG4gICAgY29uc3QgYWN0dWFsU3R5bGUgPSB1c2VNZW1vKCgpID0+XG4gICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICB0YWJsZS5zdHlsZUZvckNvbHVtbih7XG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICAgIGNvbHVtbkluZGV4LFxuICAgICAgICAgIGV2ZW4sXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHpJbmRleDogYW5pbWF0ZWRaSW5kZXgsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMucC5hbmltYXRlZFBvc2l0aW9uLmdldFRyYW5zbGF0ZVRyYW5zZm9ybSgpLFxuICAgICAgICAgICAgd2lkdGg6IG1kVXAgPyBhbmltYXRlZFdpZHRoIDogXCIxMDAlXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBzdHlsZVxuICAgICAgKSxcbiAgICAgIFtjb2x1bW4sIGNvbHVtbkluZGV4LCBldmVuLCBhbmltYXRlZFpJbmRleCwgbWRVcCwgYW5pbWF0ZWRXaWR0aCwgc3R5bGVdXG4gICAgKVxuXG4gICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyh0aGlzLmNvbHVtbkNsYXNzTmFtZXNGb3JDb2x1bW4oY29sdW1uKSlcbiAgICBjb25zdCBpZGVudGlmaWVyID0gY29sdW1uSWRlbnRpZmllcihjb2x1bW4pXG4gICAgY29uc3QgZGF0YVNldCA9IHVzZU1lbW8oKCkgPT4gKHtjbGFzczogY2xhc3NOYW1lLCBpZGVudGlmaWVyfSksIFtjbGFzc05hbWVdKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb2x1bW5cbiAgICAgICAgZGF0YVNldD17ZGF0YVNldH1cbiAgICAgICAgc3R5bGU9e2FjdHVhbFN0eWxlfVxuICAgICAgICB7Li4ucmVzdENvbHVtblByb3BzfVxuICAgICAgPlxuICAgICAgICB7IW1kVXAgJiZcbiAgICAgICAgICA8VmlldyBkYXRhU2V0PXt0aGlzLmNhY2hlKFwiY29sdW1uTGFiZWxEYXRhU2V0XCIsIHtjbGFzczogXCJ0YWJsZS0tY29sdW1uLWxhYmVsXCJ9KX0+XG4gICAgICAgICAgICA8VGV4dCBzdHlsZT17dGhpcy5jYWNoZShcImNvbHVtbkxhYmVsVGV4dFN0eWxlXCIsIHtmb250V2VpZ2h0OiBcImJvbGRcIn0pfT5cbiAgICAgICAgICAgICAge3RhYmxlLmhlYWRlckxhYmVsRm9yQ29sdW1uKGNvbHVtbil9XG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICB9XG4gICAgICAgIDxWaWV3IGRhdGFTZXQ9e3RoaXMuY2FjaGUoXCJjb2x1bW5WYWx1ZURhdGFTZXRcIiwge2NsYXNzOiBcInRhYmxlLS1jb2x1bW4tdmFsdWVcIn0pfT5cbiAgICAgICAgICB7bmV3IENvbHVtbkNvbnRlbnQoe2NvbHVtbiwgbCwgbW9kZWwsIHQsIHRhYmxlfSkuY29udGVudCgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICA8L0NvbHVtbj5cbiAgICApXG4gIH1cblxuICBjb2x1bW5DbGFzc05hbWVzRm9yQ29sdW1uKGNvbHVtbikge1xuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBbXCJ0YWJsZS0tY29sdW1uXCJdXG5cbiAgICBpZiAoY29sdW1uLmNvbW1vblByb3BzICYmIGNvbHVtbi5jb21tb25Qcm9wcy5jbGFzc05hbWUpIGNsYXNzTmFtZXMucHVzaChjb2x1bW4uY29tbW9uUHJvcHMuY2xhc3NOYW1lKVxuICAgIGlmIChjb2x1bW4uY29sdW1uUHJvcHMgJiYgY29sdW1uLmNvbHVtblByb3BzLmNsYXNzTmFtZSkgY2xhc3NOYW1lcy5wdXNoKGNvbHVtbi5jb2x1bW5Qcm9wcy5jbGFzc05hbWUpXG5cbiAgICByZXR1cm4gY2xhc3NOYW1lc1xuICB9XG59KSlcbiJdfQ==
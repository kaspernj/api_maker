import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
/* eslint-disable sort-imports */
import BaseComponent from "../base-component";
import { digg } from "diggerize";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import memo from "set-state-compare/build/memo.js";
import ModelClassTable from "./model-class-table";
import React from "react";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import ShowNav from "./show-nav";
import useModel from "../use-model.js";
import useQueryParams from "on-location-changed/build/use-query-params.js";
import { View } from "react-native";
export default memo(shapeComponent(class ApiMakerSuperAdminShowReflectionPage extends BaseComponent {
    static propTypes = propTypesExact({
        modelClass: PropTypes.func.isRequired,
        modelId: PropTypes.string.isRequired
    });
    render() {
        const { modelClass } = this.p;
        const queryParams = useQueryParams();
        const camelizedLower = digg(modelClass.modelClassData(), "camelizedLower");
        const useModelResult = useModel(modelClass, { loadByQueryParam: ({ queryParams }) => digg(queryParams, "model_id") });
        const model = digg(useModelResult, camelizedLower);
        const reflections = modelClass.reflections();
        const reflection = reflections.find((reflectionI) => reflectionI.name() == queryParams.model_reflection);
        const reflectionModelClass = reflection.modelClass();
        let collection;
        if (model)
            collection = model[reflection.name()]();
        return (_jsxs(View, { testID: "super-admin/show-reflection-page", children: [model &&
                    _jsx(ShowNav, { model: model, modelClass: modelClass }), collection &&
                    _jsx(ModelClassTable, { collection: collection, modelClass: reflectionModelClass }, reflectionModelClass.modelName().human())] }));
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hvdy1yZWZsZWN0aW9uLXBhZ2UuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInN1cGVyLWFkbWluL3Nob3ctcmVmbGVjdGlvbi1wYWdlLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsaUNBQWlDO0FBQ2pDLE9BQU8sYUFBYSxNQUFNLG1CQUFtQixDQUFBO0FBQzdDLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxXQUFXLENBQUE7QUFDOUIsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFBO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLGtCQUFrQixDQUFBO0FBQzdDLE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sZUFBZSxNQUFNLHFCQUFxQixDQUFBO0FBQ2pELE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUN6QixPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFDekUsT0FBTyxPQUFPLE1BQU0sWUFBWSxDQUFBO0FBQ2hDLE9BQU8sUUFBUSxNQUFNLGlCQUFpQixDQUFBO0FBQ3RDLE9BQU8sY0FBYyxNQUFNLCtDQUErQyxDQUFBO0FBQzFFLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxjQUFjLENBQUE7QUFFakMsZUFBZSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sb0NBQXFDLFNBQVEsYUFBYTtJQUNqRyxNQUFNLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztRQUNoQyxVQUFVLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVO1FBQ3JDLE9BQU8sRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7S0FDckMsQ0FBQyxDQUFBO0lBRUYsTUFBTTtRQUNKLE1BQU0sRUFBQyxVQUFVLEVBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO1FBQzNCLE1BQU0sV0FBVyxHQUFHLGNBQWMsRUFBRSxDQUFBO1FBQ3BDLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQTtRQUMxRSxNQUFNLGNBQWMsR0FBRyxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUNqSCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLGNBQWMsQ0FBQyxDQUFBO1FBQ2xELE1BQU0sV0FBVyxHQUFHLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtRQUM1QyxNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUE7UUFDeEcsTUFBTSxvQkFBb0IsR0FBRyxVQUFVLENBQUMsVUFBVSxFQUFFLENBQUE7UUFDcEQsSUFBSSxVQUFVLENBQUE7UUFFZCxJQUFJLEtBQUs7WUFBRSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUE7UUFFbEQsT0FBTyxDQUNMLE1BQUMsSUFBSSxJQUFDLE1BQU0sRUFBQyxrQ0FBa0MsYUFDNUMsS0FBSztvQkFDSixLQUFDLE9BQU8sSUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxVQUFVLEdBQUksRUFFbEQsVUFBVTtvQkFDVCxLQUFDLGVBQWUsSUFDZCxVQUFVLEVBQUUsVUFBVSxFQUV0QixVQUFVLEVBQUUsb0JBQW9CLElBRDNCLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUU3QyxJQUVDLENBQ1IsQ0FBQTtJQUNILENBQUM7Q0FDRixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHNvcnQtaW1wb3J0cyAqL1xuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uL2Jhc2UtY29tcG9uZW50XCJcbmltcG9ydCB7ZGlnZ30gZnJvbSBcImRpZ2dlcml6ZVwiXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBwcm9wVHlwZXNFeGFjdCBmcm9tIFwicHJvcC10eXBlcy1leGFjdFwiXG5pbXBvcnQgbWVtbyBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvbWVtby5qc1wiXG5pbXBvcnQgTW9kZWxDbGFzc1RhYmxlIGZyb20gXCIuL21vZGVsLWNsYXNzLXRhYmxlXCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudH0gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL3NoYXBlLWNvbXBvbmVudC5qc1wiXG5pbXBvcnQgU2hvd05hdiBmcm9tIFwiLi9zaG93LW5hdlwiXG5pbXBvcnQgdXNlTW9kZWwgZnJvbSBcIi4uL3VzZS1tb2RlbC5qc1wiXG5pbXBvcnQgdXNlUXVlcnlQYXJhbXMgZnJvbSBcIm9uLWxvY2F0aW9uLWNoYW5nZWQvYnVpbGQvdXNlLXF1ZXJ5LXBhcmFtcy5qc1wiXG5pbXBvcnQge1ZpZXd9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyU3VwZXJBZG1pblNob3dSZWZsZWN0aW9uUGFnZSBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0gcHJvcFR5cGVzRXhhY3Qoe1xuICAgIG1vZGVsQ2xhc3M6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgbW9kZWxJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG4gIH0pXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHttb2RlbENsYXNzfSA9IHRoaXMucFxuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gdXNlUXVlcnlQYXJhbXMoKVxuICAgIGNvbnN0IGNhbWVsaXplZExvd2VyID0gZGlnZyhtb2RlbENsYXNzLm1vZGVsQ2xhc3NEYXRhKCksIFwiY2FtZWxpemVkTG93ZXJcIilcbiAgICBjb25zdCB1c2VNb2RlbFJlc3VsdCA9IHVzZU1vZGVsKG1vZGVsQ2xhc3MsIHtsb2FkQnlRdWVyeVBhcmFtOiAoe3F1ZXJ5UGFyYW1zfSkgPT4gZGlnZyhxdWVyeVBhcmFtcywgXCJtb2RlbF9pZFwiKX0pXG4gICAgY29uc3QgbW9kZWwgPSBkaWdnKHVzZU1vZGVsUmVzdWx0LCBjYW1lbGl6ZWRMb3dlcilcbiAgICBjb25zdCByZWZsZWN0aW9ucyA9IG1vZGVsQ2xhc3MucmVmbGVjdGlvbnMoKVxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSByZWZsZWN0aW9ucy5maW5kKChyZWZsZWN0aW9uSSkgPT4gcmVmbGVjdGlvbkkubmFtZSgpID09IHF1ZXJ5UGFyYW1zLm1vZGVsX3JlZmxlY3Rpb24pXG4gICAgY29uc3QgcmVmbGVjdGlvbk1vZGVsQ2xhc3MgPSByZWZsZWN0aW9uLm1vZGVsQ2xhc3MoKVxuICAgIGxldCBjb2xsZWN0aW9uXG5cbiAgICBpZiAobW9kZWwpIGNvbGxlY3Rpb24gPSBtb2RlbFtyZWZsZWN0aW9uLm5hbWUoKV0oKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHRlc3RJRD1cInN1cGVyLWFkbWluL3Nob3ctcmVmbGVjdGlvbi1wYWdlXCI+XG4gICAgICAgIHttb2RlbCAmJlxuICAgICAgICAgIDxTaG93TmF2IG1vZGVsPXttb2RlbH0gbW9kZWxDbGFzcz17bW9kZWxDbGFzc30gLz5cbiAgICAgICAgfVxuICAgICAgICB7Y29sbGVjdGlvbiAmJlxuICAgICAgICAgIDxNb2RlbENsYXNzVGFibGVcbiAgICAgICAgICAgIGNvbGxlY3Rpb249e2NvbGxlY3Rpb259XG4gICAgICAgICAgICBrZXk9e3JlZmxlY3Rpb25Nb2RlbENsYXNzLm1vZGVsTmFtZSgpLmh1bWFuKCl9XG4gICAgICAgICAgICBtb2RlbENsYXNzPXtyZWZsZWN0aW9uTW9kZWxDbGFzc31cbiAgICAgICAgICAvPlxuICAgICAgICB9XG4gICAgICA8L1ZpZXc+XG4gICAgKVxuICB9XG59KSlcbiJdfQ==
import { jsx as _jsx, Fragment as _Fragment } from "react/jsx-runtime";
/* eslint-disable no-extra-parens, sort-imports */
import BaseComponent from "../../base-component";
import { digg } from "diggerize";
import EditAttributeCheckbox from "./edit-attribute-checkbox";
import EditAttributeContent from "./edit-attribute-content";
import EditAttributeInput from "./edit-attribute-input";
import * as inflection from "inflection";
import Locales from "shared/locales.js"; // eslint-disable-line import/no-unresolved
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import { View } from "react-native";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
export default memo(shapeComponent(class EditAttribute extends BaseComponent {
    static propTypes = propTypesExact({
        attribute: PropTypes.object.isRequired,
        model: PropTypes.object,
        modelClass: PropTypes.func
    });
    render() {
        const { attribute, model, modelClass } = this.props;
        const availableLocales = Locales.availableLocales();
        const camelizedLower = digg(modelClass.modelClassData(), "camelizedLower");
        const modelAttribute = modelClass.attributes().find((modelAttributeI) => modelAttributeI.name() == attribute.attribute);
        return (_jsx(View, { style: this.cache("rootViewStyle", { marginBottom: attribute.translated ? undefined : 12 }, [attribute.translated]), testID: "api-maker/super-admin/edit-page/edit-attribute", children: (() => {
                if (attribute.content) {
                    return (_jsx(EditAttributeContent, { attribute: attribute, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`, model: model, name: inflection.underscore(attribute.attribute) }));
                }
                else if (attribute.translated) {
                    return (_jsx(_Fragment, { children: availableLocales.map((locale) => (_jsx(View, { style: this.cache("localeViewStyle", { marginBottom: 12 }), children: _jsx(EditAttributeInput, { attributeName: `${attribute.attribute}${inflection.camelize(locale)}`, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}_${locale}`, label: `${modelClass.humanAttributeName(attribute.attribute)} (${locale})`, model: model, name: `${inflection.underscore(attribute.attribute)}_${locale}` }) }, locale))) }));
                }
                else if (modelAttribute?.getColumn()?.getType() == "boolean") {
                    return (_jsx(EditAttributeCheckbox, { attributeName: attribute.attribute, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`, label: modelClass.humanAttributeName(attribute.attribute), model: model, name: inflection.underscore(attribute.attribute) }));
                }
                else {
                    return (_jsx(EditAttributeInput, { attributeName: attribute.attribute, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`, label: modelClass.humanAttributeName(attribute.attribute), model: model, name: inflection.underscore(attribute.attribute) }));
                }
            })() }));
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC1hdHRyaWJ1dGUuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInN1cGVyLWFkbWluL2VkaXQtcGFnZS9lZGl0LWF0dHJpYnV0ZS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGtEQUFrRDtBQUNsRCxPQUFPLGFBQWEsTUFBTSxzQkFBc0IsQ0FBQTtBQUNoRCxPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sV0FBVyxDQUFBO0FBQzlCLE9BQU8scUJBQXFCLE1BQU0sMkJBQTJCLENBQUE7QUFDN0QsT0FBTyxvQkFBb0IsTUFBTSwwQkFBMEIsQ0FBQTtBQUMzRCxPQUFPLGtCQUFrQixNQUFNLHdCQUF3QixDQUFBO0FBQ3ZELE9BQU8sS0FBSyxVQUFVLE1BQU0sWUFBWSxDQUFBO0FBQ3hDLE9BQU8sT0FBTyxNQUFNLG1CQUFtQixDQUFBLENBQUMsMkNBQTJDO0FBQ25GLE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQTtBQUNsQyxPQUFPLGNBQWMsTUFBTSxrQkFBa0IsQ0FBQTtBQUM3QyxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUE7QUFDekIsT0FBTyxFQUFDLElBQUksRUFBQyxNQUFNLGNBQWMsQ0FBQTtBQUNqQyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFFekUsZUFBZSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sYUFBYyxTQUFRLGFBQWE7SUFDMUUsTUFBTSxDQUFDLFNBQVMsR0FBRyxjQUFjLENBQUM7UUFDaEMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtRQUN0QyxLQUFLLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDdkIsVUFBVSxFQUFFLFNBQVMsQ0FBQyxJQUFJO0tBQzNCLENBQUMsQ0FBQTtJQUVGLE1BQU07UUFDSixNQUFNLEVBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUMsR0FBRyxJQUFJLENBQUMs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QztxQkFBTSxDQUFDO29CQUNOLE9BQU8sQ0FDTCxLQUFDLGtCQUFrQixJQUNqQixhQUFhLEVBQUUsU0FBUyxDQUFDLFNBQVMsRUFDbEMsRUFBRSxFQUFFLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUM1RixLQUFLLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFDekQsS0FBSyxFQUFFLEtBQUssRUFDWixJQUFJLEVBQUUsVUFBVSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQ2hELENBQ0gsQ0FBQTtnQkFDSCxDQUFDO1lBQ0gsQ0FBQyxDQUFDLEVBQUUsR0FDQyxDQUNSLENBQUE7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1leHRyYS1wYXJlbnMsIHNvcnQtaW1wb3J0cyAqL1xuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uLy4uL2Jhc2UtY29tcG9uZW50XCJcbmltcG9ydCB7ZGlnZ30gZnJvbSBcImRpZ2dlcml6ZVwiXG5pbXBvcnQgRWRpdEF0dHJpYnV0ZUNoZWNrYm94IGZyb20gXCIuL2VkaXQtYXR0cmlidXRlLWNoZWNrYm94XCJcbmltcG9ydCBFZGl0QXR0cmlidXRlQ29udGVudCBmcm9tIFwiLi9lZGl0LWF0dHJpYnV0ZS1jb250ZW50XCJcbmltcG9ydCBFZGl0QXR0cmlidXRlSW5wdXQgZnJvbSBcIi4vZWRpdC1hdHRyaWJ1dGUtaW5wdXRcIlxuaW1wb3J0ICogYXMgaW5mbGVjdGlvbiBmcm9tIFwiaW5mbGVjdGlvblwiXG5pbXBvcnQgTG9jYWxlcyBmcm9tIFwic2hhcmVkL2xvY2FsZXMuanNcIiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9uby11bnJlc29sdmVkXG5pbXBvcnQgbWVtbyBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvbWVtby5qc1wiXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBwcm9wVHlwZXNFeGFjdCBmcm9tIFwicHJvcC10eXBlcy1leGFjdFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7Vmlld30gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5pbXBvcnQge3NoYXBlQ29tcG9uZW50fSBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvc2hhcGUtY29tcG9uZW50LmpzXCJcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhzaGFwZUNvbXBvbmVudChjbGFzcyBFZGl0QXR0cmlidXRlIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSBwcm9wVHlwZXNFeGFjdCh7XG4gICAgYXR0cmlidXRlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbW9kZWw6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbW9kZWxDbGFzczogUHJvcFR5cGVzLmZ1bmNcbiAgfSlcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2F0dHJpYnV0ZSwgbW9kZWwsIG1vZGVsQ2xhc3N9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGF2YWlsYWJsZUxvY2FsZXMgPSBMb2NhbGVzLmF2YWlsYWJsZUxvY2FsZXMoKVxuICAgIGNvbnN0IGNhbWVsaXplZExvd2VyID0gZGlnZyhtb2RlbENsYXNzLm1vZGVsQ2xhc3NEYXRhKCksIFwiY2FtZWxpemVkTG93ZXJcIilcbiAgICBjb25zdCBtb2RlbEF0dHJpYnV0ZSA9IG1vZGVsQ2xhc3MuYXR0cmlidXRlcygpLmZpbmQoKG1vZGVsQXR0cmlidXRlSSkgPT4gbW9kZWxBdHRyaWJ1dGVJLm5hbWUoKSA9PSBhdHRyaWJ1dGUuYXR0cmlidXRlKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIHN0eWxlPXt0aGlzLmNhY2hlKFwicm9vdFZpZXdTdHlsZVwiLCB7bWFyZ2luQm90dG9tOiBhdHRyaWJ1dGUudHJhbnNsYXRlZCA/IHVuZGVmaW5lZCA6IDEyfSwgW2F0dHJpYnV0ZS50cmFuc2xhdGVkXSl9XG4gICAgICAgIHRlc3RJRD1cImFwaS1tYWtlci9zdXBlci1hZG1pbi9lZGl0LXBhZ2UvZWRpdC1hdHRyaWJ1dGVcIlxuICAgICAgPlxuICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICBpZiAoYXR0cmlidXRlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxFZGl0QXR0cmlidXRlQ29udGVudFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZT17YXR0cmlidXRlfVxuICAgICAgICAgICAgICAgIGlkPXtgJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoY2FtZWxpemVkTG93ZXIpfV8ke2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1gfVxuICAgICAgICAgICAgICAgIG1vZGVsPXttb2RlbH1cbiAgICAgICAgICAgICAgICBuYW1lPXtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUudHJhbnNsYXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICB7YXZhaWxhYmxlTG9jYWxlcy5tYXAoKGxvY2FsZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPFZpZXcga2V5PXtsb2NhbGV9IHN0eWxlPXt0aGlzLmNhY2hlKFwibG9jYWxlVmlld1N0eWxlXCIsIHttYXJnaW5Cb3R0b206IDEyfSl9PlxuICAgICAgICAgICAgICAgICAgICA8RWRpdEF0dHJpYnV0ZUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZT17YCR7YXR0cmlidXRlLmF0dHJpYnV0ZX0ke2luZmxlY3Rpb24uY2FtZWxpemUobG9jYWxlKX1gfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPXtgJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoY2FtZWxpemVkTG93ZXIpfV8ke2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1fJHtsb2NhbGV9YH1cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17YCR7bW9kZWxDbGFzcy5odW1hbkF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9ICgke2xvY2FsZX0pYH1cbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbD17bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT17YCR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfV8ke2xvY2FsZX1gfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9WaWV3PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vZGVsQXR0cmlidXRlPy5nZXRDb2x1bW4oKT8uZ2V0VHlwZSgpID09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RWRpdEF0dHJpYnV0ZUNoZWNrYm94XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZT17YXR0cmlidXRlLmF0dHJpYnV0ZX1cbiAgICAgICAgICAgICAgICBpZD17YCR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGNhbWVsaXplZExvd2VyKX1fJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9YH1cbiAgICAgICAgICAgICAgICBsYWJlbD17bW9kZWxDbGFzcy5odW1hbkF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9XG4gICAgICAgICAgICAgICAgbW9kZWw9e21vZGVsfVxuICAgICAgICAgICAgICAgIG5hbWU9e2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEVkaXRBdHRyaWJ1dGVJbnB1dFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9e2F0dHJpYnV0ZS5hdHRyaWJ1dGV9XG4gICAgICAgICAgICAgICAgaWQ9e2Ake2luZmxlY3Rpb24udW5kZXJzY29yZShjYW1lbGl6ZWRMb3dlcil9XyR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfWB9XG4gICAgICAgICAgICAgICAgbGFiZWw9e21vZGVsQ2xhc3MuaHVtYW5BdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfVxuICAgICAgICAgICAgICAgIG1vZGVsPXttb2RlbH1cbiAgICAgICAgICAgICAgICBuYW1lPXtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9KSgpfVxuICAgICAgPC9WaWV3PlxuICAgIClcbiAgfVxufSkpXG4iXX0=
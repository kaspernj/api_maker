import { jsx as _jsx, Fragment as _Fragment } from "react/jsx-runtime";
import BaseComponent from "../../base-component";
import { digg } from "diggerize";
import EditAttributeCheckbox from "./edit-attribute-checkbox";
import EditAttributeContent from "./edit-attribute-content";
import EditAttributeInput from "./edit-attribute-input";
import * as inflection from "inflection";
import Locales from "shared/locales.js";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import { View } from "react-native";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
export default memo(shapeComponent(class EditAttribute extends BaseComponent {
    static propTypes = propTypesExact({
        attribute: PropTypes.object.isRequired,
        model: PropTypes.object,
        modelClass: PropTypes.func
    });
    render() {
        const { attribute, model, modelClass } = this.props;
        const availableLocales = Locales.availableLocales();
        const camelizedLower = digg(modelClass.modelClassData(), "camelizedLower");
        const modelAttribute = modelClass.attributes().find((modelAttributeI) => modelAttributeI.name() == attribute.attribute);
        return (_jsx(View, { style: this.cache("rootViewStyle", { marginBottom: attribute.translated ? undefined : 12 }, [attribute.translated]), testID: "api-maker/super-admin/edit-page/edit-attribute", children: (() => {
                if (attribute.content) {
                    return (_jsx(EditAttributeContent, { attribute: attribute, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`, model: model, name: inflection.underscore(attribute.attribute) }));
                }
                else if (attribute.translated) {
                    return (_jsx(_Fragment, { children: availableLocales.map((locale) => _jsx(View, { style: this.cache("localeViewStyle", { marginBottom: 12 }), children: _jsx(EditAttributeInput, { attributeName: `${attribute.attribute}${inflection.camelize(locale)}`, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}_${locale}`, label: `${modelClass.humanAttributeName(attribute.attribute)} (${locale})`, model: model, name: `${inflection.underscore(attribute.attribute)}_${locale}` }) }, locale)) }));
                }
                else if (modelAttribute?.getColumn()?.getType() == "boolean") {
                    return (_jsx(EditAttributeCheckbox, { attributeName: attribute.attribute, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`, label: modelClass.humanAttributeName(attribute.attribute), model: model, name: inflection.underscore(attribute.attribute) }));
                }
                else {
                    return (_jsx(EditAttributeInput, { attributeName: attribute.attribute, id: `${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`, label: modelClass.humanAttributeName(attribute.attribute), model: model, name: inflection.underscore(attribute.attribute) }));
                }
            })() }));
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC1hdHRyaWJ1dGUuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInN1cGVyLWFkbWluL2VkaXQtcGFnZS9lZGl0LWF0dHJpYnV0ZS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sYUFBYSxNQUFNLHNCQUFzQixDQUFBO0FBQ2hELE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxXQUFXLENBQUE7QUFDOUIsT0FBTyxxQkFBcUIsTUFBTSwyQkFBMkIsQ0FBQTtBQUM3RCxPQUFPLG9CQUFvQixNQUFNLDBCQUEwQixDQUFBO0FBQzNELE9BQU8sa0JBQWtCLE1BQU0sd0JBQXdCLENBQUE7QUFDdkQsT0FBTyxLQUFLLFVBQVUsTUFBTSxZQUFZLENBQUE7QUFDeEMsT0FBTyxPQUFPLE1BQU0sbUJBQW1CLENBQUE7QUFDdkMsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFBO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLGtCQUFrQixDQUFBO0FBQzdDLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUN6QixPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sY0FBYyxDQUFBO0FBQ2pDLE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQTtBQUV6RSxlQUFlLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxhQUFjLFNBQVEsYUFBYTtJQUMxRSxNQUFNLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztRQUNoQyxTQUFTLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVO1FBQ3RDLEtBQUssRUFBRSxTQUFTLENBQUMsTUFBTTtRQUN2QixVQUFVLEVBQUUsU0FBUyxDQUFDLElBQUk7S0FDM0IsQ0FBQyxDQUFBO0lBRUYsTUFBTTtRQUNKLE1BQU0sRUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUE7UUFDakQsTUFBTSxnQkFB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QkFBa0IsSUFDakIsYUFBYSxFQUFFLFNBQVMsQ0FBQyxTQUFTLEVBQ2xDLEVBQUUsRUFBRSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFDNUYsS0FBSyxFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQ3pELEtBQUssRUFBRSxLQUFLLEVBQ1osSUFBSSxFQUFFLFVBQVUsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUNoRCxDQUNILENBQUE7Z0JBQ0gsQ0FBQztZQUNILENBQUMsQ0FBQyxFQUFFLEdBQ0MsQ0FDUixDQUFBO0lBQ0gsQ0FBQztDQUNGLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uLy4uL2Jhc2UtY29tcG9uZW50XCJcbmltcG9ydCB7ZGlnZ30gZnJvbSBcImRpZ2dlcml6ZVwiXG5pbXBvcnQgRWRpdEF0dHJpYnV0ZUNoZWNrYm94IGZyb20gXCIuL2VkaXQtYXR0cmlidXRlLWNoZWNrYm94XCJcbmltcG9ydCBFZGl0QXR0cmlidXRlQ29udGVudCBmcm9tIFwiLi9lZGl0LWF0dHJpYnV0ZS1jb250ZW50XCJcbmltcG9ydCBFZGl0QXR0cmlidXRlSW5wdXQgZnJvbSBcIi4vZWRpdC1hdHRyaWJ1dGUtaW5wdXRcIlxuaW1wb3J0ICogYXMgaW5mbGVjdGlvbiBmcm9tIFwiaW5mbGVjdGlvblwiXG5pbXBvcnQgTG9jYWxlcyBmcm9tIFwic2hhcmVkL2xvY2FsZXMuanNcIlxuaW1wb3J0IG1lbW8gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL21lbW8uanNcIlxuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiXG5pbXBvcnQgcHJvcFR5cGVzRXhhY3QgZnJvbSBcInByb3AtdHlwZXMtZXhhY3RcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQge1ZpZXd9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudH0gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL3NoYXBlLWNvbXBvbmVudC5qc1wiXG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oc2hhcGVDb21wb25lbnQoY2xhc3MgRWRpdEF0dHJpYnV0ZSBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0gcHJvcFR5cGVzRXhhY3Qoe1xuICAgIGF0dHJpYnV0ZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG1vZGVsOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIG1vZGVsQ2xhc3M6IFByb3BUeXBlcy5mdW5jXG4gIH0pXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHthdHRyaWJ1dGUsIG1vZGVsLCBtb2RlbENsYXNzfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBhdmFpbGFibGVMb2NhbGVzID0gTG9jYWxlcy5hdmFpbGFibGVMb2NhbGVzKClcbiAgICBjb25zdCBjYW1lbGl6ZWRMb3dlciA9IGRpZ2cobW9kZWxDbGFzcy5tb2RlbENsYXNzRGF0YSgpLCBcImNhbWVsaXplZExvd2VyXCIpXG4gICAgY29uc3QgbW9kZWxBdHRyaWJ1dGUgPSBtb2RlbENsYXNzLmF0dHJpYnV0ZXMoKS5maW5kKChtb2RlbEF0dHJpYnV0ZUkpID0+IG1vZGVsQXR0cmlidXRlSS5uYW1lKCkgPT0gYXR0cmlidXRlLmF0dHJpYnV0ZSlcblxuICAgIHJldHVybiAoXG4gICAgICA8Vmlld1xuICAgICAgICBzdHlsZT17dGhpcy5jYWNoZShcInJvb3RWaWV3U3R5bGVcIiwge21hcmdpbkJvdHRvbTogYXR0cmlidXRlLnRyYW5zbGF0ZWQgPyB1bmRlZmluZWQgOiAxMn0sIFthdHRyaWJ1dGUudHJhbnNsYXRlZF0pfVxuICAgICAgICB0ZXN0SUQ9XCJhcGktbWFrZXIvc3VwZXItYWRtaW4vZWRpdC1wYWdlL2VkaXQtYXR0cmlidXRlXCJcbiAgICAgID5cbiAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgaWYgKGF0dHJpYnV0ZS5jb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RWRpdEF0dHJpYnV0ZUNvbnRlbnRcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGU9e2F0dHJpYnV0ZX1cbiAgICAgICAgICAgICAgICBpZD17YCR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGNhbWVsaXplZExvd2VyKX1fJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9YH1cbiAgICAgICAgICAgICAgICBtb2RlbD17bW9kZWx9XG4gICAgICAgICAgICAgICAgbmFtZT17aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlLnRyYW5zbGF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2F2YWlsYWJsZUxvY2FsZXMubWFwKChsb2NhbGUpID0+XG4gICAgICAgICAgICAgICAgICA8VmlldyBrZXk9e2xvY2FsZX0gc3R5bGU9e3RoaXMuY2FjaGUoXCJsb2NhbGVWaWV3U3R5bGVcIiwge21hcmdpbkJvdHRvbTogMTJ9KX0+XG4gICAgICAgICAgICAgICAgICAgIDxFZGl0QXR0cmlidXRlSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPXtgJHthdHRyaWJ1dGUuYXR0cmlidXRlfSR7aW5mbGVjdGlvbi5jYW1lbGl6ZShsb2NhbGUpfWB9XG4gICAgICAgICAgICAgICAgICAgICAgaWQ9e2Ake2luZmxlY3Rpb24udW5kZXJzY29yZShjYW1lbGl6ZWRMb3dlcil9XyR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfV8ke2xvY2FsZX1gfVxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtgJHttb2RlbENsYXNzLmh1bWFuQXR0cmlidXRlTmFtZShhdHRyaWJ1dGUuYXR0cmlidXRlKX0gKCR7bG9jYWxlfSlgfVxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsPXttb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9XyR7bG9jYWxlfWB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIGlmIChtb2RlbEF0dHJpYnV0ZT8uZ2V0Q29sdW1uKCk/LmdldFR5cGUoKSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEVkaXRBdHRyaWJ1dGVDaGVja2JveFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9e2F0dHJpYnV0ZS5hdHRyaWJ1dGV9XG4gICAgICAgICAgICAgICAgaWQ9e2Ake2luZmxlY3Rpb24udW5kZXJzY29yZShjYW1lbGl6ZWRMb3dlcil9XyR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfWB9XG4gICAgICAgICAgICAgICAgbGFiZWw9e21vZGVsQ2xhc3MuaHVtYW5BdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfVxuICAgICAgICAgICAgICAgIG1vZGVsPXttb2RlbH1cbiAgICAgICAgICAgICAgICBuYW1lPXtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxFZGl0QXR0cmlidXRlSW5wdXRcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPXthdHRyaWJ1dGUuYXR0cmlidXRlfVxuICAgICAgICAgICAgICAgIGlkPXtgJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoY2FtZWxpemVkTG93ZXIpfV8ke2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1gfVxuICAgICAgICAgICAgICAgIGxhYmVsPXttb2RlbENsYXNzLmh1bWFuQXR0cmlidXRlTmFtZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1cbiAgICAgICAgICAgICAgICBtb2RlbD17bW9kZWx9XG4gICAgICAgICAgICAgICAgbmFtZT17aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSkoKX1cbiAgICAgIDwvVmlldz5cbiAgICApXG4gIH1cbn0pKVxuIl19
import BaseComponent from "../../base-component.js";
import { digg } from "diggerize";
import EditAttributeCheckbox from "./edit-attribute-checkbox.js";
import EditAttributeContent from "./edit-attribute-content.js";
import EditAttributeInput from "./edit-attribute-input.js";
import * as inflection from "inflection";
import Locales from "shared/locales.js";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import { View } from "react-native";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
export default memo(shapeComponent(class EditAttribute extends BaseComponent {
    static propTypes = propTypesExact({
        attribute: PropTypes.object.isRequired,
        model: PropTypes.object,
        modelClass: PropTypes.func
    });
    render() {
        const { attribute, model, modelClass } = this.props;
        const availableLocales = Locales.availableLocales();
        const camelizedLower = digg(modelClass.modelClassData(), "camelizedLower");
        const modelAttribute = modelClass.attributes().find((modelAttributeI) => modelAttributeI.name() == attribute.attribute);
        return (<View style={this.cache("rootViewStyle", { marginBottom: attribute.translated ? undefined : 12 }, [attribute.translated])} testID="api-maker/super-admin/edit-page/edit-attribute">
        {(() => {
                if (attribute.content) {
                    return (<EditAttributeContent attribute={attribute} id={`${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`} model={model} name={inflection.underscore(attribute.attribute)}/>);
                }
                else if (attribute.translated) {
                    return (<>
                {availableLocales.map((locale) => <View key={locale} style={this.cache("localeViewStyle", { marginBottom: 12 })}>
                    <EditAttributeInput attributeName={`${attribute.attribute}${inflection.camelize(locale)}`} id={`${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}_${locale}`} label={`${modelClass.humanAttributeName(attribute.attribute)} (${locale})`} model={model} name={`${inflection.underscore(attribute.attribute)}_${locale}`}/>
                  </View>)}
              </>);
                }
                else if (modelAttribute?.getColumn()?.getType() == "boolean") {
                    return (<EditAttributeCheckbox attributeName={attribute.attribute} id={`${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`} label={modelClass.humanAttributeName(attribute.attribute)} model={model} name={inflection.underscore(attribute.attribute)}/>);
                }
                else {
                    return (<EditAttributeInput attributeName={attribute.attribute} id={`${inflection.underscore(camelizedLower)}_${inflection.underscore(attribute.attribute)}`} label={modelClass.humanAttributeName(attribute.attribute)} model={model} name={inflection.underscore(attribute.attribute)}/>);
                }
            })()}
      </View>);
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC1hdHRyaWJ1dGUuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInN1cGVyLWFkbWluL2VkaXQtcGFnZS9lZGl0LWF0dHJpYnV0ZS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxhQUFhLE1BQU0seUJBQXlCLENBQUE7QUFDbkQsT0FBTyxFQUFDLElBQUksRUFBQyxNQUFNLFdBQVcsQ0FBQTtBQUM5QixPQUFPLHFCQUFxQixNQUFNLDhCQUE4QixDQUFBO0FBQ2hFLE9BQU8sb0JBQW9CLE1BQU0sNkJBQTZCLENBQUE7QUFDOUQsT0FBTyxrQkFBa0IsTUFBTSwyQkFBMkIsQ0FBQTtBQUMxRCxPQUFPLEtBQUssVUFBVSxNQUFNLFlBQVksQ0FBQTtBQUN4QyxPQUFPLE9BQU8sTUFBTSxtQkFBbUIsQ0FBQTtBQUN2QyxPQUFPLElBQUksTUFBTSxpQ0FBaUMsQ0FBQTtBQUNsRCxPQUFPLFNBQVMsTUFBTSxZQUFZLENBQUE7QUFDbEMsT0FBTyxjQUFjLE1BQU0sa0JBQWtCLENBQUE7QUFDN0MsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFBO0FBQ3pCLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxjQUFjLENBQUE7QUFDakMsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLDRDQUE0QyxDQUFBO0FBRXpFLGVBQWUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLGFBQWMsU0FBUSxhQUFhO0lBQzFFLE1BQU0sQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO1FBQ2hDLFNBQVMsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7UUFDdEMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3ZCLFVBQVUsRUFBRSxTQUFTLENBQUMsSUFBSTtLQUMzQixDQUFDLENBQUE7SUFFRixNQUFNO1FBQ0osTUFBTSxFQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQTtRQUNqRCxNQUFNLGdCQUFn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RSxDQUFDLENBQzdGLEtBQUssQ0FBQyxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FDMUQsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQ2IsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsRUFDakQsQ0FDSCxDQUFBO2dCQUNILENBQUM7cUJBQU0sQ0FBQztvQkFDTixPQUFPLENBQ0wsQ0FBQyxrQkFBa0IsQ0FDakIsYUFBYSxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUNuQyxFQUFFLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUM3RixLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQzFELEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUNiLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQ2pELENBQ0gsQ0FBQTtnQkFDSCxDQUFDO1lBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FDTjtNQUFBLEVBQUUsSUFBSSxDQUFDLENBQ1IsQ0FBQTtJQUNILENBQUM7Q0FDRixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlQ29tcG9uZW50IGZyb20gXCIuLi8uLi9iYXNlLWNvbXBvbmVudC5qc1wiXG5pbXBvcnQge2RpZ2d9IGZyb20gXCJkaWdnZXJpemVcIlxuaW1wb3J0IEVkaXRBdHRyaWJ1dGVDaGVja2JveCBmcm9tIFwiLi9lZGl0LWF0dHJpYnV0ZS1jaGVja2JveC5qc1wiXG5pbXBvcnQgRWRpdEF0dHJpYnV0ZUNvbnRlbnQgZnJvbSBcIi4vZWRpdC1hdHRyaWJ1dGUtY29udGVudC5qc1wiXG5pbXBvcnQgRWRpdEF0dHJpYnV0ZUlucHV0IGZyb20gXCIuL2VkaXQtYXR0cmlidXRlLWlucHV0LmpzXCJcbmltcG9ydCAqIGFzIGluZmxlY3Rpb24gZnJvbSBcImluZmxlY3Rpb25cIlxuaW1wb3J0IExvY2FsZXMgZnJvbSBcInNoYXJlZC9sb2NhbGVzLmpzXCJcbmltcG9ydCBtZW1vIGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9tZW1vLmpzXCJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIlxuaW1wb3J0IHByb3BUeXBlc0V4YWN0IGZyb20gXCJwcm9wLXR5cGVzLWV4YWN0XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHtWaWV3fSBmcm9tIFwicmVhY3QtbmF0aXZlXCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEVkaXRBdHRyaWJ1dGUgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHByb3BUeXBlc0V4YWN0KHtcbiAgICBhdHRyaWJ1dGU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBtb2RlbDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtb2RlbENsYXNzOiBQcm9wVHlwZXMuZnVuY1xuICB9KVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7YXR0cmlidXRlLCBtb2RlbCwgbW9kZWxDbGFzc30gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgYXZhaWxhYmxlTG9jYWxlcyA9IExvY2FsZXMuYXZhaWxhYmxlTG9jYWxlcygpXG4gICAgY29uc3QgY2FtZWxpemVkTG93ZXIgPSBkaWdnKG1vZGVsQ2xhc3MubW9kZWxDbGFzc0RhdGEoKSwgXCJjYW1lbGl6ZWRMb3dlclwiKVxuICAgIGNvbnN0IG1vZGVsQXR0cmlidXRlID0gbW9kZWxDbGFzcy5hdHRyaWJ1dGVzKCkuZmluZCgobW9kZWxBdHRyaWJ1dGVJKSA9PiBtb2RlbEF0dHJpYnV0ZUkubmFtZSgpID09IGF0dHJpYnV0ZS5hdHRyaWJ1dGUpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXdcbiAgICAgICAgc3R5bGU9e3RoaXMuY2FjaGUoXCJyb290Vmlld1N0eWxlXCIsIHttYXJnaW5Cb3R0b206IGF0dHJpYnV0ZS50cmFuc2xhdGVkID8gdW5kZWZpbmVkIDogMTJ9LCBbYXR0cmlidXRlLnRyYW5zbGF0ZWRdKX1cbiAgICAgICAgdGVzdElEPVwiYXBpLW1ha2VyL3N1cGVyLWFkbWluL2VkaXQtcGFnZS9lZGl0LWF0dHJpYnV0ZVwiXG4gICAgICA+XG4gICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgIGlmIChhdHRyaWJ1dGUuY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEVkaXRBdHRyaWJ1dGVDb250ZW50XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlPXthdHRyaWJ1dGV9XG4gICAgICAgICAgICAgICAgaWQ9e2Ake2luZmxlY3Rpb24udW5kZXJzY29yZShjYW1lbGl6ZWRMb3dlcil9XyR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfWB9XG4gICAgICAgICAgICAgICAgbW9kZWw9e21vZGVsfVxuICAgICAgICAgICAgICAgIG5hbWU9e2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZS50cmFuc2xhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHthdmFpbGFibGVMb2NhbGVzLm1hcCgobG9jYWxlKSA9PlxuICAgICAgICAgICAgICAgICAgPFZpZXcga2V5PXtsb2NhbGV9IHN0eWxlPXt0aGlzLmNhY2hlKFwibG9jYWxlVmlld1N0eWxlXCIsIHttYXJnaW5Cb3R0b206IDEyfSl9PlxuICAgICAgICAgICAgICAgICAgICA8RWRpdEF0dHJpYnV0ZUlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZT17YCR7YXR0cmlidXRlLmF0dHJpYnV0ZX0ke2luZmxlY3Rpb24uY2FtZWxpemUobG9jYWxlKX1gfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPXtgJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoY2FtZWxpemVkTG93ZXIpfV8ke2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1fJHtsb2NhbGV9YH1cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17YCR7bW9kZWxDbGFzcy5odW1hbkF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9ICgke2xvY2FsZX0pYH1cbiAgICAgICAgICAgICAgICAgICAgICBtb2RlbD17bW9kZWx9XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT17YCR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfV8ke2xvY2FsZX1gfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9WaWV3PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSBpZiAobW9kZWxBdHRyaWJ1dGU/LmdldENvbHVtbigpPy5nZXRUeXBlKCkgPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxFZGl0QXR0cmlidXRlQ2hlY2tib3hcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPXthdHRyaWJ1dGUuYXR0cmlidXRlfVxuICAgICAgICAgICAgICAgIGlkPXtgJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoY2FtZWxpemVkTG93ZXIpfV8ke2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1gfVxuICAgICAgICAgICAgICAgIGxhYmVsPXttb2RlbENsYXNzLmh1bWFuQXR0cmlidXRlTmFtZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1cbiAgICAgICAgICAgICAgICBtb2RlbD17bW9kZWx9XG4gICAgICAgICAgICAgICAgbmFtZT17aW5mbGVjdGlvbi51bmRlcnNjb3JlKGF0dHJpYnV0ZS5hdHRyaWJ1dGUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RWRpdEF0dHJpYnV0ZUlucHV0XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZT17YXR0cmlidXRlLmF0dHJpYnV0ZX1cbiAgICAgICAgICAgICAgICBpZD17YCR7aW5mbGVjdGlvbi51bmRlcnNjb3JlKGNhbWVsaXplZExvd2VyKX1fJHtpbmZsZWN0aW9uLnVuZGVyc2NvcmUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9YH1cbiAgICAgICAgICAgICAgICBsYWJlbD17bW9kZWxDbGFzcy5odW1hbkF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlLmF0dHJpYnV0ZSl9XG4gICAgICAgICAgICAgICAgbW9kZWw9e21vZGVsfVxuICAgICAgICAgICAgICAgIG5hbWU9e2luZmxlY3Rpb24udW5kZXJzY29yZShhdHRyaWJ1dGUuYXR0cmlidXRlKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0pKCl9XG4gICAgICA8L1ZpZXc+XG4gICAgKVxuICB9XG59KSlcbiJdfQ==
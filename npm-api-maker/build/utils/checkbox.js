import { CheckBox, Pressable, View } from "react-native";
import React, { useMemo } from "react";
import BaseComponent from "../base-component.js";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import Text from "./text.js";
export default memo(shapeComponent(class ApiMakerUtilsCheckbox extends BaseComponent {
    static defaultProps = {
        dataSet: null,
        label: undefined,
        style: null
    };
    static propTypes = propTypesExact({
        checked: PropTypes.bool,
        dataSet: PropTypes.object,
        defaultChecked: PropTypes.bool,
        label: PropTypes.string,
        onCheckedChange: PropTypes.func,
        style: PropTypes.object
    });
    setup() {
        this.useStates({
            checked: this.props.defaultChecked
        });
        this.isChecked = this.calculateChecked();
    }
    calculateChecked() {
        if ("checked" in this.props) {
            return this.p.checked;
        }
        else {
            return this.s.checked;
        }
    }
    render() {
        const { isChecked } = this.tt;
        const { dataSet, label, style } = this.p;
        const actualStyle = useMemo(() => Object.assign({ flexDirection: "row", alignItems: "center" }, style), [style]);
        const actualDataSet = useMemo(() => Object.assign({ checked: isChecked }, dataSet), [dataSet, isChecked]);
        return (<View dataSet={this.cache("viewContainerDataSet", { component: "api-maker/utils/checkbox" })} style={actualStyle}>
        <CheckBox dataSet={actualDataSet} onValueChange={this.tt.onValueChange} value={isChecked}/>
        {label &&
                <Pressable onPress={this.tt.onLabelPressed}>
            <Text style={this.cache("textStyle", { marginLeft: 3 })}>
              {label}
            </Text>
          </Pressable>}
      </View>);
    }
    onLabelPressed = () => this.p.onCheckedChange(!this.tt.isChecked);
    onValueChange = (e) => {
        if (this.props.onCheckedChange) {
            this.p.onCheckedChange(e);
        }
        this.setState({ checked: !this.tt.isChecked });
    };
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tib3guanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInV0aWxzL2NoZWNrYm94LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUMsTUFBTSxjQUFjLENBQUE7QUFDdEQsT0FBTyxLQUFLLEVBQUUsRUFBQyxPQUFPLEVBQUMsTUFBTSxPQUFPLENBQUE7QUFDcEMsT0FBTyxhQUFhLE1BQU0sc0JBQXNCLENBQUE7QUFDaEQsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFBO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLGtCQUFrQixDQUFBO0FBQzdDLE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQTtBQUN6RSxPQUFPLElBQUksTUFBTSxXQUFXLENBQUE7QUFFNUIsZUFBZSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0scUJBQXNCLFNBQVEsYUFBYTtJQUNsRixNQUFNLENBQUMsWUFBWSxHQUFHO1FBQ3BCLE9BQU8sRUFBRSxJQUFJO1FBQ2IsS0FBSyxFQUFFLFNBQVM7UUFDaEIsS0FBSyxFQUFFLElBQUk7S0FDWixDQUFBO0lBRUQsTUFBTSxDQUFDLFNBQVMsR0FBRyxjQUFjLENBQUM7UUFDaEMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxJQUFJO1FBQ3ZCLE9BQU8sRUFBRSxTQUFTLENBQUMsTUFBTTtRQUN6QixjQUFjLEVBQUUsU0FBUyxDQUFDLElBQUk7UUFDOUIsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3ZCLGVBQWUsRUFBRSxTQUFTLENBQUMsSUFBSTtRQUMvQixLQUFLLEVBQUUsU0FBUyxDQUFDLE1BQU07S0FDeEIsQ0FBQyxDQUFBO0lBRUYsS0FBSztRQUNILElBQUksQ0FBQyxTQUFTLENBQUM7WUFDYixPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjO1NBQ25DLENBQUMsQ0FBQTtRQUNGLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUE7SUFDMUMsQ0FBQztJQUVELGdCQUFnQjtRQUNkLElBQUksU0FBUyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUM1QixPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFBO1FBQ3ZCLENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtRQUN2QixDQUFDO0lBQ0gsQ0FBQztJQUVELE1BQU07UUFDSixNQUFNLEVBQUMsU0FBUyxFQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQTtRQUMzQixNQUFNLEVBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO1FBQ3RDLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO1FBQzlHLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFFLFNBQVMsRUFBQyxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUE7UUFFdkcsT0FBTyxDQUNMLENBQUMsSUFBSSxDQUNILE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsRUFBQyxTQUFTLEVBQUUsMEJBQTBCLEVBQUMsQ0FBQyxDQUFDLENBQ3JGLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUVuQjtRQUFBLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQ3pGO1FBQUEsQ0FBQyxLQUFLO2dCQUNKLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLENBQ3pDO1lBQUEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUNwRDtjQUFBLENBQUMsS0FBSyxDQUNSO1lBQUEsRUFBRSxJQUFJLENBQ1I7VUFBQSxFQUFFLFNBQVMsQ0FDYixDQUNGO01BQUEsRUFBRSxJQUFJLENBQUMsQ0FDUixDQUFBO0lBQ0gsQ0FBQztJQUVELGNBQWMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUE7SUFFakUsYUFBYSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUU7UUFDcEIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzNCLENBQUM7UUFFRCxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQyxDQUFBO0lBQzlDLENBQUMsQ0FBQTtDQUNGLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDaGVja0JveCwgUHJlc3NhYmxlLCBWaWV3fSBmcm9tIFwicmVhY3QtbmF0aXZlXCJcbmltcG9ydCBSZWFjdCwge3VzZU1lbW99IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tIFwiLi4vYmFzZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IG1lbW8gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL21lbW8uanNcIlxuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiXG5pbXBvcnQgcHJvcFR5cGVzRXhhY3QgZnJvbSBcInByb3AtdHlwZXMtZXhhY3RcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudH0gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL3NoYXBlLWNvbXBvbmVudC5qc1wiXG5pbXBvcnQgVGV4dCBmcm9tIFwiLi90ZXh0LmpzXCJcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhzaGFwZUNvbXBvbmVudChjbGFzcyBBcGlNYWtlclV0aWxzQ2hlY2tib3ggZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBkYXRhU2V0OiBudWxsLFxuICAgIGxhYmVsOiB1bmRlZmluZWQsXG4gICAgc3R5bGU6IG51bGxcbiAgfVxuXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSBwcm9wVHlwZXNFeGFjdCh7XG4gICAgY2hlY2tlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZGF0YVNldDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBkZWZhdWx0Q2hlY2tlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25DaGVja2VkQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdFxuICB9KVxuXG4gIHNldHVwKCkge1xuICAgIHRoaXMudXNlU3RhdGVzKHtcbiAgICAgIGNoZWNrZWQ6IHRoaXMucHJvcHMuZGVmYXVsdENoZWNrZWRcbiAgICB9KVxuICAgIHRoaXMuaXNDaGVja2VkID0gdGhpcy5jYWxjdWxhdGVDaGVja2VkKClcbiAgfVxuXG4gIGNhbGN1bGF0ZUNoZWNrZWQoKSB7XG4gICAgaWYgKFwiY2hlY2tlZFwiIGluIHRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybiB0aGlzLnAuY2hlY2tlZFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5zLmNoZWNrZWRcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2lzQ2hlY2tlZH0gPSB0aGlzLnR0XG4gICAgY29uc3Qge2RhdGFTZXQsIGxhYmVsLCBzdHlsZX0gPSB0aGlzLnBcbiAgICBjb25zdCBhY3R1YWxTdHlsZSA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmFzc2lnbih7ZmxleERpcmVjdGlvbjogXCJyb3dcIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIn0sIHN0eWxlKSwgW3N0eWxlXSlcbiAgICBjb25zdCBhY3R1YWxEYXRhU2V0ID0gdXNlTWVtbygoKSA9PiBPYmplY3QuYXNzaWduKHtjaGVja2VkOiBpc0NoZWNrZWR9LCBkYXRhU2V0KSwgW2RhdGFTZXQsIGlzQ2hlY2tlZF0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXdcbiAgICAgICAgZGF0YVNldD17dGhpcy5jYWNoZShcInZpZXdDb250YWluZXJEYXRhU2V0XCIsIHtjb21wb25lbnQ6IFwiYXBpLW1ha2VyL3V0aWxzL2NoZWNrYm94XCJ9KX1cbiAgICAgICAgc3R5bGU9e2FjdHVhbFN0eWxlfVxuICAgICAgPlxuICAgICAgICA8Q2hlY2tCb3ggZGF0YVNldD17YWN0dWFsRGF0YVNldH0gb25WYWx1ZUNoYW5nZT17dGhpcy50dC5vblZhbHVlQ2hhbmdlfSB2YWx1ZT17aXNDaGVja2VkfSAvPlxuICAgICAgICB7bGFiZWwgJiZcbiAgICAgICAgICA8UHJlc3NhYmxlIG9uUHJlc3M9e3RoaXMudHQub25MYWJlbFByZXNzZWR9PlxuICAgICAgICAgICAgPFRleHQgc3R5bGU9e3RoaXMuY2FjaGUoXCJ0ZXh0U3R5bGVcIiwge21hcmdpbkxlZnQ6IDN9KX0+XG4gICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L1ByZXNzYWJsZT5cbiAgICAgICAgfVxuICAgICAgPC9WaWV3PlxuICAgIClcbiAgfVxuXG4gIG9uTGFiZWxQcmVzc2VkID0gKCkgPT4gdGhpcy5wLm9uQ2hlY2tlZENoYW5nZSghdGhpcy50dC5pc0NoZWNrZWQpXG5cbiAgb25WYWx1ZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMub25DaGVja2VkQ2hhbmdlKSB7XG4gICAgICB0aGlzLnAub25DaGVja2VkQ2hhbmdlKGUpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y2hlY2tlZDogIXRoaXMudHQuaXNDaGVja2VkfSlcbiAgfVxufSkpXG4iXX0=
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { CheckBox, Pressable, View } from "react-native";
import React, { useMemo } from "react";
import BaseComponent from "../base-component";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import Text from "./text";
export default memo(shapeComponent(class ApiMakerUtilsCheckbox extends BaseComponent {
    static defaultProps = {
        dataSet: null,
        label: undefined,
        style: null
    };
    static propTypes = propTypesExact({
        checked: PropTypes.bool,
        dataSet: PropTypes.object,
        defaultChecked: PropTypes.bool,
        label: PropTypes.string,
        onCheckedChange: PropTypes.func,
        style: PropTypes.object
    });
    setup() {
        this.useStates({
            checked: this.props.defaultChecked
        });
        this.isChecked = this.calculateChecked();
    }
    calculateChecked() {
        if ("checked" in this.props) {
            return this.p.checked;
        }
        else {
            return this.s.checked;
        }
    }
    render() {
        const { isChecked } = this.tt;
        const { dataSet, label, style } = this.p;
        const actualStyle = useMemo(() => Object.assign({ flexDirection: "row", alignItems: "center" }, style), [style]);
        const actualDataSet = useMemo(() => Object.assign({ checked: isChecked }, dataSet), [dataSet, isChecked]);
        return (_jsxs(View, { dataSet: this.cache("viewContainerDataSet", { component: "api-maker/utils/checkbox" }), style: actualStyle, children: [_jsx(CheckBox, { dataSet: actualDataSet, onValueChange: this.tt.onValueChange, value: isChecked }), label &&
                    _jsx(Pressable, { onPress: this.tt.onLabelPressed, children: _jsx(Text, { style: this.cache("textStyle", { marginLeft: 3 }), children: label }) })] }));
    }
    onLabelPressed = () => this.p.onCheckedChange(!this.tt.isChecked);
    onValueChange = (e) => {
        if (this.props.onCheckedChange) {
            this.p.onCheckedChange(e);
        }
        this.setState({ checked: !this.tt.isChecked });
    };
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tib3guanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInV0aWxzL2NoZWNrYm94LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFDLE1BQU0sY0FBYyxDQUFBO0FBQ3RELE9BQU8sS0FBSyxFQUFFLEVBQUMsT0FBTyxFQUFDLE1BQU0sT0FBTyxDQUFBO0FBQ3BDLE9BQU8sYUFBYSxNQUFNLG1CQUFtQixDQUFBO0FBQzdDLE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQTtBQUNsQyxPQUFPLGNBQWMsTUFBTSxrQkFBa0IsQ0FBQTtBQUM3QyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFDekUsT0FBTyxJQUFJLE1BQU0sUUFBUSxDQUFBO0FBRXpCLGVBQWUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLHFCQUFzQixTQUFRLGFBQWE7SUFDbEYsTUFBTSxDQUFDLFlBQVksR0FBRztRQUNwQixPQUFPLEVBQUUsSUFBSTtRQUNiLEtBQUssRUFBRSxTQUFTO1FBQ2hCLEtBQUssRUFBRSxJQUFJO0tBQ1osQ0FBQTtJQUVELE1BQU0sQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO1FBQ2hDLE9BQU8sRUFBRSxTQUFTLENBQUMsSUFBSTtRQUN2QixPQUFPLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDekIsY0FBYyxFQUFFLFNBQVMsQ0FBQyxJQUFJO1FBQzlCLEtBQUssRUFBRSxTQUFTLENBQUMsTUFBTTtRQUN2QixlQUFlLEVBQUUsU0FBUyxDQUFDLElBQUk7UUFDL0IsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNO0tBQ3hCLENBQUMsQ0FBQTtJQUVGLEtBQUs7UUFDSCxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQ2IsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYztTQUNuQyxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFBO0lBQzFDLENBQUM7SUFFRCxnQkFBZ0I7UUFDZCxJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDNUIsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtRQUN2QixDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUE7UUFDdkIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNO1FBQ0osTUFBTSxFQUFDLFNBQVMsRUFBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUE7UUFDM0IsTUFBTSxFQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQTtRQUN0QyxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLGFBQWEsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtRQUM5RyxNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUMsRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFBO1FBRXZHLE9BQU8sQ0FDTCxNQUFDLElBQUksSUFDSCxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsRUFBRSxFQUFDLFNBQVMsRUFBRSwwQkFBMEIsRUFBQyxDQUFDLEVBQ3BGLEtBQUssRUFBRSxXQUFXLGFBRWxCLEtBQUMsUUFBUSxJQUFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxTQUFTLEdBQUksRUFDM0YsS0FBSztvQkFDSixLQUFDLFNBQVMsSUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxjQUFjLFlBQ3hDLEtBQUMsSUFBSSxJQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUMsQ0FBQyxZQUNsRCxLQUFLLEdBQ0QsR0FDRyxJQUVULENBQ1IsQ0FBQTtJQUNILENBQUM7SUFFRCxjQUFjLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBRWpFLGFBQWEsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQ3BCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUMzQixDQUFDO1FBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQTtJQUM5QyxDQUFDLENBQUE7Q0FDRixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q2hlY2tCb3gsIFByZXNzYWJsZSwgVmlld30gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5pbXBvcnQgUmVhY3QsIHt1c2VNZW1vfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uL2Jhc2UtY29tcG9uZW50XCJcbmltcG9ydCBtZW1vIGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9tZW1vLmpzXCJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIlxuaW1wb3J0IHByb3BUeXBlc0V4YWN0IGZyb20gXCJwcm9wLXR5cGVzLWV4YWN0XCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IFRleHQgZnJvbSBcIi4vdGV4dFwiXG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oc2hhcGVDb21wb25lbnQoY2xhc3MgQXBpTWFrZXJVdGlsc0NoZWNrYm94IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgZGF0YVNldDogbnVsbCxcbiAgICBsYWJlbDogdW5kZWZpbmVkLFxuICAgIHN0eWxlOiBudWxsXG4gIH1cblxuICBzdGF0aWMgcHJvcFR5cGVzID0gcHJvcFR5cGVzRXhhY3Qoe1xuICAgIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGRhdGFTZXQ6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgZGVmYXVsdENoZWNrZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2hlY2tlZENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3RcbiAgfSlcblxuICBzZXR1cCgpIHtcbiAgICB0aGlzLnVzZVN0YXRlcyh7XG4gICAgICBjaGVja2VkOiB0aGlzLnByb3BzLmRlZmF1bHRDaGVja2VkXG4gICAgfSlcbiAgICB0aGlzLmlzQ2hlY2tlZCA9IHRoaXMuY2FsY3VsYXRlQ2hlY2tlZCgpXG4gIH1cblxuICBjYWxjdWxhdGVDaGVja2VkKCkge1xuICAgIGlmIChcImNoZWNrZWRcIiBpbiB0aGlzLnByb3BzKSB7XG4gICAgICByZXR1cm4gdGhpcy5wLmNoZWNrZWRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucy5jaGVja2VkXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtpc0NoZWNrZWR9ID0gdGhpcy50dFxuICAgIGNvbnN0IHtkYXRhU2V0LCBsYWJlbCwgc3R5bGV9ID0gdGhpcy5wXG4gICAgY29uc3QgYWN0dWFsU3R5bGUgPSB1c2VNZW1vKCgpID0+IE9iamVjdC5hc3NpZ24oe2ZsZXhEaXJlY3Rpb246IFwicm93XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCJ9LCBzdHlsZSksIFtzdHlsZV0pXG4gICAgY29uc3QgYWN0dWFsRGF0YVNldCA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmFzc2lnbih7Y2hlY2tlZDogaXNDaGVja2VkfSwgZGF0YVNldCksIFtkYXRhU2V0LCBpc0NoZWNrZWRdKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIGRhdGFTZXQ9e3RoaXMuY2FjaGUoXCJ2aWV3Q29udGFpbmVyRGF0YVNldFwiLCB7Y29tcG9uZW50OiBcImFwaS1tYWtlci91dGlscy9jaGVja2JveFwifSl9XG4gICAgICAgIHN0eWxlPXthY3R1YWxTdHlsZX1cbiAgICAgID5cbiAgICAgICAgPENoZWNrQm94IGRhdGFTZXQ9e2FjdHVhbERhdGFTZXR9IG9uVmFsdWVDaGFuZ2U9e3RoaXMudHQub25WYWx1ZUNoYW5nZX0gdmFsdWU9e2lzQ2hlY2tlZH0gLz5cbiAgICAgICAge2xhYmVsICYmXG4gICAgICAgICAgPFByZXNzYWJsZSBvblByZXNzPXt0aGlzLnR0Lm9uTGFiZWxQcmVzc2VkfT5cbiAgICAgICAgICAgIDxUZXh0IHN0eWxlPXt0aGlzLmNhY2hlKFwidGV4dFN0eWxlXCIsIHttYXJnaW5MZWZ0OiAzfSl9PlxuICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgPC9QcmVzc2FibGU+XG4gICAgICAgIH1cbiAgICAgIDwvVmlldz5cbiAgICApXG4gIH1cblxuICBvbkxhYmVsUHJlc3NlZCA9ICgpID0+IHRoaXMucC5vbkNoZWNrZWRDaGFuZ2UoIXRoaXMudHQuaXNDaGVja2VkKVxuXG4gIG9uVmFsdWVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hlY2tlZENoYW5nZSkge1xuICAgICAgdGhpcy5wLm9uQ2hlY2tlZENoYW5nZShlKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe2NoZWNrZWQ6ICF0aGlzLnR0LmlzQ2hlY2tlZH0pXG4gIH1cbn0pKVxuIl19
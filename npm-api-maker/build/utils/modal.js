import { jsx as _jsx } from "react/jsx-runtime";
import { Modal, Pressable, View } from "react-native";
import React, { useMemo } from "react";
import BaseComponent from "../base-component";
import Card from "./card";
import Icon from "../utils/icon";
import memo from "set-state-compare/build/memo.js";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import useBreakpoint from "../use-breakpoint.js";
export default memo(shapeComponent(class ApiMakerUtilsComponent extends BaseComponent {
    render() {
        const { xs, sm } = useBreakpoint();
        const { children, dataSet, ...restProps } = this.props;
        const actualDataSet = useMemo(() => Object.assign({ component: "api-maker/utils/modal" }, dataSet), [dataSet]);
        let width, maxWidth;
        if (xs || sm) {
            width = "95%";
        }
        else {
            width = "80%";
            maxWidth = 800;
        }
        const cardStyle = useMemo(() => ({ width, maxWidth }), [width, maxWidth]);
        return (_jsx(Modal, { dataSet: actualDataSet, ...restProps, children: _jsx(View, { style: this.cache("rootViewStyle", {
                    alignItems: "center",
                    justifyContent: "center",
                    width: "100%",
                    height: "100%",
                    backgroundColor: "rgba(0, 0, 0, 0.8)"
                }), children: _jsx(Card, { controls: this.cardHeaderControls(), style: cardStyle, children: children }) }) }));
    }
    cardHeaderControls() {
        return (_jsx(Pressable, { onPress: this.tt.onModalClosePress, style: this.cache("pressableStyle", { marginLeft: "auto", padding: 5 }), children: _jsx(Icon, { name: "remove" }) }));
    }
    onModalClosePress = () => this.props.onRequestClose && this.props.onRequestClose();
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInV0aWxzL21vZGFsLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFDLE1BQU0sY0FBYyxDQUFBO0FBQ25ELE9BQU8sS0FBSyxFQUFFLEVBQUMsT0FBTyxFQUFDLE1BQU0sT0FBTyxDQUFBO0FBQ3BDLE9BQU8sYUFBYSxNQUFNLG1CQUFtQixDQUFBO0FBQzdDLE9BQU8sSUFBSSxNQUFNLFFBQVEsQ0FBQTtBQUN6QixPQUFPLElBQUksTUFBTSxlQUFlLENBQUE7QUFDaEMsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLDRDQUE0QyxDQUFBO0FBQ3pFLE9BQU8sYUFBYSxNQUFNLHNCQUFzQixDQUFBO0FBRWhELGVBQWUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLHNCQUF1QixTQUFRLGFBQWE7SUFDbkYsTUFBTTtRQUNKLE1BQU0sRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFDLEdBQUcsYUFBYSxFQUFFLENBQUE7UUFDaEMsTUFBTSxFQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxTQUFTLEVBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFBO1FBRXBELE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FDakMsTUFBTSxDQUFDLE1BQU0sQ0FDWCxFQUFDLFNBQVMsRUFBRSx1QkFBdUIsRUFBQyxFQUNwQyxPQUFPLENBQ1IsRUFDRCxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUE7UUFFWixJQUFJLEtBQUssRUFBRSxRQUFRLENBQUE7UUFFbkIsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUM7WUFDYixLQUFLLEdBQUcsS0FBSyxDQUFBO1FBQ2YsQ0FBQzthQUFNLENBQUM7WUFDTixLQUFLLEdBQUcsS0FBSyxDQUFBO1lBQ2IsUUFBUSxHQUFHLEdBQUcsQ0FBQTtRQUNoQixDQUFDO1FBRUQsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFBO1FBRXZFLE9BQU8sQ0FDTCxLQUFDLEtBQUssSUFBQyxPQUFPLEVBQUUsYUFBYSxLQUFNLFNBQVMsWUFDMUMsS0FBQyxJQUFJLElBQ0gsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFO29CQUNqQyxVQUFVLEVBQUUsUUFBUTtvQkFDcEIsY0FBYyxFQUFFLFFBQVE7b0JBQ3hCLEtBQUssRUFBRSxNQUFNO29CQUNiLE1BQU0sRUFBRSxNQUFNO29CQUNkLGVBQWUsRUFBRSxvQkFBb0I7aUJBQ3RDLENBQUMsWUFFRixLQUFDLElBQUksSUFDSCxRQUFRLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLEVBQ25DLEtBQUssRUFBRSxTQUFTLFlBRWYsUUFBUSxHQUNKLEdBQ0YsR0FDRCxDQUNULENBQUE7SUFDSCxDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLE9BQU8sQ0FDTCxLQUFDLFNBQVMsSUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLFVBQVUsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBQyxDQUFDLFlBQ2xILEtBQUMsSUFBSSxJQUFDLElBQUksRUFBQyxRQUFRLEdBQUcsR0FDWixDQUNiLENBQUE7SUFDSCxDQUFDO0lBRUQsaUJBQWlCLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQTtDQUNuRixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TW9kYWwsIFByZXNzYWJsZSwgVmlld30gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5pbXBvcnQgUmVhY3QsIHt1c2VNZW1vfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uL2Jhc2UtY29tcG9uZW50XCJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmRcIlxuaW1wb3J0IEljb24gZnJvbSBcIi4uL3V0aWxzL2ljb25cIlxuaW1wb3J0IG1lbW8gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL21lbW8uanNcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudH0gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL3NoYXBlLWNvbXBvbmVudC5qc1wiXG5pbXBvcnQgdXNlQnJlYWtwb2ludCBmcm9tIFwiLi4vdXNlLWJyZWFrcG9pbnQuanNcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyVXRpbHNDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHt4cywgc219ID0gdXNlQnJlYWtwb2ludCgpXG4gICAgY29uc3Qge2NoaWxkcmVuLCBkYXRhU2V0LCAuLi5yZXN0UHJvcHN9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3QgYWN0dWFsRGF0YVNldCA9IHVzZU1lbW8oKCkgPT5cbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtjb21wb25lbnQ6IFwiYXBpLW1ha2VyL3V0aWxzL21vZGFsXCJ9LFxuICAgICAgICBkYXRhU2V0XG4gICAgICApXG4gICAgLCBbZGF0YVNldF0pXG5cbiAgICBsZXQgd2lkdGgsIG1heFdpZHRoXG5cbiAgICBpZiAoeHMgfHwgc20pIHtcbiAgICAgIHdpZHRoID0gXCI5NSVcIlxuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IFwiODAlXCJcbiAgICAgIG1heFdpZHRoID0gODAwXG4gICAgfVxuXG4gICAgY29uc3QgY2FyZFN0eWxlID0gdXNlTWVtbygoKSA9PiAoe3dpZHRoLCBtYXhXaWR0aH0pLCBbd2lkdGgsIG1heFdpZHRoXSlcblxuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgZGF0YVNldD17YWN0dWFsRGF0YVNldH0gey4uLnJlc3RQcm9wc30+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e3RoaXMuY2FjaGUoXCJyb290Vmlld1N0eWxlXCIsIHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjgpXCJcbiAgICAgICAgICB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICBjb250cm9scz17dGhpcy5jYXJkSGVhZGVyQ29udHJvbHMoKX1cbiAgICAgICAgICAgIHN0eWxlPXtjYXJkU3R5bGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgPC9WaWV3PlxuICAgICAgPC9Nb2RhbD5cbiAgICApXG4gIH1cblxuICBjYXJkSGVhZGVyQ29udHJvbHMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxQcmVzc2FibGUgb25QcmVzcz17dGhpcy50dC5vbk1vZGFsQ2xvc2VQcmVzc30gc3R5bGU9e3RoaXMuY2FjaGUoXCJwcmVzc2FibGVTdHlsZVwiLCB7bWFyZ2luTGVmdDogXCJhdXRvXCIsIHBhZGRpbmc6IDV9KX0+XG4gICAgICAgIDxJY29uIG5hbWU9XCJyZW1vdmVcIiAvPlxuICAgICAgPC9QcmVzc2FibGU+XG4gICAgKVxuICB9XG5cbiAgb25Nb2RhbENsb3NlUHJlc3MgPSAoKSA9PiB0aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlICYmIHRoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UoKVxufSkpXG4iXX0=
import { Modal, Pressable, View } from "react-native";
import React, { useMemo } from "react";
import BaseComponent from "../base-component.js";
import Card from "./card.js";
import Icon from "../utils/icon.js";
import memo from "set-state-compare/build/memo.js";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import useBreakpoint from "../use-breakpoint.js";
export default memo(shapeComponent(class ApiMakerUtilsComponent extends BaseComponent {
    render() {
        const { xs, sm } = useBreakpoint();
        const { children, dataSet, ...restProps } = this.props;
        const actualDataSet = useMemo(() => Object.assign({ component: "api-maker/utils/modal" }, dataSet), [dataSet]);
        let width, maxWidth;
        if (xs || sm) {
            width = "95%";
        }
        else {
            width = "80%";
            maxWidth = 800;
        }
        const cardStyle = useMemo(() => ({ width, maxWidth }), [width, maxWidth]);
        return (<Modal dataSet={actualDataSet} {...restProps}>
        <View style={this.cache("rootViewStyle", {
                alignItems: "center",
                justifyContent: "center",
                width: "100%",
                height: "100%",
                backgroundColor: "rgba(0, 0, 0, 0.8)"
            })}>
          <Card controls={this.cardHeaderControls()} style={cardStyle}>
            {children}
          </Card>
        </View>
      </Modal>);
    }
    cardHeaderControls() {
        return (<Pressable onPress={this.tt.onModalClosePress} style={this.cache("pressableStyle", { marginLeft: "auto", padding: 5 })}>
        <Icon name="remove"/>
      </Pressable>);
    }
    onModalClosePress = () => this.props.onRequestClose && this.props.onRequestClose();
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInV0aWxzL21vZGFsLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUMsTUFBTSxjQUFjLENBQUE7QUFDbkQsT0FBTyxLQUFLLEVBQUUsRUFBQyxPQUFPLEVBQUMsTUFBTSxPQUFPLENBQUE7QUFDcEMsT0FBTyxhQUFhLE1BQU0sc0JBQXNCLENBQUE7QUFDaEQsT0FBTyxJQUFJLE1BQU0sV0FBVyxDQUFBO0FBQzVCLE9BQU8sSUFBSSxNQUFNLGtCQUFrQixDQUFBO0FBQ25DLE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQTtBQUN6RSxPQUFPLGFBQWEsTUFBTSxzQkFBc0IsQ0FBQTtBQUVoRCxlQUFlLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxzQkFBdUIsU0FBUSxhQUFhO0lBQ25GLE1BQU07UUFDSixNQUFNLEVBQUMsRUFBRSxFQUFFLEVBQUUsRUFBQyxHQUFHLGFBQWEsRUFBRSxDQUFBO1FBQ2hDLE1BQU0sRUFBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLEdBQUcsU0FBUyxFQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQTtRQUVwRCxNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQ1gsRUFBQyxTQUFTLEVBQUUsdUJBQXVCLEVBQUMsRUFDcEMsT0FBTyxDQUNSLEVBQ0QsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFBO1FBRVosSUFBSSxLQUFLLEVBQUUsUUFBUSxDQUFBO1FBRW5CLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDO1lBQ2IsS0FBSyxHQUFHLEtBQUssQ0FBQTtRQUNmLENBQUM7YUFBTSxDQUFDO1lBQ04sS0FBSyxHQUFHLEtBQUssQ0FBQTtZQUNiLFFBQVEsR0FBRyxHQUFHLENBQUE7UUFDaEIsQ0FBQztRQUVELE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUMsS0FBSyxFQUFFLFFBQVEsRUFBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQTtRQUV2RSxPQUFPLENBQ0wsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FDM0M7UUFBQSxDQUFDLElBQUksQ0FDSCxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRTtnQkFDakMsVUFBVSxFQUFFLFFBQVE7Z0JBQ3BCLGNBQWMsRUFBRSxRQUFRO2dCQUN4QixLQUFLLEVBQUUsTUFBTTtnQkFDYixNQUFNLEVBQUUsTUFBTTtnQkFDZCxlQUFlLEVBQUUsb0JBQW9CO2FBQ3RDLENBQUMsQ0FBQyxDQUVIO1VBQUEsQ0FBQyxJQUFJLENBQ0gsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FDcEMsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLENBRWpCO1lBQUEsQ0FBQyxRQUFRLENBQ1g7VUFBQSxFQUFFLElBQUksQ0FDUjtRQUFBLEVBQUUsSUFBSSxDQUNSO01BQUEsRUFBRSxLQUFLLENBQUMsQ0FDVCxDQUFBO0lBQ0gsQ0FBQztJQUVELGtCQUFrQjtRQUNoQixPQUFPLENBQ0wsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxVQUFVLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQ25IO1FBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFDckI7TUFBQSxFQUFFLFNBQVMsQ0FBQyxDQUNiLENBQUE7SUFDSCxDQUFDO0lBRUQsaUJBQWlCLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQTtDQUNuRixDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TW9kYWwsIFByZXNzYWJsZSwgVmlld30gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5pbXBvcnQgUmVhY3QsIHt1c2VNZW1vfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uL2Jhc2UtY29tcG9uZW50LmpzXCJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmQuanNcIlxuaW1wb3J0IEljb24gZnJvbSBcIi4uL3V0aWxzL2ljb24uanNcIlxuaW1wb3J0IG1lbW8gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL21lbW8uanNcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudH0gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL3NoYXBlLWNvbXBvbmVudC5qc1wiXG5pbXBvcnQgdXNlQnJlYWtwb2ludCBmcm9tIFwiLi4vdXNlLWJyZWFrcG9pbnQuanNcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyVXRpbHNDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHt4cywgc219ID0gdXNlQnJlYWtwb2ludCgpXG4gICAgY29uc3Qge2NoaWxkcmVuLCBkYXRhU2V0LCAuLi5yZXN0UHJvcHN9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3QgYWN0dWFsRGF0YVNldCA9IHVzZU1lbW8oKCkgPT5cbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtjb21wb25lbnQ6IFwiYXBpLW1ha2VyL3V0aWxzL21vZGFsXCJ9LFxuICAgICAgICBkYXRhU2V0XG4gICAgICApXG4gICAgLCBbZGF0YVNldF0pXG5cbiAgICBsZXQgd2lkdGgsIG1heFdpZHRoXG5cbiAgICBpZiAoeHMgfHwgc20pIHtcbiAgICAgIHdpZHRoID0gXCI5NSVcIlxuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IFwiODAlXCJcbiAgICAgIG1heFdpZHRoID0gODAwXG4gICAgfVxuXG4gICAgY29uc3QgY2FyZFN0eWxlID0gdXNlTWVtbygoKSA9PiAoe3dpZHRoLCBtYXhXaWR0aH0pLCBbd2lkdGgsIG1heFdpZHRoXSlcblxuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgZGF0YVNldD17YWN0dWFsRGF0YVNldH0gey4uLnJlc3RQcm9wc30+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e3RoaXMuY2FjaGUoXCJyb290Vmlld1N0eWxlXCIsIHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLCAwLCAwLCAwLjgpXCJcbiAgICAgICAgICB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICBjb250cm9scz17dGhpcy5jYXJkSGVhZGVyQ29udHJvbHMoKX1cbiAgICAgICAgICAgIHN0eWxlPXtjYXJkU3R5bGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgPC9WaWV3PlxuICAgICAgPC9Nb2RhbD5cbiAgICApXG4gIH1cblxuICBjYXJkSGVhZGVyQ29udHJvbHMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxQcmVzc2FibGUgb25QcmVzcz17dGhpcy50dC5vbk1vZGFsQ2xvc2VQcmVzc30gc3R5bGU9e3RoaXMuY2FjaGUoXCJwcmVzc2FibGVTdHlsZVwiLCB7bWFyZ2luTGVmdDogXCJhdXRvXCIsIHBhZGRpbmc6IDV9KX0+XG4gICAgICAgIDxJY29uIG5hbWU9XCJyZW1vdmVcIiAvPlxuICAgICAgPC9QcmVzc2FibGU+XG4gICAgKVxuICB9XG5cbiAgb25Nb2RhbENsb3NlUHJlc3MgPSAoKSA9PiB0aGlzLnByb3BzLm9uUmVxdWVzdENsb3NlICYmIHRoaXMucHJvcHMub25SZXF1ZXN0Q2xvc2UoKVxufSkpXG4iXX0=
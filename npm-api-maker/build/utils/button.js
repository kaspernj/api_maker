import { Pressable, View } from "react-native";
import { shapeComponent, ShapeComponent } from "set-state-compare/build/shape-component.js";
import Icon from "./icon.js";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import Text from "./text.js";
import { useForm } from "../form.js";
export default memo(shapeComponent(class ApiMakerUtilsButton extends ShapeComponent {
    static defaultProps = {
        children: null,
        danger: false,
        disabled: false,
        icon: null,
        label: null,
        onPress: null,
        pressableProps: {},
        submit: false,
        textProps: {}
    };
    static propTypes = propTypesExact({
        children: PropTypes.any,
        danger: PropTypes.bool.isRequired,
        disabled: PropTypes.bool.isRequired,
        icon: PropTypes.string,
        label: PropTypes.string,
        onPress: PropTypes.func,
        pressableProps: PropTypes.object.isRequired,
        submit: PropTypes.bool.isRequired,
        textProps: PropTypes.object.isRequired
    });
    setup() {
        this.form = useForm();
        this.useStates({ hover: false });
    }
    render() {
        const { children, danger, disabled, icon, label, pressableProps, textProps } = this.p;
        const { hover } = this.s;
        const { style, ...restPressableProps } = pressableProps;
        const { style: textStyle, ...restTextProps } = textProps;
        const pressableStyle = React.useMemo(() => {
            let backgroundColor;
            if (danger) {
                if (hover) {
                    backgroundColor = "#ff8a8a";
                }
                else {
                    backgroundColor = "#ff6767";
                }
            }
            else {
                if (hover) {
                    backgroundColor = "#e8e4ff";
                }
                else {
                    backgroundColor = "#fff";
                }
            }
            return Object.assign({
                flexDirection: "row",
                alignItems: "center",
                justifyContent: "center",
                paddingHorizontal: 14,
                paddingVertical: 8,
                backgroundColor,
                border: `1px solid ${danger ? "red" : "steelblue"}`,
                borderRadius: 5
            }, pressableProps?.style);
        }, [danger, hover, pressableProps?.style]);
        const actualTextStyle = React.useMemo(() => {
            return Object.assign({
                color: disabled ? "grey" : undefined
            }, textStyle);
        }, [disabled]);
        return (<Pressable onPointerEnter={this.tt.onPointerEnter} onPointerLeave={this.tt.onPointerLeave} onPress={this.tt.onPress} style={pressableStyle} {...restPressableProps}>
        {icon &&
                <View style={this.cache("iconViewStyle", { marginRight: 4 })}>
            <Icon name={icon}/>
          </View>}
        {children}
        {label &&
                <Text style={actualTextStyle} {...restTextProps}>
            {label}
          </Text>}
      </Pressable>);
    }
    onPointerEnter = () => this.setState({ hover: true });
    onPointerLeave = () => this.setState({ hover: false });
    onPress = () => {
        if (this.p.disabled) {
            return;
        }
        if (this.p.onPress) {
            this.p.onPress();
        }
        if (this.p.submit && this.tt.form) {
            this.tt.form.submit();
        }
    };
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJ1dGlscy9idXR0b24uanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxTQUFTLEVBQUUsSUFBSSxFQUFDLE1BQU0sY0FBYyxDQUFBO0FBQzVDLE9BQU8sRUFBQyxjQUFjLEVBQUUsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFDekYsT0FBTyxJQUFJLE1BQU0sV0FBVyxDQUFBO0FBQzVCLE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQTtBQUNsQyxPQUFPLGNBQWMsTUFBTSxrQkFBa0IsQ0FBQTtBQUM3QyxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUE7QUFDekIsT0FBTyxJQUFJLE1BQU0sV0FBVyxDQUFBO0FBQzVCLE9BQU8sRUFBQyxPQUFPLEVBQUMsTUFBTSxZQUFZLENBQUE7QUFFbEMsZUFBZSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sbUJBQW9CLFNBQVEsY0FBYztJQUNqRixNQUFNLENBQUMsWUFBWSxHQUFHO1FBQ3BCLFFBQVEsRUFBRSxJQUFJO1FBQ2QsTUFBTSxFQUFFLEtBQUs7UUFDYixRQUFRLEVBQUUsS0FBSztRQUNmLElBQUksRUFBRSxJQUFJO1FBQ1YsS0FBSyxFQUFFLElBQUk7UUFDWCxPQUFPLEVBQUUsSUFBSTtRQUNiLGNBQWMsRUFBRSxFQUFFO1FBQ2xCLE1BQU0sRUFBRSxLQUFLO1FBQ2IsU0FBUyxFQUFFLEVBQUU7S0FDZCxDQUFBO0lBRUQsTUFBTSxDQUFDLFNBQVMsR0FBRyxjQUFjLENBQUM7UUFDaEMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxHQUFHO1FBQ3ZCLE1BQU0sRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVU7UUFDakMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVTtRQUNuQyxJQUFJLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDdEIsS0FB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ZW50IjpbImltcG9ydCB7UHJlc3NhYmxlLCBWaWV3fSBmcm9tIFwicmVhY3QtbmF0aXZlXCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnQsIFNoYXBlQ29tcG9uZW50fSBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvc2hhcGUtY29tcG9uZW50LmpzXCJcbmltcG9ydCBJY29uIGZyb20gXCIuL2ljb24uanNcIlxuaW1wb3J0IG1lbW8gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL21lbW8uanNcIlxuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiXG5pbXBvcnQgcHJvcFR5cGVzRXhhY3QgZnJvbSBcInByb3AtdHlwZXMtZXhhY3RcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgVGV4dCBmcm9tIFwiLi90ZXh0LmpzXCJcbmltcG9ydCB7dXNlRm9ybX0gZnJvbSBcIi4uL2Zvcm0uanNcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyVXRpbHNCdXR0b24gZXh0ZW5kcyBTaGFwZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2hpbGRyZW46IG51bGwsXG4gICAgZGFuZ2VyOiBmYWxzZSxcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgaWNvbjogbnVsbCxcbiAgICBsYWJlbDogbnVsbCxcbiAgICBvblByZXNzOiBudWxsLFxuICAgIHByZXNzYWJsZVByb3BzOiB7fSxcbiAgICBzdWJtaXQ6IGZhbHNlLFxuICAgIHRleHRQcm9wczoge31cbiAgfVxuXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSBwcm9wVHlwZXNFeGFjdCh7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5hbnksXG4gICAgZGFuZ2VyOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIGljb246IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25QcmVzczogUHJvcFR5cGVzLmZ1bmMsXG4gICAgcHJlc3NhYmxlUHJvcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzdWJtaXQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgdGV4dFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgfSlcblxuICBzZXR1cCgpIHtcbiAgICB0aGlzLmZvcm0gPSB1c2VGb3JtKClcbiAgICB0aGlzLnVzZVN0YXRlcyh7aG92ZXI6IGZhbHNlfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7Y2hpbGRyZW4sIGRhbmdlciwgZGlzYWJsZWQsIGljb24sIGxhYmVsLCBwcmVzc2FibGVQcm9wcywgdGV4dFByb3BzfSA9IHRoaXMucFxuICAgIGNvbnN0IHtob3Zlcn0gPSB0aGlzLnNcbiAgICBjb25zdCB7c3R5bGUsIC4uLnJlc3RQcmVzc2FibGVQcm9wc30gPSBwcmVzc2FibGVQcm9wc1xuICAgIGNvbnN0IHtzdHlsZTogdGV4dFN0eWxlLCAuLi5yZXN0VGV4dFByb3BzfSA9IHRleHRQcm9wc1xuXG4gICAgY29uc3QgcHJlc3NhYmxlU3R5bGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIGxldCBiYWNrZ3JvdW5kQ29sb3JcblxuICAgICAgaWYgKGRhbmdlcikge1xuICAgICAgICBpZiAoaG92ZXIpIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZjhhOGFcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IFwiI2ZmNjc2N1wiXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChob3Zlcikge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IFwiI2U4ZTRmZlwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gXCIjZmZmXCJcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICBwYWRkaW5nSG9yaXpvbnRhbDogMTQsXG4gICAgICAgICAgcGFkZGluZ1ZlcnRpY2FsOiA4LFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtkYW5nZXIgPyBcInJlZFwiIDogXCJzdGVlbGJsdWVcIn1gLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogNVxuICAgICAgICB9LFxuICAgICAgICBwcmVzc2FibGVQcm9wcz8uc3R5bGVcbiAgICAgIClcbiAgICB9LCBbZGFuZ2VyLCBob3ZlciwgcHJlc3NhYmxlUHJvcHM/LnN0eWxlXSlcblxuICAgIGNvbnN0IGFjdHVhbFRleHRTdHlsZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICBjb2xvcjogZGlzYWJsZWQgPyBcImdyZXlcIiA6IHVuZGVmaW5lZFxuICAgICAgICB9LFxuICAgICAgICB0ZXh0U3R5bGVcbiAgICAgIClcbiAgICB9LCBbZGlzYWJsZWRdKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQcmVzc2FibGVcbiAgICAgICAgb25Qb2ludGVyRW50ZXI9e3RoaXMudHQub25Qb2ludGVyRW50ZXJ9XG4gICAgICAgIG9uUG9pbnRlckxlYXZlPXt0aGlzLnR0Lm9uUG9pbnRlckxlYXZlfVxuICAgICAgICBvblByZXNzPXt0aGlzLnR0Lm9uUHJlc3N9XG4gICAgICAgIHN0eWxlPXtwcmVzc2FibGVTdHlsZX1cbiAgICAgICAgey4uLnJlc3RQcmVzc2FibGVQcm9wc31cbiAgICAgID5cbiAgICAgICAge2ljb24gJiZcbiAgICAgICAgICA8VmlldyBzdHlsZT17dGhpcy5jYWNoZShcImljb25WaWV3U3R5bGVcIiwge21hcmdpblJpZ2h0OiA0fSl9PlxuICAgICAgICAgICAgPEljb24gbmFtZT17aWNvbn0gLz5cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIH1cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgICB7bGFiZWwgJiZcbiAgICAgICAgICA8VGV4dCBzdHlsZT17YWN0dWFsVGV4dFN0eWxlfSB7Li4ucmVzdFRleHRQcm9wc30+XG4gICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgPC9UZXh0PlxuICAgICAgICB9XG4gICAgICA8L1ByZXNzYWJsZT5cbiAgICApXG4gIH1cblxuICBvblBvaW50ZXJFbnRlciA9ICgpID0+IHRoaXMuc2V0U3RhdGUoe2hvdmVyOiB0cnVlfSlcbiAgb25Qb2ludGVyTGVhdmUgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHtob3ZlcjogZmFsc2V9KVxuXG4gIG9uUHJlc3MgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucC5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucC5vblByZXNzKSB7XG4gICAgICB0aGlzLnAub25QcmVzcygpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucC5zdWJtaXQgJiYgdGhpcy50dC5mb3JtKSB7XG4gICAgICB0aGlzLnR0LmZvcm0uc3VibWl0KClcbiAgICB9XG4gIH1cbn0pKVxuIl19
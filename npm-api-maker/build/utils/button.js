import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Pressable, View } from "react-native";
import { shapeComponent, ShapeComponent } from "set-state-compare/build/shape-component.js";
import Icon from "./icon";
import memo from "set-state-compare/build/memo.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import Text from "./text";
import { useForm } from "../form";
export default memo(shapeComponent(class ApiMakerUtilsButton extends ShapeComponent {
    static defaultProps = {
        children: null,
        danger: false,
        disabled: false,
        icon: null,
        label: null,
        onPress: null,
        pressableProps: {},
        submit: false,
        textProps: {}
    };
    static propTypes = propTypesExact({
        children: PropTypes.any,
        danger: PropTypes.bool.isRequired,
        disabled: PropTypes.bool.isRequired,
        icon: PropTypes.string,
        label: PropTypes.string,
        onPress: PropTypes.func,
        pressableProps: PropTypes.object.isRequired,
        submit: PropTypes.bool.isRequired,
        textProps: PropTypes.object.isRequired
    });
    setup() {
        this.form = useForm();
        this.useStates({ hover: false });
    }
    render() {
        const { children, danger, disabled, icon, label, pressableProps, textProps } = this.p;
        const { hover } = this.s;
        const { style, ...restPressableProps } = pressableProps;
        const { style: textStyle, ...restTextProps } = textProps;
        const pressableStyle = React.useMemo(() => {
            let backgroundColor;
            if (danger) {
                if (hover) {
                    backgroundColor = "#ff8a8a";
                }
                else {
                    backgroundColor = "#ff6767";
                }
            }
            else {
                if (hover) {
                    backgroundColor = "#e8e4ff";
                }
                else {
                    backgroundColor = "#fff";
                }
            }
            return Object.assign({
                flexDirection: "row",
                alignItems: "center",
                justifyContent: "center",
                paddingHorizontal: 14,
                paddingVertical: 8,
                backgroundColor,
                border: `1px solid ${danger ? "red" : "steelblue"}`,
                borderRadius: 5
            }, pressableProps?.style);
        }, [danger, hover, pressableProps?.style]);
        const actualTextStyle = React.useMemo(() => {
            return Object.assign({
                color: disabled ? "grey" : undefined
            }, textStyle);
        }, [disabled]);
        return (_jsxs(Pressable, { onPointerEnter: this.tt.onPointerEnter, onPointerLeave: this.tt.onPointerLeave, onPress: this.tt.onPress, style: pressableStyle, ...restPressableProps, children: [icon &&
                    _jsx(View, { style: this.cache("iconViewStyle", { marginRight: 4 }), children: _jsx(Icon, { name: icon }) }), children, label &&
                    _jsx(Text, { style: actualTextStyle, ...restTextProps, children: label })] }));
    }
    onPointerEnter = () => this.setState({ hover: true });
    onPointerLeave = () => this.setState({ hover: false });
    onPress = () => {
        if (this.p.disabled) {
            return;
        }
        if (this.p.onPress) {
            this.p.onPress();
        }
        if (this.p.submit && this.tt.form) {
            this.tt.form.submit();
        }
    };
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9uLmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJ1dGlscy9idXR0b24uanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLElBQUksRUFBQyxNQUFNLGNBQWMsQ0FBQTtBQUM1QyxPQUFPLEVBQUMsY0FBYyxFQUFFLGNBQWMsRUFBQyxNQUFNLDRDQUE0QyxDQUFBO0FBQ3pGLE9BQU8sSUFBSSxNQUFNLFFBQVEsQ0FBQTtBQUN6QixPQUFPLElBQUksTUFBTSxpQ0FBaUMsQ0FBQTtBQUNsRCxPQUFPLFNBQVMsTUFBTSxZQUFZLENBQUE7QUFDbEMsT0FBTyxjQUFjLE1BQU0sa0JBQWtCLENBQUE7QUFDN0MsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFBO0FBQ3pCLE9BQU8sSUFBSSxNQUFNLFFBQVEsQ0FBQTtBQUN6QixPQUFPLEVBQUMsT0FBTyxFQUFDLE1BQU0sU0FBUyxDQUFBO0FBRS9CLGVBQWUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLG1CQUFvQixTQUFRLGNBQWM7SUFDakYsTUFBTSxDQUFDLFlBQVksR0FBRztRQUNwQixRQUFRLEVBQUUsSUFBSTtRQUNkLE1BQU0sRUFBRSxLQUFLO1FBQ2IsUUFBUSxFQUFFLEtBQUs7UUFDZixJQUFJLEVBQUUsSUFBSTtRQUNWLEtBQUssRUFBRSxJQUFJO1FBQ1gsT0FBTyxFQUFFLElBQUk7UUFDYixjQUFjLEVBQUUsRUFBRTtRQUNsQixNQUFNLEVBQUUsS0FBSztRQUNiLFNBQVMsRUFBRSxFQUFFO0tBQ2QsQ0FBQTtJQUVELE1BQU0sQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO1FBQ2hDLFFBQVEsRUFBRSxTQUFTLENBQUMsR0FBRztRQUN2QixNQUFNLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVO1FBQ2pDLFFBQVEsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVU7UUFDbkMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3RCLEtB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QyxFQUFDLENBQUMsWUFDeEQsS0FBQyxJQUFJLElBQUMsSUFBSSxFQUFFLElBQUksR0FBSSxHQUNmLEVBRVIsUUFBUSxFQUNSLEtBQUs7b0JBQ0osS0FBQyxJQUFJLElBQUMsS0FBSyxFQUFFLGVBQWUsS0FBTSxhQUFhLFlBQzVDLEtBQUssR0FDRCxJQUVDLENBQ2IsQ0FBQTtJQUNILENBQUM7SUFFRCxjQUFjLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEtBQUssRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFBO0lBQ25ELGNBQWMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUE7SUFFcEQsT0FBTyxHQUFHLEdBQUcsRUFBRTtRQUNiLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNwQixPQUFNO1FBQ1IsQ0FBQztRQUVELElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNuQixJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQ2xCLENBQUM7UUFFRCxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUE7UUFDdkIsQ0FBQztJQUNILENBQUMsQ0FBQTtDQUNGLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQcmVzc2FibGUsIFZpZXd9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudCwgU2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IEljb24gZnJvbSBcIi4vaWNvblwiXG5pbXBvcnQgbWVtbyBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvbWVtby5qc1wiXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBwcm9wVHlwZXNFeGFjdCBmcm9tIFwicHJvcC10eXBlcy1leGFjdFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBUZXh0IGZyb20gXCIuL3RleHRcIlxuaW1wb3J0IHt1c2VGb3JtfSBmcm9tIFwiLi4vZm9ybVwiXG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oc2hhcGVDb21wb25lbnQoY2xhc3MgQXBpTWFrZXJVdGlsc0J1dHRvbiBleHRlbmRzIFNoYXBlQ29tcG9uZW50IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBkYW5nZXI6IGZhbHNlLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBpY29uOiBudWxsLFxuICAgIGxhYmVsOiBudWxsLFxuICAgIG9uUHJlc3M6IG51bGwsXG4gICAgcHJlc3NhYmxlUHJvcHM6IHt9LFxuICAgIHN1Ym1pdDogZmFsc2UsXG4gICAgdGV4dFByb3BzOiB7fVxuICB9XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHByb3BUeXBlc0V4YWN0KHtcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgICBkYW5nZXI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgaWNvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvblByZXNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwcmVzc2FibGVQcm9wczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHN1Ym1pdDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICB0ZXh0UHJvcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuICB9KVxuXG4gIHNldHVwKCkge1xuICAgIHRoaXMuZm9ybSA9IHVzZUZvcm0oKVxuICAgIHRoaXMudXNlU3RhdGVzKHtob3ZlcjogZmFsc2V9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtjaGlsZHJlbiwgZGFuZ2VyLCBkaXNhYmxlZCwgaWNvbiwgbGFiZWwsIHByZXNzYWJsZVByb3BzLCB0ZXh0UHJvcHN9ID0gdGhpcy5wXG4gICAgY29uc3Qge2hvdmVyfSA9IHRoaXMuc1xuICAgIGNvbnN0IHtzdHlsZSwgLi4ucmVzdFByZXNzYWJsZVByb3BzfSA9IHByZXNzYWJsZVByb3BzXG4gICAgY29uc3Qge3N0eWxlOiB0ZXh0U3R5bGUsIC4uLnJlc3RUZXh0UHJvcHN9ID0gdGV4dFByb3BzXG5cbiAgICBjb25zdCBwcmVzc2FibGVTdHlsZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgICAgbGV0IGJhY2tncm91bmRDb2xvclxuXG4gICAgICBpZiAoZGFuZ2VyKSB7XG4gICAgICAgIGlmIChob3Zlcikge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IFwiI2ZmOGE4YVwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gXCIjZmY2NzY3XCJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGhvdmVyKSB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gXCIjZThlNGZmXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZcIlxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgICB7XG4gICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgIHBhZGRpbmdIb3Jpem9udGFsOiAxNCxcbiAgICAgICAgICBwYWRkaW5nVmVydGljYWw6IDgsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2RhbmdlciA/IFwicmVkXCIgOiBcInN0ZWVsYmx1ZVwifWAsXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiA1XG4gICAgICAgIH0sXG4gICAgICAgIHByZXNzYWJsZVByb3BzPy5zdHlsZVxuICAgICAgKVxuICAgIH0sIFtkYW5nZXIsIGhvdmVyLCBwcmVzc2FibGVQcm9wcz8uc3R5bGVdKVxuXG4gICAgY29uc3QgYWN0dWFsVGV4dFN0eWxlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgIGNvbG9yOiBkaXNhYmxlZCA/IFwiZ3JleVwiIDogdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIHRleHRTdHlsZVxuICAgICAgKVxuICAgIH0sIFtkaXNhYmxlZF0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFByZXNzYWJsZVxuICAgICAgICBvblBvaW50ZXJFbnRlcj17dGhpcy50dC5vblBvaW50ZXJFbnRlcn1cbiAgICAgICAgb25Qb2ludGVyTGVhdmU9e3RoaXMudHQub25Qb2ludGVyTGVhdmV9XG4gICAgICAgIG9uUHJlc3M9e3RoaXMudHQub25QcmVzc31cbiAgICAgICAgc3R5bGU9e3ByZXNzYWJsZVN0eWxlfVxuICAgICAgICB7Li4ucmVzdFByZXNzYWJsZVByb3BzfVxuICAgICAgPlxuICAgICAgICB7aWNvbiAmJlxuICAgICAgICAgIDxWaWV3IHN0eWxlPXt0aGlzLmNhY2hlKFwiaWNvblZpZXdTdHlsZVwiLCB7bWFyZ2luUmlnaHQ6IDR9KX0+XG4gICAgICAgICAgICA8SWNvbiBuYW1lPXtpY29ufSAvPlxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgfVxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIHtsYWJlbCAmJlxuICAgICAgICAgIDxUZXh0IHN0eWxlPXthY3R1YWxUZXh0U3R5bGV9IHsuLi5yZXN0VGV4dFByb3BzfT5cbiAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICA8L1RleHQ+XG4gICAgICAgIH1cbiAgICAgIDwvUHJlc3NhYmxlPlxuICAgIClcbiAgfVxuXG4gIG9uUG9pbnRlckVudGVyID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7aG92ZXI6IHRydWV9KVxuICBvblBvaW50ZXJMZWF2ZSA9ICgpID0+IHRoaXMuc2V0U3RhdGUoe2hvdmVyOiBmYWxzZX0pXG5cbiAgb25QcmVzcyA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5wLm9uUHJlc3MpIHtcbiAgICAgIHRoaXMucC5vblByZXNzKClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wLnN1Ym1pdCAmJiB0aGlzLnR0LmZvcm0pIHtcbiAgICAgIHRoaXMudHQuZm9ybS5zdWJtaXQoKVxuICAgIH1cbiAgfVxufSkpXG4iXX0=
import React, { useRef } from "react";
import BaseComponent from "../../base-component.js";
import columnIdentifier from "../column-identifier.js";
import ColumnRow from "./column-row.js";
import DownloadAction from "./download-action.js";
import memo from "set-state-compare/build/memo.js";
import Modal from "../../modal.js";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import { View } from "react-native";
import Text from "../../utils/text.js";
import useI18n from "i18n-on-steroids/src/use-i18n.mjs";
export default memo(shapeComponent(class ApiMakerTableSettings extends BaseComponent {
    static propTypes = propTypesExact({
        onRequestClose: PropTypes.func.isRequired,
        table: PropTypes.object.isRequired
    });
    setup() {
        const { l, t } = useI18n({ namespace: "js.api_maker.table.settings" });
        this.rootRef = useRef();
        this.l = l;
        this.t = t;
    }
    tableSetting = () => this.p.table.s.tableSetting;
    render() {
        const { l, t } = this.tt;
        const { table } = this.p;
        const { preparedColumns } = table.s;
        return (<Modal onBackdropPress={this.p.onRequestClose} onRequestClose={this.p.onRequestClose} style={this.cache("rootModalStyle", { backgroundColor: "#000" })} transparent>
        <View dataSet={this.cache("rootViewDataSet", { class: "api-maker--table--settings" })} style={this.cache("rootViewStyle", {
                width: "100%",
                maxWidth: 800,
                padding: 20,
                backgroundColor: "#fff",
                border: "1px solid black"
            })}>
          <View style={this.cache("settingsHeaderViewStyle", { marginBottom: 5 })}>
            <Text style={this.cache("settingsHeaderTextSTyle", { fontSize: 16, fontWeight: "bold" })}>
              {t(".settings", { defaultValue: "Settings" })}
            </Text>
          </View>
          <DownloadAction l={l} table={table}/>
          <View style={this.cache("columnsHeaderViewStyle", { marginBottom: 5 })}>
            <Text style={this.cache("columnsHeaderTextStyle", { fontSize: 16, fontWeight: "bold" })}>
              {t(".columns", { defaultValue: "Columns" })}
            </Text>
          </View>
          {preparedColumns?.map(({ column, tableSettingColumn }) => <ColumnRow column={column} key={columnIdentifier(column)} table={table} tableSettingColumn={tableSettingColumn}/>)}
        </View>
      </Modal>);
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInRhYmxlL3NldHRpbmdzL2luZGV4LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFDLE1BQU0sRUFBQyxNQUFNLE9BQU8sQ0FBQTtBQUNuQyxPQUFPLGFBQWEsTUFBTSx5QkFBeUIsQ0FBQTtBQUNuRCxPQUFPLGdCQUFnQixNQUFNLHlCQUF5QixDQUFBO0FBQ3RELE9BQU8sU0FBUyxNQUFNLGlCQUFpQixDQUFBO0FBQ3ZDLE9BQU8sY0FBYyxNQUFNLHNCQUFzQixDQUFBO0FBQ2pELE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sS0FBSyxNQUFNLGdCQUFnQixDQUFBO0FBQ2xDLE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQTtBQUNsQyxPQUFPLGNBQWMsTUFBTSxrQkFBa0IsQ0FBQTtBQUM3QyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFDekUsT0FBTyxFQUFDLElBQUksRUFBQyxNQUFNLGNBQWMsQ0FBQTtBQUNqQyxPQUFPLElBQUksTUFBTSxxQkFBcUIsQ0FBQTtBQUN0QyxPQUFPLE9BQU8sTUFBTSxtQ0FBbUMsQ0FBQTtBQUV2RCxlQUFlLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxxQkFBc0IsU0FBUSxhQUFhO0lBQ2xGLE1BQU0sQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO1FBQ2hDLGNBQWMsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVU7UUFDekMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtLQUNuQyxDQUFDLENBQUE7SUFFRixLQUFLO1FBQ0gsTUFBTSxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsR0FBRyxPQUFPLENBQUMsRUFBQyxTQUFTLEVBQUUsNkJBQTZCLEVBQUMsQ0FBQyxDQUFBO1FBRWxFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxFQUFFLENB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LEtBQUssQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsa0JBQWtCLENBQUMsRUFBRyxDQUNuSCxDQUNIO1FBQUEsRUFBRSxJQUFJLENBQ1I7TUFBQSxFQUFFLEtBQUssQ0FBQyxDQUNULENBQUE7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHt1c2VSZWZ9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tIFwiLi4vLi4vYmFzZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IGNvbHVtbklkZW50aWZpZXIgZnJvbSBcIi4uL2NvbHVtbi1pZGVudGlmaWVyLmpzXCJcbmltcG9ydCBDb2x1bW5Sb3cgZnJvbSBcIi4vY29sdW1uLXJvdy5qc1wiXG5pbXBvcnQgRG93bmxvYWRBY3Rpb24gZnJvbSBcIi4vZG93bmxvYWQtYWN0aW9uLmpzXCJcbmltcG9ydCBtZW1vIGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9tZW1vLmpzXCJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi4vLi4vbW9kYWwuanNcIlxuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiXG5pbXBvcnQgcHJvcFR5cGVzRXhhY3QgZnJvbSBcInByb3AtdHlwZXMtZXhhY3RcIlxuaW1wb3J0IHtzaGFwZUNvbXBvbmVudH0gZnJvbSBcInNldC1zdGF0ZS1jb21wYXJlL2J1aWxkL3NoYXBlLWNvbXBvbmVudC5qc1wiXG5pbXBvcnQge1ZpZXd9IGZyb20gXCJyZWFjdC1uYXRpdmVcIlxuaW1wb3J0IFRleHQgZnJvbSBcIi4uLy4uL3V0aWxzL3RleHQuanNcIlxuaW1wb3J0IHVzZUkxOG4gZnJvbSBcImkxOG4tb24tc3Rlcm9pZHMvc3JjL3VzZS1pMThuLm1qc1wiXG5cbmV4cG9ydCBkZWZhdWx0IG1lbW8oc2hhcGVDb21wb25lbnQoY2xhc3MgQXBpTWFrZXJUYWJsZVNldHRpbmdzIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSBwcm9wVHlwZXNFeGFjdCh7XG4gICAgb25SZXF1ZXN0Q2xvc2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgdGFibGU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuICB9KVxuXG4gIHNldHVwKCkge1xuICAgIGNvbnN0IHtsLCB0fSA9IHVzZUkxOG4oe25hbWVzcGFjZTogXCJqcy5hcGlfbWFrZXIudGFibGUuc2V0dGluZ3NcIn0pXG5cbiAgICB0aGlzLnJvb3RSZWYgPSB1c2VSZWYoKVxuICAgIHRoaXMubCA9IGxcbiAgICB0aGlzLnQgPSB0XG4gIH1cblxuICB0YWJsZVNldHRpbmcgPSAoKSA9PiB0aGlzLnAudGFibGUucy50YWJsZVNldHRpbmdcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2wsIHR9ID0gdGhpcy50dFxuICAgIGNvbnN0IHt0YWJsZX0gPSB0aGlzLnBcbiAgICBjb25zdCB7cHJlcGFyZWRDb2x1bW5zfSA9IHRhYmxlLnNcblxuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgb25CYWNrZHJvcFByZXNzPXt0aGlzLnAub25SZXF1ZXN0Q2xvc2V9IG9uUmVxdWVzdENsb3NlPXt0aGlzLnAub25SZXF1ZXN0Q2xvc2V9IHN0eWxlPXt0aGlzLmNhY2hlKFwicm9vdE1vZGFsU3R5bGVcIiwge2JhY2tncm91bmRDb2xvcjogXCIjMDAwXCJ9KX0gdHJhbnNwYXJlbnQ+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgZGF0YVNldD17dGhpcy5jYWNoZShcInJvb3RWaWV3RGF0YVNldFwiLCB7Y2xhc3M6IFwiYXBpLW1ha2VyLS10YWJsZS0tc2V0dGluZ3NcIn0pfVxuICAgICAgICAgIHN0eWxlPXt0aGlzLmNhY2hlKFwicm9vdFZpZXdTdHlsZVwiLCB7XG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBtYXhXaWR0aDogODAwLFxuICAgICAgICAgICAgcGFkZGluZzogMjAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgICAgICAgfSl9XG4gICAgICAgID5cbiAgICAgICAgICA8VmlldyBzdHlsZT17dGhpcy5jYWNoZShcInNldHRpbmdzSGVhZGVyVmlld1N0eWxlXCIsIHttYXJnaW5Cb3R0b206IDV9KX0+XG4gICAgICAgICAgICA8VGV4dCBzdHlsZT17dGhpcy5jYWNoZShcInNldHRpbmdzSGVhZGVyVGV4dFNUeWxlXCIsIHtmb250U2l6ZTogMTYsIGZvbnRXZWlnaHQ6IFwiYm9sZFwifSl9PlxuICAgICAgICAgICAgICB7dChcIi5zZXR0aW5nc1wiLCB7ZGVmYXVsdFZhbHVlOiBcIlNldHRpbmdzXCJ9KX1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgPERvd25sb2FkQWN0aW9uIGw9e2x9IHRhYmxlPXt0YWJsZX0gLz5cbiAgICAgICAgICA8VmlldyBzdHlsZT17dGhpcy5jYWNoZShcImNvbHVtbnNIZWFkZXJWaWV3U3R5bGVcIiwge21hcmdpbkJvdHRvbTogNX0pfT5cbiAgICAgICAgICAgIDxUZXh0IHN0eWxlPXt0aGlzLmNhY2hlKFwiY29sdW1uc0hlYWRlclRleHRTdHlsZVwiLCB7Zm9udFNpemU6IDE2LCBmb250V2VpZ2h0OiBcImJvbGRcIn0pfT5cbiAgICAgICAgICAgICAge3QoXCIuY29sdW1uc1wiLCB7ZGVmYXVsdFZhbHVlOiBcIkNvbHVtbnNcIn0pfVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgICB7cHJlcGFyZWRDb2x1bW5zPy5tYXAoKHtjb2x1bW4sIHRhYmxlU2V0dGluZ0NvbHVtbn0pID0+XG4gICAgICAgICAgICA8Q29sdW1uUm93IGNvbHVtbj17Y29sdW1ufSBrZXk9e2NvbHVtbklkZW50aWZpZXIoY29sdW1uKX0gdGFibGU9e3RhYmxlfSB0YWJsZVNldHRpbmdDb2x1bW49e3RhYmxlU2V0dGluZ0NvbHVtbn0gLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICA8L01vZGFsPlxuICAgIClcbiAgfVxufSkpXG4iXX0=
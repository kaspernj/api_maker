import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import React, { useRef } from "react";
import BaseComponent from "../../base-component";
import columnIdentifier from "../column-identifier.js";
import ColumnRow from "./column-row";
import DownloadAction from "./download-action";
import memo from "set-state-compare/build/memo.js";
import Modal from "../../modal";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import { View } from "react-native";
import Text from "../../utils/text";
import useI18n from "i18n-on-steroids/src/use-i18n.mjs";
export default memo(shapeComponent(class ApiMakerTableSettings extends BaseComponent {
    static propTypes = propTypesExact({
        onRequestClose: PropTypes.func.isRequired,
        table: PropTypes.object.isRequired
    });
    setup() {
        const { l, t } = useI18n({ namespace: "js.api_maker.table.settings" });
        this.rootRef = useRef();
        this.l = l;
        this.t = t;
    }
    tableSetting = () => this.p.table.s.tableSetting;
    render() {
        const { l, t } = this.tt;
        const { table } = this.p;
        const { preparedColumns } = table.s;
        return (_jsx(Modal, { onBackdropPress: this.p.onRequestClose, onRequestClose: this.p.onRequestClose, style: this.cache("rootModalStyle", { backgroundColor: "#000" }), transparent: true, children: _jsxs(View, { dataSet: this.cache("rootViewDataSet", { class: "api-maker--table--settings" }), style: this.cache("rootViewStyle", {
                    width: "100%",
                    maxWidth: 800,
                    padding: 20,
                    backgroundColor: "#fff",
                    border: "1px solid black"
                }), children: [_jsx(View, { style: this.cache("settingsHeaderViewStyle", { marginBottom: 5 }), children: _jsx(Text, { style: this.cache("settingsHeaderTextSTyle", { fontSize: 16, fontWeight: "bold" }), children: t(".settings", { defaultValue: "Settings" }) }) }), _jsx(DownloadAction, { l: l, table: table }), _jsx(View, { style: this.cache("columnsHeaderViewStyle", { marginBottom: 5 }), children: _jsx(Text, { style: this.cache("columnsHeaderTextStyle", { fontSize: 16, fontWeight: "bold" }), children: t(".columns", { defaultValue: "Columns" }) }) }), preparedColumns?.map(({ column, tableSettingColumn }) => _jsx(ColumnRow, { column: column, table: table, tableSettingColumn: tableSettingColumn }, columnIdentifier(column)))] }) }));
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbInRhYmxlL3NldHRpbmdzL2luZGV4LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxLQUFLLEVBQUUsRUFBQyxNQUFNLEVBQUMsTUFBTSxPQUFPLENBQUE7QUFDbkMsT0FBTyxhQUFhLE1BQU0sc0JBQXNCLENBQUE7QUFDaEQsT0FBTyxnQkFBZ0IsTUFBTSx5QkFBeUIsQ0FBQTtBQUN0RCxPQUFPLFNBQVMsTUFBTSxjQUFjLENBQUE7QUFDcEMsT0FBTyxjQUFjLE1BQU0sbUJBQW1CLENBQUE7QUFDOUMsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxLQUFLLE1BQU0sYUFBYSxDQUFBO0FBQy9CLE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQTtBQUNsQyxPQUFPLGNBQWMsTUFBTSxrQkFBa0IsQ0FBQTtBQUM3QyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFDekUsT0FBTyxFQUFDLElBQUksRUFBQyxNQUFNLGNBQWMsQ0FBQTtBQUNqQyxPQUFPLElBQUksTUFBTSxrQkFBa0IsQ0FBQTtBQUNuQyxPQUFPLE9BQU8sTUFBTSxtQ0FBbUMsQ0FBQTtBQUV2RCxlQUFlLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxxQkFBc0IsU0FBUSxhQUFhO0lBQ2xGLE1BQU0sQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO1FBQ2hDLGNBQWMsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVU7UUFDekMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtLQUNuQyxDQUFDLENBQUE7SUFFRixLQUFLO1FBQ0gsTUFBTSxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsR0FBRyxPQUFPLENBQUMsRUFBQyxTQUFTLEVBQUUsNkJBQTZCLEVBQUMsQ0FBQyxDQUFBO1FBRWxFLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxFQUFFLENBQUE7UUFDdkIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDVixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNaLENBQUM7SUFFRCxZQUFZLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQTtJQUVoRCxNQUFNO1FBQ0osTUFBTSxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFBO1FBQ3RCLE1BQU0sRUFBQyxLQUFLLEVBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO1FBQ3RCLE1BQU0sRUFBQyxlQUFlLEVBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFBO1FBRWpDLE9BQU8sQ0FDTCxLQUFDLEtBQUssSUFBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsY0FBYyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFFLEVBQUMsZUFBZSxFQUFFLE1BQU0sRUFBQyxDQUFDLEVBQUUsV0FBVyxrQkFDL0osTUFBQyxJQUFJLElBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsRUFBQyxLQUFLLEVBQUUsNEJBQTRCLEVBQUMsQ0FBQyxFQUM3RSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUU7b0JBQ2pDLEtBQUssRUFBRSxNQUFNO29CQUNiLFFBQVEsRUFBRSxHQUFHO29CQUNiLE9BQU8sRUFBRSxFQUFFO29CQUNYLGVBQWUsRUFBRSxNQUFNO29CQUN2QixNQUFNLEVBQUUsaUJBQWlCO2lCQUMxQixDQUFDLGFBRUYsS0FBQyxJQUFJLElBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMseUJBQXlCLEVBQUUsRUFBQyxZQUFZLEVBQUUsQ0FBQyxFQUFDLENBQUMsWUFDbkUsS0FBQyxJQUFJLElBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMseUJBQXlCLEVBQUUsRUFBQyxRQUFRLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUMsQ0FBQyxZQUNuRixDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUMsWUFBWSxFQUFFLFVBQVUsRUFBQyxDQUFDLEdBQ3RDLEdBQ0YsRUFDUCxLQUFDLGNBQWMsSUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEdBQUksRUFDdEMsS0FBQyxJQUFJLElBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEVBQUUsRUFBQyxZQUFZLEVBQUUsQ0FBQyxFQUFDLENBQUMsWUFDbEUsS0FBQyxJQUFJLElBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsd0JBQXdCLEVBQUUsRUFBQyxRQUFRLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUMsQ0FBQyxZQUNsRixDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUMsWUFBWSxFQUFFLFNBQVMsRUFBQyxDQUFDLEdBQ3BDLEdBQ0YsRUFDTixlQUFlLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUMsRUFBRSxFQUFFLENBQ3JELEtBQUMsU0FBUyxJQUFDLE1BQU0sRUFBRSxNQUFNLEVBQWlDLEtBQUssRUFBRSxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsa0JBQWtCLElBQTlFLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUEwRCxDQUNuSCxJQUNJLEdBQ0QsQ0FDVCxDQUFBO0lBQ0gsQ0FBQztDQUNGLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlUmVmfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4uLy4uL2Jhc2UtY29tcG9uZW50XCJcbmltcG9ydCBjb2x1bW5JZGVudGlmaWVyIGZyb20gXCIuLi9jb2x1bW4taWRlbnRpZmllci5qc1wiXG5pbXBvcnQgQ29sdW1uUm93IGZyb20gXCIuL2NvbHVtbi1yb3dcIlxuaW1wb3J0IERvd25sb2FkQWN0aW9uIGZyb20gXCIuL2Rvd25sb2FkLWFjdGlvblwiXG5pbXBvcnQgbWVtbyBmcm9tIFwic2V0LXN0YXRlLWNvbXBhcmUvYnVpbGQvbWVtby5qc1wiXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4uLy4uL21vZGFsXCJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIlxuaW1wb3J0IHByb3BUeXBlc0V4YWN0IGZyb20gXCJwcm9wLXR5cGVzLWV4YWN0XCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IHtWaWV3fSBmcm9tIFwicmVhY3QtbmF0aXZlXCJcbmltcG9ydCBUZXh0IGZyb20gXCIuLi8uLi91dGlscy90ZXh0XCJcbmltcG9ydCB1c2VJMThuIGZyb20gXCJpMThuLW9uLXN0ZXJvaWRzL3NyYy91c2UtaTE4bi5tanNcIlxuXG5leHBvcnQgZGVmYXVsdCBtZW1vKHNoYXBlQ29tcG9uZW50KGNsYXNzIEFwaU1ha2VyVGFibGVTZXR0aW5ncyBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0gcHJvcFR5cGVzRXhhY3Qoe1xuICAgIG9uUmVxdWVzdENsb3NlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHRhYmxlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbiAgfSlcblxuICBzZXR1cCgpIHtcbiAgICBjb25zdCB7bCwgdH0gPSB1c2VJMThuKHtuYW1lc3BhY2U6IFwianMuYXBpX21ha2VyLnRhYmxlLnNldHRpbmdzXCJ9KVxuXG4gICAgdGhpcy5yb290UmVmID0gdXNlUmVmKClcbiAgICB0aGlzLmwgPSBsXG4gICAgdGhpcy50ID0gdFxuICB9XG5cbiAgdGFibGVTZXR0aW5nID0gKCkgPT4gdGhpcy5wLnRhYmxlLnMudGFibGVTZXR0aW5nXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtsLCB0fSA9IHRoaXMudHRcbiAgICBjb25zdCB7dGFibGV9ID0gdGhpcy5wXG4gICAgY29uc3Qge3ByZXBhcmVkQ29sdW1uc30gPSB0YWJsZS5zXG5cbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIG9uQmFja2Ryb3BQcmVzcz17dGhpcy5wLm9uUmVxdWVzdENsb3NlfSBvblJlcXVlc3RDbG9zZT17dGhpcy5wLm9uUmVxdWVzdENsb3NlfSBzdHlsZT17dGhpcy5jYWNoZShcInJvb3RNb2RhbFN0eWxlXCIsIHtiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMFwifSl9IHRyYW5zcGFyZW50PlxuICAgICAgICA8Vmlld1xuICAgICAgICAgIGRhdGFTZXQ9e3RoaXMuY2FjaGUoXCJyb290Vmlld0RhdGFTZXRcIiwge2NsYXNzOiBcImFwaS1tYWtlci0tdGFibGUtLXNldHRpbmdzXCJ9KX1cbiAgICAgICAgICBzdHlsZT17dGhpcy5jYWNoZShcInJvb3RWaWV3U3R5bGVcIiwge1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgbWF4V2lkdGg6IDgwMCxcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICAgIH0pfVxuICAgICAgICA+XG4gICAgICAgICAgPFZpZXcgc3R5bGU9e3RoaXMuY2FjaGUoXCJzZXR0aW5nc0hlYWRlclZpZXdTdHlsZVwiLCB7bWFyZ2luQm90dG9tOiA1fSl9PlxuICAgICAgICAgICAgPFRleHQgc3R5bGU9e3RoaXMuY2FjaGUoXCJzZXR0aW5nc0hlYWRlclRleHRTVHlsZVwiLCB7Zm9udFNpemU6IDE2LCBmb250V2VpZ2h0OiBcImJvbGRcIn0pfT5cbiAgICAgICAgICAgICAge3QoXCIuc2V0dGluZ3NcIiwge2RlZmF1bHRWYWx1ZTogXCJTZXR0aW5nc1wifSl9XG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICAgIDxEb3dubG9hZEFjdGlvbiBsPXtsfSB0YWJsZT17dGFibGV9IC8+XG4gICAgICAgICAgPFZpZXcgc3R5bGU9e3RoaXMuY2FjaGUoXCJjb2x1bW5zSGVhZGVyVmlld1N0eWxlXCIsIHttYXJnaW5Cb3R0b206IDV9KX0+XG4gICAgICAgICAgICA8VGV4dCBzdHlsZT17dGhpcy5jYWNoZShcImNvbHVtbnNIZWFkZXJUZXh0U3R5bGVcIiwge2ZvbnRTaXplOiAxNiwgZm9udFdlaWdodDogXCJib2xkXCJ9KX0+XG4gICAgICAgICAgICAgIHt0KFwiLmNvbHVtbnNcIiwge2RlZmF1bHRWYWx1ZTogXCJDb2x1bW5zXCJ9KX1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAge3ByZXBhcmVkQ29sdW1ucz8ubWFwKCh7Y29sdW1uLCB0YWJsZVNldHRpbmdDb2x1bW59KSA9PlxuICAgICAgICAgICAgPENvbHVtblJvdyBjb2x1bW49e2NvbHVtbn0ga2V5PXtjb2x1bW5JZGVudGlmaWVyKGNvbHVtbil9IHRhYmxlPXt0YWJsZX0gdGFibGVTZXR0aW5nQ29sdW1uPXt0YWJsZVNldHRpbmdDb2x1bW59IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgPC9Nb2RhbD5cbiAgICApXG4gIH1cbn0pKVxuIl19
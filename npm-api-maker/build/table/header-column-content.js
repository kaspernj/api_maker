import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import BaseComponent from "../base-component";
import { digs } from "diggerize";
import memo from "set-state-compare/build/memo.js";
import { View } from "react-native";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import SortLink from "../bootstrap/sort-link";
import Text from "../utils/text";
export default memo(shapeComponent(class ApiMakerTableHeaderColumn extends BaseComponent {
    static propTypes = propTypesExact({
        column: PropTypes.object.isRequired,
        sortLinkProps: PropTypes.object,
        table: PropTypes.object.isRequired,
        tableSettingColumn: PropTypes.object.isRequired
    });
    render() {
        const { column, table, tableSettingColumn } = this.p;
        const { defaultParams } = table.props;
        const { styleForHeaderText } = table.tt;
        const { query } = digs(table.collection, "query");
        const columnProps = table.columnProps(column);
        return (_jsxs(View, { dataSet: this.cache("rootViewDataSet", {
                component: "api-maker/table/header-column-content",
                identifier: tableSettingColumn.identifier()
            }, [tableSettingColumn.identifier()]), style: this.cache("rootViewStyle", { display: "flex", flexDirection: "row", alignItems: "center" }), ...columnProps, children: [tableSettingColumn.hasSortKey() && query &&
                    _jsx(SortLink, { attribute: tableSettingColumn.sortKey(), defaultParams: defaultParams, query: query, style: this.cache("sortLinkStyle", { whiteSpace: "nowrap", overflow: "hidden" }), textProps: { ellipsizeMode: "clip", numberOfLines: 1, style: styleForHeaderText() }, title: table.headerLabelForColumn(column), ...this.props.sortLinkProps }), (!tableSettingColumn.hasSortKey() || !query) &&
                    _jsx(Text, { ellipsizeMode: "clip", numberOfLines: 1, style: this.cache("headerLabelStyle", { fontWeight: "bold" }), children: table.headerLabelForColumn(column) })] }));
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLWNvbHVtbi1jb250ZW50LmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJ0YWJsZS9oZWFkZXItY29sdW1uLWNvbnRlbnQuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLGFBQWEsTUFBTSxtQkFBbUIsQ0FBQTtBQUM3QyxPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sV0FBVyxDQUFBO0FBQzlCLE9BQU8sSUFBSSxNQUFNLGlDQUFpQyxDQUFBO0FBQ2xELE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxjQUFjLENBQUE7QUFDakMsT0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFBO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLGtCQUFrQixDQUFBO0FBQzdDLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUN6QixPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sNENBQTRDLENBQUE7QUFDekUsT0FBTyxRQUFRLE1BQU0sd0JBQXdCLENBQUE7QUFDN0MsT0FBTyxJQUFJLE1BQU0sZUFBZSxDQUFBO0FBRWhDLGVBQWUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLHlCQUEwQixTQUFRLGFBQWE7SUFDdEYsTUFBTSxDQUFDLFNBQVMsR0FBRyxjQUFjLENBQUM7UUFDaEMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtRQUNuQyxhQUFhLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDL0IsS0FBSyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtRQUNsQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7S0FDaEQsQ0FBQyxDQUFBO0lBRUYsTUFBTTtRQUNKLE1BQU0sRUFBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLGtCQUFrQixFQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQTtRQUNsRCxNQUFNLEVBQUMsYUFBYSxFQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQTtRQUNuQyxNQUFNLEVBQUMsa0JBQWtCLEVBQUMsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFBO1FBQ3JDLE1BQU0sRUFBQyxLQUFLLEVBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQTtRQUMvQyxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBRTdDLE9BQU8sQ0FDTCxNQUFDLElBQUksSUFDSCxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBRTtnQkFDckMsU0FBUyxFQUFFLHVDQUF1QztnQkFDbEQsVUFBVSxFQUFFLGtCQUFrQixDQUFDLFVBQVUsRUFBRTthQUM1QyxFQUFFLENBQUMsa0JBQWtCLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxFQUNyQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsRUFBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBQyxDQUFDLEtBQzdGLFdBQVcsYUFFZCxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxLQUFLO29CQUN2QyxLQUFDLFFBQVEsSUFDUCxTQUFTLEVBQUUsa0JBQWtCLENBQUMsT0FBTyxFQUFFLEVBQ3ZDLGFBQWEsRUFBRSxhQUFhLEVBQzVCLEtBQUssRUFBRSxLQUFLLEVBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLEVBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFDLENBQUMsRUFDOUUsU0FBUyxFQUFFLEVBQUMsYUFBYSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxFQUFDLEVBQ2pGLEtBQUssRUFBRSxLQUFLLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLEtBQ3JDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxHQUM1QixFQUVILENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQztvQkFDM0MsS0FBQyxJQUFJLElBQUMsYUFBYSxFQUFDLE1BQU0sRUFBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFFLEVBQUMsVUFBVSxFQUFFLE1BQU0sRUFBQyxDQUFDLFlBQ3JHLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsR0FDOUIsSUFFSixDQUNSLENBQUE7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tIFwiLi4vYmFzZS1jb21wb25lbnRcIlxuaW1wb3J0IHtkaWdzfSBmcm9tIFwiZGlnZ2VyaXplXCJcbmltcG9ydCBtZW1vIGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9tZW1vLmpzXCJcbmltcG9ydCB7Vmlld30gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBwcm9wVHlwZXNFeGFjdCBmcm9tIFwicHJvcC10eXBlcy1leGFjdFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IFNvcnRMaW5rIGZyb20gXCIuLi9ib290c3RyYXAvc29ydC1saW5rXCJcbmltcG9ydCBUZXh0IGZyb20gXCIuLi91dGlscy90ZXh0XCJcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhzaGFwZUNvbXBvbmVudChjbGFzcyBBcGlNYWtlclRhYmxlSGVhZGVyQ29sdW1uIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSBwcm9wVHlwZXNFeGFjdCh7XG4gICAgY29sdW1uOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc29ydExpbmtQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB0YWJsZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHRhYmxlU2V0dGluZ0NvbHVtbjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG4gIH0pXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtjb2x1bW4sIHRhYmxlLCB0YWJsZVNldHRpbmdDb2x1bW59ID0gdGhpcy5wXG4gICAgY29uc3Qge2RlZmF1bHRQYXJhbXN9ID0gdGFibGUucHJvcHNcbiAgICBjb25zdCB7c3R5bGVGb3JIZWFkZXJUZXh0fSA9IHRhYmxlLnR0XG4gICAgY29uc3Qge3F1ZXJ5fSA9IGRpZ3ModGFibGUuY29sbGVjdGlvbiwgXCJxdWVyeVwiKVxuICAgIGNvbnN0IGNvbHVtblByb3BzID0gdGFibGUuY29sdW1uUHJvcHMoY29sdW1uKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIGRhdGFTZXQ9e3RoaXMuY2FjaGUoXCJyb290Vmlld0RhdGFTZXRcIiwge1xuICAgICAgICAgIGNvbXBvbmVudDogXCJhcGktbWFrZXIvdGFibGUvaGVhZGVyLWNvbHVtbi1jb250ZW50XCIsXG4gICAgICAgICAgaWRlbnRpZmllcjogdGFibGVTZXR0aW5nQ29sdW1uLmlkZW50aWZpZXIoKVxuICAgICAgICB9LCBbdGFibGVTZXR0aW5nQ29sdW1uLmlkZW50aWZpZXIoKV0pfVxuICAgICAgICBzdHlsZT17dGhpcy5jYWNoZShcInJvb3RWaWV3U3R5bGVcIiwge2Rpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwifSl9XG4gICAgICAgIHsuLi5jb2x1bW5Qcm9wc31cbiAgICAgID5cbiAgICAgICAge3RhYmxlU2V0dGluZ0NvbHVtbi5oYXNTb3J0S2V5KCkgJiYgcXVlcnkgJiZcbiAgICAgICAgICA8U29ydExpbmtcbiAgICAgICAgICAgIGF0dHJpYnV0ZT17dGFibGVTZXR0aW5nQ29sdW1uLnNvcnRLZXkoKX1cbiAgICAgICAgICAgIGRlZmF1bHRQYXJhbXM9e2RlZmF1bHRQYXJhbXN9XG4gICAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgICBzdHlsZT17dGhpcy5jYWNoZShcInNvcnRMaW5rU3R5bGVcIiwge3doaXRlU3BhY2U6IFwibm93cmFwXCIsIG92ZXJmbG93OiBcImhpZGRlblwifSl9XG4gICAgICAgICAgICB0ZXh0UHJvcHM9e3tlbGxpcHNpemVNb2RlOiBcImNsaXBcIiwgbnVtYmVyT2ZMaW5lczogMSwgc3R5bGU6IHN0eWxlRm9ySGVhZGVyVGV4dCgpfX1cbiAgICAgICAgICAgIHRpdGxlPXt0YWJsZS5oZWFkZXJMYWJlbEZvckNvbHVtbihjb2x1bW4pfVxuICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuc29ydExpbmtQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICB9XG4gICAgICAgIHsoIXRhYmxlU2V0dGluZ0NvbHVtbi5oYXNTb3J0S2V5KCkgfHwgIXF1ZXJ5KSAmJlxuICAgICAgICAgIDxUZXh0IGVsbGlwc2l6ZU1vZGU9XCJjbGlwXCIgbnVtYmVyT2ZMaW5lcz17MX0gc3R5bGU9e3RoaXMuY2FjaGUoXCJoZWFkZXJMYWJlbFN0eWxlXCIsIHtmb250V2VpZ2h0OiBcImJvbGRcIn0pfT5cbiAgICAgICAgICAgIHt0YWJsZS5oZWFkZXJMYWJlbEZvckNvbHVtbihjb2x1bW4pfVxuICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgfVxuICAgICAgPC9WaWV3PlxuICAgIClcbiAgfVxufSkpXG4iXX0=
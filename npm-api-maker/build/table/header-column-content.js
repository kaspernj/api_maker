import BaseComponent from "../base-component.js";
import { digs } from "diggerize";
import memo from "set-state-compare/build/memo.js";
import { View } from "react-native";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
import { shapeComponent } from "set-state-compare/build/shape-component.js";
import SortLink from "../bootstrap/sort-link.js";
import Text from "../utils/text.js";
export default memo(shapeComponent(class ApiMakerTableHeaderColumn extends BaseComponent {
    static propTypes = propTypesExact({
        column: PropTypes.object.isRequired,
        sortLinkProps: PropTypes.object,
        table: PropTypes.object.isRequired,
        tableSettingColumn: PropTypes.object.isRequired
    });
    render() {
        const { column, table, tableSettingColumn } = this.p;
        const { defaultParams } = table.props;
        const { styleForHeaderText } = table.tt;
        const { query } = digs(table.collection, "query");
        const columnProps = table.columnProps(column);
        return (<View dataSet={this.cache("rootViewDataSet", {
                component: "api-maker/table/header-column-content",
                identifier: tableSettingColumn.identifier()
            }, [tableSettingColumn.identifier()])} style={this.cache("rootViewStyle", { display: "flex", flexDirection: "row", alignItems: "center" })} {...columnProps}>
        {tableSettingColumn.hasSortKey() && query &&
                <SortLink attribute={tableSettingColumn.sortKey()} defaultParams={defaultParams} query={query} style={this.cache("sortLinkStyle", { whiteSpace: "nowrap", overflow: "hidden" })} textProps={{ ellipsizeMode: "clip", numberOfLines: 1, style: styleForHeaderText() }} title={table.headerLabelForColumn(column)} {...this.props.sortLinkProps}/>}
        {(!tableSettingColumn.hasSortKey() || !query) &&
                <Text ellipsizeMode="clip" numberOfLines={1} style={this.cache("headerLabelStyle", { fontWeight: "bold" })}>
            {table.headerLabelForColumn(column)}
          </Text>}
      </View>);
    }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLWNvbHVtbi1jb250ZW50LmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJ0YWJsZS9oZWFkZXItY29sdW1uLWNvbnRlbnQuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sYUFBYSxNQUFNLHNCQUFzQixDQUFBO0FBQ2hELE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxXQUFXLENBQUE7QUFDOUIsT0FBTyxJQUFJLE1BQU0saUNBQWlDLENBQUE7QUFDbEQsT0FBTyxFQUFDLElBQUksRUFBQyxNQUFNLGNBQWMsQ0FBQTtBQUNqQyxPQUFPLFNBQVMsTUFBTSxZQUFZLENBQUE7QUFDbEMsT0FBTyxjQUFjLE1BQU0sa0JBQWtCLENBQUE7QUFDN0MsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFBO0FBQ3pCLE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQTtBQUN6RSxPQUFPLFFBQVEsTUFBTSwyQkFBMkIsQ0FBQTtBQUNoRCxPQUFPLElBQUksTUFBTSxrQkFBa0IsQ0FBQTtBQUVuQyxlQUFlLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSx5QkFBMEIsU0FBUSxhQUFhO0lBQ3RGLE1BQU0sQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO1FBQ2hDLE1BQU0sRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7UUFDbkMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQy9CLEtBQUssRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7UUFDbEMsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVO0tBQ2hELENBQUMsQ0FBQTtJQUVGLE1BQU07UUFDSixNQUFNLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7UUFDbEQsTUFBTSxFQUFDLGFBQWEsRUFBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUE7UUFDbkMsTUFBTSxFQUFDLGtCQUFrQixFQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUUsQ0FBQTtRQUNyQyxNQUFNLEVBQUMsS0FBSyxFQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDL0MsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUU3QyxPQUFPLENBQ0wsQ0FBQyxJQUFJLENBQ0gsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBRTtnQkFDckMsU0FBUyxFQUFFLHVDQUF1QztnQkFDbEQsVUFBVSxFQUFFLGtCQUFrQixDQUFDLFVBQVUsRUFBRTthQUM1QyxFQUFFLENBQUMsa0JBQWtCLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQ3RDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLEVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDLENBQ2xHLElBQUksV0FBVyxDQUFDLENBRWhCO1FBQUEsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxLQUFLO2dCQUN2QyxDQUFDLFFBQVEsQ0FDUCxTQUFTLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUN4QyxhQUFhLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FDN0IsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQ2IsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsRUFBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDLENBQy9FLFNBQVMsQ0FBQyxDQUFDLEVBQUMsYUFBYSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxFQUFDLENBQUMsQ0FDbEYsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQzFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFFakMsQ0FDQTtRQUFBLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUMzQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQUUsRUFBQyxVQUFVLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxDQUN2RztZQUFBLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUNyQztVQUFBLEVBQUUsSUFBSSxDQUNSLENBQ0Y7TUFBQSxFQUFFLElBQUksQ0FBQyxDQUNSLENBQUE7SUFDSCxDQUFDO0NBQ0YsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tIFwiLi4vYmFzZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IHtkaWdzfSBmcm9tIFwiZGlnZ2VyaXplXCJcbmltcG9ydCBtZW1vIGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9tZW1vLmpzXCJcbmltcG9ydCB7Vmlld30gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBwcm9wVHlwZXNFeGFjdCBmcm9tIFwicHJvcC10eXBlcy1leGFjdFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7c2hhcGVDb21wb25lbnR9IGZyb20gXCJzZXQtc3RhdGUtY29tcGFyZS9idWlsZC9zaGFwZS1jb21wb25lbnQuanNcIlxuaW1wb3J0IFNvcnRMaW5rIGZyb20gXCIuLi9ib290c3RyYXAvc29ydC1saW5rLmpzXCJcbmltcG9ydCBUZXh0IGZyb20gXCIuLi91dGlscy90ZXh0LmpzXCJcblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhzaGFwZUNvbXBvbmVudChjbGFzcyBBcGlNYWtlclRhYmxlSGVhZGVyQ29sdW1uIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSBwcm9wVHlwZXNFeGFjdCh7XG4gICAgY29sdW1uOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc29ydExpbmtQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB0YWJsZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHRhYmxlU2V0dGluZ0NvbHVtbjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG4gIH0pXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtjb2x1bW4sIHRhYmxlLCB0YWJsZVNldHRpbmdDb2x1bW59ID0gdGhpcy5wXG4gICAgY29uc3Qge2RlZmF1bHRQYXJhbXN9ID0gdGFibGUucHJvcHNcbiAgICBjb25zdCB7c3R5bGVGb3JIZWFkZXJUZXh0fSA9IHRhYmxlLnR0XG4gICAgY29uc3Qge3F1ZXJ5fSA9IGRpZ3ModGFibGUuY29sbGVjdGlvbiwgXCJxdWVyeVwiKVxuICAgIGNvbnN0IGNvbHVtblByb3BzID0gdGFibGUuY29sdW1uUHJvcHMoY29sdW1uKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIGRhdGFTZXQ9e3RoaXMuY2FjaGUoXCJyb290Vmlld0RhdGFTZXRcIiwge1xuICAgICAgICAgIGNvbXBvbmVudDogXCJhcGktbWFrZXIvdGFibGUvaGVhZGVyLWNvbHVtbi1jb250ZW50XCIsXG4gICAgICAgICAgaWRlbnRpZmllcjogdGFibGVTZXR0aW5nQ29sdW1uLmlkZW50aWZpZXIoKVxuICAgICAgICB9LCBbdGFibGVTZXR0aW5nQ29sdW1uLmlkZW50aWZpZXIoKV0pfVxuICAgICAgICBzdHlsZT17dGhpcy5jYWNoZShcInJvb3RWaWV3U3R5bGVcIiwge2Rpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwifSl9XG4gICAgICAgIHsuLi5jb2x1bW5Qcm9wc31cbiAgICAgID5cbiAgICAgICAge3RhYmxlU2V0dGluZ0NvbHVtbi5oYXNTb3J0S2V5KCkgJiYgcXVlcnkgJiZcbiAgICAgICAgICA8U29ydExpbmtcbiAgICAgICAgICAgIGF0dHJpYnV0ZT17dGFibGVTZXR0aW5nQ29sdW1uLnNvcnRLZXkoKX1cbiAgICAgICAgICAgIGRlZmF1bHRQYXJhbXM9e2RlZmF1bHRQYXJhbXN9XG4gICAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgICBzdHlsZT17dGhpcy5jYWNoZShcInNvcnRMaW5rU3R5bGVcIiwge3doaXRlU3BhY2U6IFwibm93cmFwXCIsIG92ZXJmbG93OiBcImhpZGRlblwifSl9XG4gICAgICAgICAgICB0ZXh0UHJvcHM9e3tlbGxpcHNpemVNb2RlOiBcImNsaXBcIiwgbnVtYmVyT2ZMaW5lczogMSwgc3R5bGU6IHN0eWxlRm9ySGVhZGVyVGV4dCgpfX1cbiAgICAgICAgICAgIHRpdGxlPXt0YWJsZS5oZWFkZXJMYWJlbEZvckNvbHVtbihjb2x1bW4pfVxuICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuc29ydExpbmtQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICB9XG4gICAgICAgIHsoIXRhYmxlU2V0dGluZ0NvbHVtbi5oYXNTb3J0S2V5KCkgfHwgIXF1ZXJ5KSAmJlxuICAgICAgICAgIDxUZXh0IGVsbGlwc2l6ZU1vZGU9XCJjbGlwXCIgbnVtYmVyT2ZMaW5lcz17MX0gc3R5bGU9e3RoaXMuY2FjaGUoXCJoZWFkZXJMYWJlbFN0eWxlXCIsIHtmb250V2VpZ2h0OiBcImJvbGRcIn0pfT5cbiAgICAgICAgICAgIHt0YWJsZS5oZWFkZXJMYWJlbEZvckNvbHVtbihjb2x1bW4pfVxuICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgfVxuICAgICAgPC9WaWV3PlxuICAgIClcbiAgfVxufSkpXG4iXX0=
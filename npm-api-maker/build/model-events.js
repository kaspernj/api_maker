import CableConnectionPool from "./cable-connection-pool.js";
import { digg } from "diggerize";
export default class ModelEvents {
    static connect(model, eventName, callback) {
        const modelClassName = digg(model.modelClassData(), "name");
        const cableSubscription = CableConnectionPool.current().connectEvent(modelClassName, model.primaryKey(), eventName, callback);
        return cableSubscription;
    }
    static connectModelClass(modelClass, eventName, callback) {
        const modelClassName = digg(modelClass.modelClassData(), "name");
        const cableSubscription = CableConnectionPool.current().connectModelClassEvent(modelClassName, eventName, callback);
        return cableSubscription;
    }
    static connectCreated(modelClass, callback) {
        const modelClassName = digg(modelClass.modelClassData(), "name");
        const cableSubscription = CableConnectionPool.current().connectCreated(modelClassName, callback);
        return cableSubscription;
    }
    static connectDestroyed(model, callback) {
        const modelClassName = digg(model.modelClassData(), "name");
        const cableSubscription = CableConnectionPool.current().connectDestroyed(modelClassName, model.primaryKey(), callback);
        return cableSubscription;
    }
    static connectUpdated(model, callback) {
        const modelClassName = digg(model.modelClassData(), "name");
        const cableSubscription = CableConnectionPool.current().connectUpdate(modelClassName, model.primaryKey(), callback);
        return cableSubscription;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtZXZlbnRzLmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJtb2RlbC1ldmVudHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxtQkFBbUIsTUFBTSw0QkFBNEIsQ0FBQTtBQUM1RCxPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sV0FBVyxDQUFBO0FBRTlCLE1BQU0sQ0FBQyxPQUFPLE9BQU8sV0FBVztJQUM5QixNQUFNLENBQUMsT0FBTyxDQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsUUFBUTtRQUN4QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQzNELE1BQU0saUJBQWlCLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxFQUFFLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBRTdILE9BQU8saUJBQWlCLENBQUE7SUFDMUIsQ0FBQztJQUVELE1BQU0sQ0FBQyxpQkFBaUIsQ0FBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLFFBQVE7UUFDdkQsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxjQUFjLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUNoRSxNQUFNLGlCQUFpQixHQUFHLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxDQUFDLHNCQUFzQixDQUFDLGNBQWMsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUE7UUFFbkgsT0FBTyxpQkFBaUIsQ0FBQTtJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBRSxVQUFVLEVBQUUsUUFBUTtRQUN6QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGNBQWMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQ2hFLE1BQU0saUJBQWlCLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxFQUFFLENBQUMsY0FBYyxDQUFDLGNBQWMsRUFBRSxRQUFRLENBQUMsQ0FBQTtRQUVoRyxPQUFPLGlCQUFpQixDQUFBO0lBQzFCLENBQUM7SUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUUsS0FBSyxFQUFFLFFBQVE7UUFDdEMsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUMzRCxNQUFNLGlCQUFpQixHQUFHLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxDQUFDLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUE7UUFFdEgsT0FBTyxpQkFBaUIsQ0FBQTtJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBRSxLQUFLLEVBQUUsUUFBUTtRQUNwQyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQzNELE1BQU0saUJBQWlCLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxFQUFFLENBQUMsYUFBYSxDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUE7UUFFbkgsT0FBTyxpQkFBaUIsQ0FBQTtJQUMxQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FibGVDb25uZWN0aW9uUG9vbCBmcm9tIFwiLi9jYWJsZS1jb25uZWN0aW9uLXBvb2wuanNcIlxuaW1wb3J0IHtkaWdnfSBmcm9tIFwiZGlnZ2VyaXplXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWxFdmVudHMge1xuICBzdGF0aWMgY29ubmVjdCAobW9kZWwsIGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBtb2RlbENsYXNzTmFtZSA9IGRpZ2cobW9kZWwubW9kZWxDbGFzc0RhdGEoKSwgXCJuYW1lXCIpXG4gICAgY29uc3QgY2FibGVTdWJzY3JpcHRpb24gPSBDYWJsZUNvbm5lY3Rpb25Qb29sLmN1cnJlbnQoKS5jb25uZWN0RXZlbnQobW9kZWxDbGFzc05hbWUsIG1vZGVsLnByaW1hcnlLZXkoKSwgZXZlbnROYW1lLCBjYWxsYmFjaylcblxuICAgIHJldHVybiBjYWJsZVN1YnNjcmlwdGlvblxuICB9XG5cbiAgc3RhdGljIGNvbm5lY3RNb2RlbENsYXNzIChtb2RlbENsYXNzLCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbW9kZWxDbGFzc05hbWUgPSBkaWdnKG1vZGVsQ2xhc3MubW9kZWxDbGFzc0RhdGEoKSwgXCJuYW1lXCIpXG4gICAgY29uc3QgY2FibGVTdWJzY3JpcHRpb24gPSBDYWJsZUNvbm5lY3Rpb25Qb29sLmN1cnJlbnQoKS5jb25uZWN0TW9kZWxDbGFzc0V2ZW50KG1vZGVsQ2xhc3NOYW1lLCBldmVudE5hbWUsIGNhbGxiYWNrKVxuXG4gICAgcmV0dXJuIGNhYmxlU3Vic2NyaXB0aW9uXG4gIH1cblxuICBzdGF0aWMgY29ubmVjdENyZWF0ZWQgKG1vZGVsQ2xhc3MsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbW9kZWxDbGFzc05hbWUgPSBkaWdnKG1vZGVsQ2xhc3MubW9kZWxDbGFzc0RhdGEoKSwgXCJuYW1lXCIpXG4gICAgY29uc3QgY2FibGVTdWJzY3JpcHRpb24gPSBDYWJsZUNvbm5lY3Rpb25Qb29sLmN1cnJlbnQoKS5jb25uZWN0Q3JlYXRlZChtb2RlbENsYXNzTmFtZSwgY2FsbGJhY2spXG5cbiAgICByZXR1cm4gY2FibGVTdWJzY3JpcHRpb25cbiAgfVxuXG4gIHN0YXRpYyBjb25uZWN0RGVzdHJveWVkIChtb2RlbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBtb2RlbENsYXNzTmFtZSA9IGRpZ2cobW9kZWwubW9kZWxDbGFzc0RhdGEoKSwgXCJuYW1lXCIpXG4gICAgY29uc3QgY2FibGVTdWJzY3JpcHRpb24gPSBDYWJsZUNvbm5lY3Rpb25Qb29sLmN1cnJlbnQoKS5jb25uZWN0RGVzdHJveWVkKG1vZGVsQ2xhc3NOYW1lLCBtb2RlbC5wcmltYXJ5S2V5KCksIGNhbGxiYWNrKVxuXG4gICAgcmV0dXJuIGNhYmxlU3Vic2NyaXB0aW9uXG4gIH1cblxuICBzdGF0aWMgY29ubmVjdFVwZGF0ZWQgKG1vZGVsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG1vZGVsQ2xhc3NOYW1lID0gZGlnZyhtb2RlbC5tb2RlbENsYXNzRGF0YSgpLCBcIm5hbWVcIilcbiAgICBjb25zdCBjYWJsZVN1YnNjcmlwdGlvbiA9IENhYmxlQ29ubmVjdGlvblBvb2wuY3VycmVudCgpLmNvbm5lY3RVcGRhdGUobW9kZWxDbGFzc05hbWUsIG1vZGVsLnByaW1hcnlLZXkoKSwgY2FsbGJhY2spXG5cbiAgICByZXR1cm4gY2FibGVTdWJzY3JpcHRpb25cbiAgfVxufVxuIl19
import { digs } from "diggerize";
import inputWrapper from "../inputs/input-wrapper.js";
import { Select } from "../inputs/select.js";
import InvalidFeedback from "./invalid-feedback.js";
import PropTypes from "prop-types";
import React from "react";
class ApiMakerBootstrapSelect extends React.PureComponent {
    static propTypes = {
        attribute: PropTypes.string,
        className: PropTypes.string,
        description: PropTypes.any,
        id: PropTypes.string,
        hint: PropTypes.any,
        hintBottom: PropTypes.any,
        inputProps: PropTypes.object.isRequired,
        label: PropTypes.any,
        labelContainerClassName: PropTypes.string,
        model: PropTypes.object,
        wrapperClassName: PropTypes.string,
        wrapperOpts: PropTypes.object.isRequired
    };
    render() {
        const { children, className, description, id, inputProps, hint, hintBottom, label, labelContainerClassName, name, wrapperClassName, wrapperOpts, ...restProps } = this.props;
        const { ref, ...forwardedInputProps } = inputProps;
        const { errors } = digs(wrapperOpts, "errors");
        return (<div className={this.wrapperClassName()}>
        {wrapperOpts.label &&
                <div className={labelContainerClassName ? labelContainerClassName : null}>
            <label className={this.labelClassName()} htmlFor={inputProps.id}>
              {wrapperOpts.label}
            </label>
          </div>}
        {description &&
                <div className="mb-4">
            {description}
          </div>}
        {hint &&
                <span className="font-smoothing font-xs form-text text-muted">
            {hint}
          </span>}
        {children}
        {!children &&
                <Select {...forwardedInputProps} className={this.selectClassName()} inputProps={inputProps} inputRef={ref} wrapperOpts={wrapperOpts} {...restProps}/>}
        {hintBottom &&
                <span className="form-text text-muted font-smoothing font-xs">
            {hintBottom}
          </span>}
        {errors.length > 0 && <InvalidFeedback errors={errors}/>}
      </div>);
    }
    labelClassName() {
        const classNames = ["form-group-label"];
        if (this.props.labelClassName)
            classNames.push(this.props.labelClassName);
        return classNames.join(" ");
    }
    selectClassName() {
        const classNames = ["form-control"];
        if (this.props.className)
            classNames.push(this.props.className);
        if (this.props.wrapperOpts.errors.length > 0)
            classNames.push("is-invalid");
        return classNames.join(" ");
    }
    wrapperClassName() {
        const classNames = ["form-group", "component-bootstrap-select"];
        if (this.props.wrapperClassName)
            classNames.push(this.props.wrapperClassName);
        return classNames.join(" ");
    }
}
export default inputWrapper(ApiMakerBootstrapSelect, { type: "select" });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0LmpzIiwic291cmNlUm9vdCI6Ii9zcmMvIiwic291cmNlcyI6WyJib290c3RyYXAvc2VsZWN0LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sV0FBVyxDQUFBO0FBQzlCLE9BQU8sWUFBWSxNQUFNLDRCQUE0QixDQUFBO0FBQ3JELE9BQU8sRUFBQyxNQUFNLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQTtBQUMxQyxPQUFPLGVBQWUsTUFBTSx1QkFBdUIsQ0FBQTtBQUNuRCxPQUFPLFNBQVMsTUFBTSxZQUFZLENBQUE7QUFDbEMsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFBO0FBRXpCLE1BQU0sdUJBQXdCLFNBQVEsS0FBSyxDQUFDLGFBQWE7SUFDdkQsTUFBTSxDQUFDLFNBQVMsR0FBRztRQUNqQixTQUFTLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDM0IsU0FBUyxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQzNCLFdBQVcsRUFBRSxTQUFTLENBQUMsR0FBRztRQUMxQixFQUFFLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDcEIsSUFBSSxFQUFFLFNBQVMsQ0FBQyxHQUFHO1FBQ25CLFVBQVUsRUFBRSxTQUFTLENBQUMsR0FBRztRQUN6QixVQUFVLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxVQUFVO1FBQ3ZDLEtBQUssRUFBRSxTQUFTLENBQUMsR0FBRztRQUNwQix1QkFBdUIsRUFBRSxTQUFTLENBQUMsTUFBTTtRQUN6QyxLQUFLLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDdkIsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDbEMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtLQUN6QyxDQUFBO0lBRUQsTUFBTTtRQUNKLE1BQU0sRUFDSixRQUFRLEVBQ1IsU0FBUyxFQUNULFdBQVcsRUFDWCxFQUFFLEVBQ0YsVUFBVSxFQUNWLElBQUksRUFDSixVQUFVLEVBQ1YsS0FBSyxFQUNMLHVC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QkFBZ0I7UUFDZCxNQUFNLFVBQVUsR0FBRyxDQUFDLFlBQVksRUFBRSw0QkFBNEIsQ0FBQyxDQUFBO1FBRS9ELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0I7WUFBRSxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtRQUU3RSxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDN0IsQ0FBQzs7QUFHSCxlQUFlLFlBQVksQ0FBQyx1QkFBdUIsRUFBRSxFQUFDLElBQUksRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkaWdzfSBmcm9tIFwiZGlnZ2VyaXplXCJcbmltcG9ydCBpbnB1dFdyYXBwZXIgZnJvbSBcIi4uL2lucHV0cy9pbnB1dC13cmFwcGVyLmpzXCJcbmltcG9ydCB7U2VsZWN0fSBmcm9tIFwiLi4vaW5wdXRzL3NlbGVjdC5qc1wiXG5pbXBvcnQgSW52YWxpZEZlZWRiYWNrIGZyb20gXCIuL2ludmFsaWQtZmVlZGJhY2suanNcIlxuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuY2xhc3MgQXBpTWFrZXJCb290c3RyYXBTZWxlY3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBhdHRyaWJ1dGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBQcm9wVHlwZXMuYW55LFxuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGhpbnQ6IFByb3BUeXBlcy5hbnksXG4gICAgaGludEJvdHRvbTogUHJvcFR5cGVzLmFueSxcbiAgICBpbnB1dFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5hbnksXG4gICAgbGFiZWxDb250YWluZXJDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbW9kZWw6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgd3JhcHBlckNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB3cmFwcGVyT3B0czogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBpZCxcbiAgICAgIGlucHV0UHJvcHMsXG4gICAgICBoaW50LFxuICAgICAgaGludEJvdHRvbSxcbiAgICAgIGxhYmVsLFxuICAgICAgbGFiZWxDb250YWluZXJDbGFzc05hbWUsXG4gICAgICBuYW1lLFxuICAgICAgd3JhcHBlckNsYXNzTmFtZSxcbiAgICAgIHdyYXBwZXJPcHRzLFxuICAgICAgLi4ucmVzdFByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7cmVmLCAuLi5mb3J3YXJkZWRJbnB1dFByb3BzfSA9IGlucHV0UHJvcHNcbiAgICBjb25zdCB7ZXJyb3JzfSA9IGRpZ3Mod3JhcHBlck9wdHMsIFwiZXJyb3JzXCIpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMud3JhcHBlckNsYXNzTmFtZSgpfT5cbiAgICAgICAge3dyYXBwZXJPcHRzLmxhYmVsICYmXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2xhYmVsQ29udGFpbmVyQ2xhc3NOYW1lID8gbGFiZWxDb250YWluZXJDbGFzc05hbWUgOiBudWxsfT5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9e3RoaXMubGFiZWxDbGFzc05hbWUoKX0gaHRtbEZvcj17aW5wdXRQcm9wcy5pZH0+XG4gICAgICAgICAgICAgIHt3cmFwcGVyT3B0cy5sYWJlbH1cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAge2Rlc2NyaXB0aW9uICYmXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICB7ZGVzY3JpcHRpb259XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgICAge2hpbnQgJiZcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNtb290aGluZyBmb250LXhzIGZvcm0tdGV4dCB0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICB7aGludH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIH1cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgICB7IWNoaWxkcmVuICYmXG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgey4uLmZvcndhcmRlZElucHV0UHJvcHN9XG4gICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuc2VsZWN0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICBpbnB1dFByb3BzPXtpbnB1dFByb3BzfVxuICAgICAgICAgICAgaW5wdXRSZWY9e3JlZn1cbiAgICAgICAgICAgIHdyYXBwZXJPcHRzPXt3cmFwcGVyT3B0c31cbiAgICAgICAgICAgIHsuLi5yZXN0UHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgfVxuICAgICAgICB7aGludEJvdHRvbSAmJlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvcm0tdGV4dCB0ZXh0LW11dGVkIGZvbnQtc21vb3RoaW5nIGZvbnQteHNcIj5cbiAgICAgICAgICAgIHtoaW50Qm90dG9tfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgfVxuICAgICAgICB7ZXJyb3JzLmxlbmd0aCA+IDAgJiYgPEludmFsaWRGZWVkYmFjayBlcnJvcnM9e2Vycm9yc30gLz59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBsYWJlbENsYXNzTmFtZSAoKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IFtcImZvcm0tZ3JvdXAtbGFiZWxcIl1cblxuICAgIGlmICh0aGlzLnByb3BzLmxhYmVsQ2xhc3NOYW1lKVxuICAgICAgY2xhc3NOYW1lcy5wdXNoKHRoaXMucHJvcHMubGFiZWxDbGFzc05hbWUpXG5cbiAgICByZXR1cm4gY2xhc3NOYW1lcy5qb2luKFwiIFwiKVxuICB9XG5cbiAgc2VsZWN0Q2xhc3NOYW1lICgpIHtcbiAgICBjb25zdCBjbGFzc05hbWVzID0gW1wiZm9ybS1jb250cm9sXCJdXG5cbiAgICBpZiAodGhpcy5wcm9wcy5jbGFzc05hbWUpIGNsYXNzTmFtZXMucHVzaCh0aGlzLnByb3BzLmNsYXNzTmFtZSlcbiAgICBpZiAodGhpcy5wcm9wcy53cmFwcGVyT3B0cy5lcnJvcnMubGVuZ3RoID4gMCkgY2xhc3NOYW1lcy5wdXNoKFwiaXMtaW52YWxpZFwiKVxuXG4gICAgcmV0dXJuIGNsYXNzTmFtZXMuam9pbihcIiBcIilcbiAgfVxuXG4gIHdyYXBwZXJDbGFzc05hbWUgKCkge1xuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBbXCJmb3JtLWdyb3VwXCIsIFwiY29tcG9uZW50LWJvb3RzdHJhcC1zZWxlY3RcIl1cblxuICAgIGlmICh0aGlzLnByb3BzLndyYXBwZXJDbGFzc05hbWUpIGNsYXNzTmFtZXMucHVzaCh0aGlzLnByb3BzLndyYXBwZXJDbGFzc05hbWUpXG5cbiAgICByZXR1cm4gY2xhc3NOYW1lcy5qb2luKFwiIFwiKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlucHV0V3JhcHBlcihBcGlNYWtlckJvb3RzdHJhcFNlbGVjdCwge3R5cGU6IFwic2VsZWN0XCJ9KVxuIl19
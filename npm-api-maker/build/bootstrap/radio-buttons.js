import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { digs } from "diggerize";
import inputWrapper from "../inputs/input-wrapper";
import InvalidFeedback from "./invalid-feedback";
import PropTypes from "prop-types";
import propTypesExact from "prop-types-exact";
import React from "react";
class ApiMakerBootstrapRadioButtons extends React.PureComponent {
    static propTypes = propTypesExact({
        attribute: PropTypes.string,
        collection: PropTypes.array.isRequired,
        defaultValue: PropTypes.oneOfType([
            PropTypes.number,
            PropTypes.string
        ]),
        id: PropTypes.string,
        inputProps: PropTypes.object.isRequired,
        name: PropTypes.string,
        model: PropTypes.object,
        onChange: PropTypes.func,
        onMatchValidationError: PropTypes.func,
        wrapperClassName: PropTypes.string,
        wrapperOpts: PropTypes.object.isRequired
    });
    render() {
        return (_jsxs("div", { className: this.wrapperClassName(), children: [_jsx("input", { ...this.props.inputProps, type: "hidden", value: "" }), this.props.collection.map((option, index) => this.optionElement(option, index))] }));
    }
    inputRadioClassName() {
        const classNames = ["form-check-input"];
        if (this.props.wrapperOpts.errors.length > 0)
            classNames.push("is-invalid");
        return classNames.join(" ");
    }
    generatedId() {
        return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
    }
    optionElement(option, index) {
        const { collection } = digs(this.props, "collection");
        const { onChange } = this.props;
        const id = this.generatedId();
        return (_jsxs("div", { className: "form-check", children: [_jsx("input", { className: this.inputRadioClassName(), "data-option-value": option[1], defaultChecked: option[1] == this.props.inputProps.defaultValue, id: id, name: this.props.inputProps.name, onChange: onChange, type: "radio", value: option[1] }), _jsx("label", { className: "form-check-label", htmlFor: id, children: option[0] }), (index + 1) == collection.length && this.props.wrapperOpts.errors.length > 0 &&
                    _jsx(InvalidFeedback, { errors: this.props.wrapperOpts.errors })] }, `option-${option[1]}`));
    }
    wrapperClassName() {
        const classNames = ["component-bootstrap-radio-buttons"];
        if (this.props.wrapperClassName)
            classNames.push(this.props.wrapperClassName);
        return classNames.join(" ");
    }
}
export default inputWrapper(ApiMakerBootstrapRadioButtons);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFkaW8tYnV0dG9ucy5qcyIsInNvdXJjZVJvb3QiOiIvc3JjLyIsInNvdXJjZXMiOlsiYm9vdHN0cmFwL3JhZGlvLWJ1dHRvbnMuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUMsSUFBSSxFQUFDLE1BQU0sV0FBVyxDQUFBO0FBQzlCLE9BQU8sWUFBWSxNQUFNLHlCQUF5QixDQUFBO0FBQ2xELE9BQU8sZUFBZSxNQUFNLG9CQUFvQixDQUFBO0FBQ2hELE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQTtBQUNsQyxPQUFPLGNBQWMsTUFBTSxrQkFBa0IsQ0FBQTtBQUM3QyxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUE7QUFFekIsTUFBTSw2QkFBOEIsU0FBUSxLQUFLLENBQUMsYUFBYTtJQUM3RCxNQUFNLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztRQUNoQyxTQUFTLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDM0IsVUFBVSxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVTtRQUN0QyxZQUFZLEVBQUUsU0FBUyxDQUFDLFNBQVMsQ0FBQztZQUNoQyxTQUFTLENBQUMsTUFBTTtZQUNoQixTQUFTLENBQUMsTUFBTTtTQUNqQixDQUFDO1FBQ0YsRUFBRSxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3BCLFVBQVUsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVU7UUFDdkMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3RCLEtBQUssRUFBRSxTQUFTLENBQUMsTUFBTTtRQUN2QixRQUFRLEVBQUUsU0FBUyxDQUFDLElBQUk7UUFDeEIsc0JBQXNCLEVBQUUsU0FBUyxDQUFDLElBQUk7UUFDdEMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLE1BQU07UUFDbEMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVTtLQUN6QyxDQUFDLENBQUE7SUFFRixNQUFNO1FBQ0osT0FBTyxDQUNMLGVBQUssU0FBUyxFQUFFLElBQUksQ0FBQyxn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aW1wb3J0IHtkaWdzfSBmcm9tIFwiZGlnZ2VyaXplXCJcbmltcG9ydCBpbnB1dFdyYXBwZXIgZnJvbSBcIi4uL2lucHV0cy9pbnB1dC13cmFwcGVyXCJcbmltcG9ydCBJbnZhbGlkRmVlZGJhY2sgZnJvbSBcIi4vaW52YWxpZC1mZWVkYmFja1wiXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCJcbmltcG9ydCBwcm9wVHlwZXNFeGFjdCBmcm9tIFwicHJvcC10eXBlcy1leGFjdFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuY2xhc3MgQXBpTWFrZXJCb290c3RyYXBSYWRpb0J1dHRvbnMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHByb3BUeXBlc0V4YWN0KHtcbiAgICBhdHRyaWJ1dGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29sbGVjdGlvbjogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gICAgZGVmYXVsdFZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5udW1iZXIsXG4gICAgICBQcm9wVHlwZXMuc3RyaW5nXG4gICAgXSksXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgaW5wdXRQcm9wczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbW9kZWw6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uTWF0Y2hWYWxpZGF0aW9uRXJyb3I6IFByb3BUeXBlcy5mdW5jLFxuICAgIHdyYXBwZXJDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgd3JhcHBlck9wdHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuICB9KVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLndyYXBwZXJDbGFzc05hbWUoKX0+XG4gICAgICAgIDxpbnB1dCB7Li4udGhpcy5wcm9wcy5pbnB1dFByb3BzfSB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9XCJcIiAvPlxuICAgICAgICB7dGhpcy5wcm9wcy5jb2xsZWN0aW9uLm1hcCgob3B0aW9uLCBpbmRleCkgPT4gdGhpcy5vcHRpb25FbGVtZW50KG9wdGlvbiwgaW5kZXgpKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGlucHV0UmFkaW9DbGFzc05hbWUgKCkge1xuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBbXCJmb3JtLWNoZWNrLWlucHV0XCJdXG5cbiAgICBpZiAodGhpcy5wcm9wcy53cmFwcGVyT3B0cy5lcnJvcnMubGVuZ3RoID4gMClcbiAgICAgIGNsYXNzTmFtZXMucHVzaChcImlzLWludmFsaWRcIilcblxuICAgIHJldHVybiBjbGFzc05hbWVzLmpvaW4oXCIgXCIpXG4gIH1cblxuICBnZW5lcmF0ZWRJZCAoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpXG4gIH1cblxuICBvcHRpb25FbGVtZW50IChvcHRpb24sIGluZGV4KSB7XG4gICAgY29uc3Qge2NvbGxlY3Rpb259ID0gZGlncyh0aGlzLnByb3BzLCBcImNvbGxlY3Rpb25cIilcbiAgICBjb25zdCB7b25DaGFuZ2V9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZW5lcmF0ZWRJZCgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWNoZWNrXCIga2V5PXtgb3B0aW9uLSR7b3B0aW9uWzFdfWB9PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuaW5wdXRSYWRpb0NsYXNzTmFtZSgpfVxuICAgICAgICAgIGRhdGEtb3B0aW9uLXZhbHVlPXtvcHRpb25bMV19XG4gICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e29wdGlvblsxXSA9PSB0aGlzLnByb3BzLmlucHV0UHJvcHMuZGVmYXVsdFZhbHVlfVxuICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLmlucHV0UHJvcHMubmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICB2YWx1ZT17b3B0aW9uWzFdfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmb3JtLWNoZWNrLWxhYmVsXCIgaHRtbEZvcj17aWR9PlxuICAgICAgICAgIHtvcHRpb25bMF19XG4gICAgICAgIDwvbGFiZWw+XG5cbiAgICAgICAgeyhpbmRleCArIDEpID09IGNvbGxlY3Rpb24ubGVuZ3RoICYmIHRoaXMucHJvcHMud3JhcHBlck9wdHMuZXJyb3JzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICA8SW52YWxpZEZlZWRiYWNrIGVycm9ycz17dGhpcy5wcm9wcy53cmFwcGVyT3B0cy5lcnJvcnN9IC8+XG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHdyYXBwZXJDbGFzc05hbWUgKCkge1xuICAgIGNvbnN0IGNsYXNzTmFtZXMgPSBbXCJjb21wb25lbnQtYm9vdHN0cmFwLXJhZGlvLWJ1dHRvbnNcIl1cblxuICAgIGlmICh0aGlzLnByb3BzLndyYXBwZXJDbGFzc05hbWUpXG4gICAgICBjbGFzc05hbWVzLnB1c2godGhpcy5wcm9wcy53cmFwcGVyQ2xhc3NOYW1lKVxuXG4gICAgcmV0dXJuIGNsYXNzTmFtZXMuam9pbihcIiBcIilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbnB1dFdyYXBwZXIoQXBpTWFrZXJCb290c3RyYXBSYWRpb0J1dHRvbnMpXG4iXX0=
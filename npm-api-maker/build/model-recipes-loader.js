import { digg, digs } from "diggerize";
import ModelRecipesModelLoader from "./model-recipes-model-loader.js";
export default class ModelRecipesLoader {
    constructor({ recipes }) {
        this.modelClasses = {};
        this.recipes = recipes;
    }
    getModelClass(name) {
        return digg(this, "modelClasses", name);
    }
    load() {
        const { recipes } = digs(this, "recipes");
        const { models } = digs(recipes, "models");
        for (const modelName in models) {
            const modelRecipe = models[modelName];
            const modelClassLoader = new ModelRecipesModelLoader({ modelRecipe, modelRecipesLoader: this });
            const modelClass = modelClassLoader.createClass();
            this.modelClasses[modelName] = modelClass;
        }
        return this.modelClasses;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtcmVjaXBlcy1sb2FkZXIuanMiLCJzb3VyY2VSb290IjoiL3NyYy8iLCJzb3VyY2VzIjpbIm1vZGVsLXJlY2lwZXMtbG9hZGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFDLE1BQU0sV0FBVyxDQUFBO0FBQ3BDLE9BQU8sdUJBQXVCLE1BQU0saUNBQWlDLENBQUE7QUFFckUsTUFBTSxDQUFDLE9BQU8sT0FBTyxrQkFBa0I7SUFDckMsWUFBYSxFQUFDLE9BQU8sRUFBQztRQUNwQixJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQTtRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQTtJQUN4QixDQUFDO0lBRUQsYUFBYSxDQUFFLElBQUk7UUFDakIsT0FBTyxJQUFJLENBQUMsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUN6QyxDQUFDO0lBRUQsSUFBSTtRQUNGLE1BQU0sRUFBQyxPQUFPLEVBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFBO1FBQ3ZDLE1BQU0sRUFBQyxNQUFNLEVBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBRXhDLEtBQUssTUFBTSxTQUFTLElBQUksTUFBTSxFQUFFLENBQUM7WUFDL0IsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQ3JDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSx1QkFBdUIsQ0FBQyxFQUFDLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFBO1lBQzdGLE1BQU0sVUFBVSxHQUFHLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxDQUFBO1lBRWpELElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsVUFBVSxDQUFBO1FBQzNDLENBQUM7UUFFRCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUE7SUFDMUIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkaWdnLCBkaWdzfSBmcm9tIFwiZGlnZ2VyaXplXCJcbmltcG9ydCBNb2RlbFJlY2lwZXNNb2RlbExvYWRlciBmcm9tIFwiLi9tb2RlbC1yZWNpcGVzLW1vZGVsLWxvYWRlci5qc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsUmVjaXBlc0xvYWRlciB7XG4gIGNvbnN0cnVjdG9yICh7cmVjaXBlc30pIHtcbiAgICB0aGlzLm1vZGVsQ2xhc3NlcyA9IHt9XG4gICAgdGhpcy5yZWNpcGVzID0gcmVjaXBlc1xuICB9XG5cbiAgZ2V0TW9kZWxDbGFzcyAobmFtZSkge1xuICAgIHJldHVybiBkaWdnKHRoaXMsIFwibW9kZWxDbGFzc2VzXCIsIG5hbWUpXG4gIH1cblxuICBsb2FkICgpIHtcbiAgICBjb25zdCB7cmVjaXBlc30gPSBkaWdzKHRoaXMsIFwicmVjaXBlc1wiKVxuICAgIGNvbnN0IHttb2RlbHN9ID0gZGlncyhyZWNpcGVzLCBcIm1vZGVsc1wiKVxuXG4gICAgZm9yIChjb25zdCBtb2RlbE5hbWUgaW4gbW9kZWxzKSB7XG4gICAgICBjb25zdCBtb2RlbFJlY2lwZSA9IG1vZGVsc1ttb2RlbE5hbWVdXG4gICAgICBjb25zdCBtb2RlbENsYXNzTG9hZGVyID0gbmV3IE1vZGVsUmVjaXBlc01vZGVsTG9hZGVyKHttb2RlbFJlY2lwZSwgbW9kZWxSZWNpcGVzTG9hZGVyOiB0aGlzfSlcbiAgICAgIGNvbnN0IG1vZGVsQ2xhc3MgPSBtb2RlbENsYXNzTG9hZGVyLmNyZWF0ZUNsYXNzKClcblxuICAgICAgdGhpcy5tb2RlbENsYXNzZXNbbW9kZWxOYW1lXSA9IG1vZGVsQ2xhc3NcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tb2RlbENsYXNzZXNcbiAgfVxufVxuIl19